/**
 * @license AngularJS v1.4.7
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
try{!function(t,e,n){"use strict";function i(t,e){return e=e||Error,function(){var n,i,o=arguments,r=o[0],s="["+(t?t+":":"")+r+"] ",a=o[1];for(s+=a.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+2;return n<o.length?vt(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.4.7/"+(t?t+"/":"")+r,i=2,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-2)+"="+encodeURIComponent(vt(o[i]));return new e(s)}}function o(t){if(null==t||k(t))return!1;var e="length"in Object(t)&&t.length;return!(t.nodeType!==Yi||!e)||(x(t)||Ni(t)||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,n){var i,s;if(t)if(T(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(Ni(t)||o(t)){var a="object"!=typeof t;for(i=0,s=t.length;i<s;i++)(a||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==r)t.forEach(e,n,t);else if($(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)yi.call(t,i)&&e.call(n,t[i],i,t);return t}function s(t,e,n){for(var i=Object.keys(t).sort(),o=0;o<i.length;o++)e.call(n,t[i[o]],i[o]);return i}function a(t){return function(e,n){t(n,e)}}function l(){return++Li}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function u(t,e,n){for(var i=t.$$hashKey,o=0,r=e.length;o<r;++o){var s=e[o];if(w(s)||T(s))for(var a=Object.keys(s),l=0,h=a.length;l<h;l++){var d=a[l],p=s[d];n&&w(p)?C(p)?t[d]=new Date(p.valueOf()):E(p)?t[d]=new RegExp(p):(w(t[d])||(t[d]=Ni(p)?[]:{}),u(t[d],[p],!0)):t[d]=p}}return c(t,i),t}function h(t){return u(t,Ei.call(arguments,1),!1)}function d(t){return u(t,Ei.call(arguments,1),!0)}function p(t){return parseInt(t,10)}function f(t,e){return h(Object.create(t),e)}function m(){}function g(t){return t}function _(t){return function(){return t}}function v(t){return T(t.toString)&&t.toString!==Object.prototype.toString}function y(t){return void 0===t}function b(t){return void 0!==t}function w(t){return null!==t&&"object"==typeof t}function $(t){return null!==t&&"object"==typeof t&&!Ai(t)}function x(t){return"string"==typeof t}function S(t){return"number"==typeof t}function C(t){return"[object Date]"===Di.call(t)}function T(t){return"function"==typeof t}function E(t){return"[object RegExp]"===Di.call(t)}function k(t){return t&&t.window===t}function M(t){return t&&t.$evalAsync&&t.$watch}function D(t){return"[object File]"===Di.call(t)}function A(t){return"[object FormData]"===Di.call(t)}function I(t){return"[object Blob]"===Di.call(t)}function P(t){return"boolean"==typeof t}function L(t){return t&&T(t.then)}function O(t){return Vi.test(Di.call(t))}function N(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function V(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function H(t){return vi(t.nodeName||t[0]&&t[0].nodeName)}function B(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function R(t,e,n,i){if(k(t)||M(t))throw Ii("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(O(e))throw Ii("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e){if(t===e)throw Ii("cpi","Can't copy! Source and destination are identical.");n=n||[],i=i||[],w(t)&&(n.push(t),i.push(e));var o;if(Ni(t)){e.length=0;for(var s=0;s<t.length;s++)e.push(R(t[s],null,n,i))}else{var a=e.$$hashKey;if(Ni(e)?e.length=0:r(e,function(t,n){delete e[n]}),$(t))for(o in t)e[o]=R(t[o],null,n,i);else if(t&&"function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&(e[o]=R(t[o],null,n,i));else for(o in t)yi.call(t,o)&&(e[o]=R(t[o],null,n,i));c(e,a)}}else if(e=t,w(t)){var l;if(n&&-1!==(l=n.indexOf(t)))return i[l];if(Ni(t))return R(t,[],n,i);if(O(t))e=new t.constructor(t);else if(C(t))e=new Date(t.getTime());else if(E(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else{if(!T(t.cloneNode)){var u=Object.create(Ai(t));return R(t,u,n,i)}e=t.cloneNode(!0)}i&&(n.push(t),i.push(e))}return e}function F(t,e){if(Ni(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(w(t)){e=e||{};for(var o in t)"$"===o.charAt(0)&&"$"===o.charAt(1)||(e[o]=t[o])}return e||t}function z(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,o,r=typeof t,s=typeof e;if(r==s&&"object"==r){if(!Ni(t)){if(C(t))return!!C(e)&&z(t.getTime(),e.getTime());if(E(t))return!!E(e)&&t.toString()==e.toString();if(M(t)||M(e)||k(t)||k(e)||Ni(e)||C(e)||E(e))return!1;o=mt();for(i in t)if("$"!==i.charAt(0)&&!T(t[i])){if(!z(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!(i in o)&&"$"!==i.charAt(0)&&b(e[i])&&!T(e[i]))return!1;return!0}if(!Ni(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!z(t[i],e[i]))return!1;return!0}}return!1}function q(t,e,n){return t.concat(Ei.call(e,n))}function j(t,e){return Ei.call(t,e||0)}function Y(t,e){var n=arguments.length>2?j(arguments,2):[];return!T(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,q(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function U(t,i){var o=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?o=n:k(i)?o="$WINDOW":i&&e===i?o="$DOCUMENT":M(i)&&(o="$SCOPE"),o}function W(t,e){return void 0===t?n:(S(e)||(e=e?2:null),JSON.stringify(t,U,e))}function X(t){return x(t)?JSON.parse(t):t}function G(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function J(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function K(t,e,n){return n=n?-1:1,J(t,n*(G(e,t.getTimezoneOffset())-t.getTimezoneOffset()))}function Z(t){t=Si(t).clone();try{t.empty()}catch(t){}var e=Si("<div>").append(t).html();try{return t[0].nodeType===Ui?vi(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+vi(e)})}catch(t){return vi(e)}}function Q(t){try{return decodeURIComponent(t)}catch(t){}}function tt(t){var e={};return r((t||"").split("&"),function(t){var n,i,o;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(i=t.substring(0,n),o=t.substring(n+1)),i=Q(i),b(i)&&(o=!b(o)||Q(o),yi.call(e,i)?Ni(e[i])?e[i].push(o):e[i]=[e[i],o]:e[i]=o))}),e}function et(t){var e=[];return r(t,function(t,n){Ni(t)?r(t,function(t){e.push(it(n,!0)+(!0===t?"":"="+it(t,!0)))}):e.push(it(n,!0)+(!0===t?"":"="+it(t,!0)))}),e.length?e.join("&"):""}function nt(t){return it(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function it(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function ot(t,e){var n,i,o=zi.length;for(i=0;i<o;++i)if(n=zi[i]+e,x(n=t.getAttribute(n)))return n;return null}function rt(t,e){var n,i,o={};r(zi,function(e){var o=e+"app";!n&&t.hasAttribute&&t.hasAttribute(o)&&(n=t,i=t.getAttribute(o))}),r(zi,function(e){var o,r=e+"app";!n&&(o=t.querySelector("["+r.replace(":","\\:")+"]"))&&(n=o,i=o.getAttribute(r))}),n&&(o.strictDi=null!==ot(n,"strict-di"),e(n,i?[i]:[],o))}function st(n,i,o){w(o)||(o={}),o=h({strictDi:!1},o);var s=function(){if(n=Si(n),n.injector()){var t=n[0]===e?"document":Z(n);throw Ii("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(t){t.value("$rootElement",n)}]),o.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var r=Jt(i,o.strictDi);return r.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),r},a=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;if(t&&a.test(t.name)&&(o.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!l.test(t.name))return s();t.name=t.name.replace(l,""),Pi.resumeBootstrap=function(t){return r(t,function(t){i.push(t)}),s()},T(Pi.resumeDeferredBootstrap)&&Pi.resumeDeferredBootstrap()}function at(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function lt(t){var e=Pi.element(t).injector();if(!e)throw Ii("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ct(t,e){return e=e||"_",t.replace(qi,function(t,n){return(n?e:"")+t.toLowerCase()})}function ut(t,e,n){if(!t)throw Ii("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ht(t,e,n){return n&&Ni(t)&&(t=t[t.length-1]),ut(T(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function dt(t,e){if("hasOwnProperty"===t)throw Ii("badname","hasOwnProperty is not a valid {0} name",e)}function pt(t,e,n){if(!e)return t;for(var i,o=e.split("."),r=t,s=o.length,a=0;a<s;a++)i=o[a],t&&(t=(r=t)[i]);return!n&&T(t)?Y(r,t):t}function ft(t){for(var e,n=t[0],i=t[t.length-1],o=1;n!==i&&(n=n.nextSibling);o++)(e||t[o]!==n)&&(e||(e=Si(Ei.call(t,0,o))),e.push(n));return e||t}function mt(){return Object.create(null)}function gt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),o=i("ng"),r=e(t,"angular",Object);return r.$$minErr=r.$$minErr||i,e(r,"module",function(){var t={};return function(i,r,s){return function(t,e){if("hasOwnProperty"===t)throw o("badname","hasOwnProperty is not a valid {0} name",e)}(i,"module"),r&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,e,n,i){return i||(i=o),function(){return i[n||"push"]([t,e,arguments]),u}}function e(t,e){return function(n,r){return r&&T(r)&&(r.$$moduleName=i),o.push([t,e,arguments]),u}}if(!r)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var o=[],a=[],l=[],c=t("$injector","invoke","push",a),u={_invokeQueue:o,_configBlocks:a,_runBlocks:l,requires:r,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:c,run:function(t){return l.push(t),this}};return s&&c(s),u})}})}function _t(t){var e=[];return JSON.stringify(t,function(t,n){if(n=U(t,n),w(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function vt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):y(t)?"undefined":"string"!=typeof t?_t(t):t}function yt(){return++Zi}function bt(t){return t.replace(eo,function(t,e,n,i){return i?n.toUpperCase():n}).replace(no,"Moz$1")}function wt(t){return!so.test(t)}function $t(t){var e=t.nodeType;return e===Yi||!e||e===Xi}function xt(t){for(var e in Ki[t.ng339])return!0;return!1}function St(t,e){var n,i,o,s,a=e.createDocumentFragment(),l=[];if(wt(t))l.push(e.createTextNode(t));else{for(n=n||a.appendChild(e.createElement("div")),i=(ao.exec(t)||["",""])[1].toLowerCase(),o=co[i]||co._default,n.innerHTML=o[1]+t.replace(lo,"<$1></$2>")+o[2],s=o[0];s--;)n=n.lastChild;l=q(l,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",r(l,function(t){a.appendChild(t)}),a}function Ct(t,n){n=n||e;var i;return(i=ro.exec(t))?[n.createElement(i[1])]:(i=St(t,n))?i.childNodes:[]}function Tt(t){if(t instanceof Tt)return t;var e;if(x(t)&&(t=Hi(t),e=!0),!(this instanceof Tt)){if(e&&"<"!=t.charAt(0))throw oo("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Tt(t)}e?Nt(this,Ct(t)):Nt(this,t)}function Et(t){return t.cloneNode(!0)}function kt(t,e){if(e||Dt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,o=n.length;i<o;i++)Dt(n[i])}function Mt(t,e,n,i){if(b(i))throw oo("offargs","jqLite#off() does not support the `selector` argument");var o=At(t),s=o&&o.events,a=o&&o.handle;if(a)if(e)r(e.split(" "),function(e){if(b(n)){var i=s[e];if(B(i||[],n),i&&i.length>0)return}to(t,e,a),delete s[e]});else for(e in s)"$destroy"!==e&&to(t,e,a),delete s[e]}function Dt(t,e){var i=t.ng339,o=i&&Ki[i];if(o){if(e)return void delete o.data[e];o.handle&&(o.events.$destroy&&o.handle({},"$destroy"),Mt(t)),delete Ki[i],t.ng339=n}}function At(t,e){var i=t.ng339,o=i&&Ki[i];return e&&!o&&(t.ng339=i=yt(),o=Ki[i]={events:{},data:{},handle:n}),o}function It(t,e,n){if($t(t)){var i=b(n),o=!i&&e&&!w(e),r=!e,s=At(t,!o),a=s&&s.data;if(i)a[e]=n;else{if(r)return a;if(o)return a&&a[e];h(a,e)}}}function Pt(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Lt(t,e){e&&t.setAttribute&&r(e.split(" "),function(e){t.setAttribute("class",Hi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Hi(e)+" "," ")))})}function Ot(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(e.split(" "),function(t){t=Hi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Hi(n))}}function Nt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Vt(t,e){return Ht(t,"$"+(e||"ngController")+"Controller")}function Ht(t,e,n){t.nodeType==Xi&&(t=t.documentElement);for(var i=Ni(e)?e:[e];t;){for(var o=0,r=i.length;o<r;o++)if(b(n=Si.data(t,i[o])))return n;t=t.parentNode||t.nodeType===Gi&&t.host}}function Bt(t){for(kt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Rt(t,e){e||kt(t);var n=t.parentNode;n&&n.removeChild(t)}function Ft(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Si(n).on("load",e)}function zt(t,e){var n=ho[e.toLowerCase()];return n&&po[H(t)]&&n}function qt(t){return fo[t]}function jt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var o=e[i||n.type],r=o?o.length:0;if(r){if(y(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},r>1&&(o=F(o));for(var a=0;a<r;a++)n.isImmediatePropagationStopped()||o[a].call(t,n)}};return n.elem=t,n}function Yt(){this.$get=function(){return h(Tt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Pt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ot(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Lt(t,e)}})}}function Ut(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||l)():i+":"+t}function Wt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}r(t,this.put,this)}function Xt(t){var e=t.toString().replace(yo,""),n=e.match(go);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Gt(t,e,n){var i,o,s,a;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw x(n)&&n||(n=t.name||Xt(t)),bo("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=t.toString().replace(yo,""),s=o.match(go),r(s[1].split(_o),function(t){t.replace(vo,function(t,e,n){i.push(n)})})}t.$inject=i}}else Ni(t)?(a=t.length-1,ht(t[a],"fn"),i=t.slice(0,a)):ht(t,"fn",!0);return i}function Jt(t,e){function i(t){return function(e,n){if(!w(e))return t(e,n);r(e,a(t))}}function o(t,e){if(dt(t,"service"),(T(e)||Ni(e))&&(e=S.instantiate(e)),!e.$get)throw bo("pget","Provider '{0}' must define $get factory method.",t);return $[t+g]=e}function s(t,e){return function(){var n=E.invoke(e,this);if(y(n))throw bo("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function l(t,e,n){return o(t,{$get:!1!==n?s(t,e):e})}function c(t,e){return l(t,["$injector",function(t){return t.instantiate(e)}])}function u(t,e){return l(t,_(e),!1)}function h(t,e){dt(t,"constant"),$[t]=e,C[t]=e}function d(t,e){var n=S.get(t+g),i=n.$get;n.$get=function(){var t=E.invoke(i,n);return E.invoke(e,null,{$delegate:t})}}function p(t){ut(y(t)||Ni(t),"modulesToLoad","not an array");var e,n=[];return r(t,function(t){function i(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],o=S.get(i[0]);o[i[1]].apply(o,i[2])}}if(!b.get(t)){b.put(t,!0);try{x(t)?(e=Ti(t),n=n.concat(p(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):T(t)?n.push(S.invoke(t)):Ni(t)?n.push(S.invoke(t)):ht(t,"module")}catch(e){throw Ni(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),bo("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}}),n}function f(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===m)throw bo("cdep","Circular dependency found: {0}",e+" <- "+v.join(" <- "));return t[e]}try{return v.unshift(e),t[e]=m,t[e]=n(e,i)}catch(n){throw t[e]===m&&delete t[e],n}finally{v.shift()}}function o(t,n,o,r){"string"==typeof o&&(r=o,o=null);var s,a,l,c=[],u=Jt.$$annotate(t,e,r);for(a=0,s=u.length;a<s;a++){if("string"!=typeof(l=u[a]))throw bo("itkn","Incorrect injection token! Expected service name as string, got {0}",l);c.push(o&&o.hasOwnProperty(l)?o[l]:i(l,r))}return Ni(t)&&(t=t[s]),t.apply(n,c)}function r(t,e,n){var i=Object.create((Ni(t)?t[t.length-1]:t).prototype||null),r=o(t,i,e,n);return w(r)||T(r)?r:i}return{invoke:o,instantiate:r,get:i,annotate:Jt.$$annotate,has:function(e){return $.hasOwnProperty(e+g)||t.hasOwnProperty(e)}}}e=!0===e;var m={},g="Provider",v=[],b=new Wt([],!0),$={$provide:{provider:i(o),factory:i(l),service:i(c),value:i(u),constant:i(h),decorator:d}},S=$.$injector=f($,function(t,e){throw Pi.isString(e)&&v.push(e),bo("unpr","Unknown provider: {0}",v.join(" <- "))}),C={},E=C.$injector=f(C,function(t,e){var i=S.get(t+g,e);return E.invoke(i.$get,i,n,t)});return r(p(t),function(t){t&&E.invoke(t)}),E}function Kt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function o(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===H(t))return e=t,!0}),e}function r(){var t=a.yOffset;if(T(t))t=t();else if(N(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else S(t)||(t=0);return t}function s(t){if(t){t.scrollIntoView();var n=r();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function a(t){t=x(t)?t:n.hash();var e;t?(e=l.getElementById(t))?s(e):(e=o(l.getElementsByName(t)))?s(e):"top"===t&&s(null):s(null)}var l=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Ft(function(){i.$evalAsync(a)})}),a}]}function Zt(t,e){return t||e?t?e?(Ni(t)&&(t=t.join(" ")),Ni(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Qt(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===$o)return n}}function te(t){x(t)&&(t=t.split(" "));var e=mt();return r(t,function(t){t.length&&(e[t]=!0)}),e}function ee(t){return w(t)?t:{}}function ne(t,e,n,i){function o(t){try{t.apply(null,j(arguments,1))}finally{if(0===--v)for(;b.length;)try{b.pop()()}catch(t){n.error(t)}}}function s(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function a(){C=null,c(),u()}function l(){try{return p.state}catch(t){}}function c(){w=l(),w=y(w)?null:w,z(w,k)&&(w=k),k=w}function u(){x===h.url()&&$===w||(x=h.url(),$=w,r(T,function(t){t(h.url(),w)}))}var h=this,d=(e[0],t.location),p=t.history,f=t.setTimeout,g=t.clearTimeout,_={};h.isMock=!1;var v=0,b=[];h.$$completeOutstandingRequest=o,h.$$incOutstandingRequestCount=function(){v++},h.notifyWhenNoOutstandingRequests=function(t){0===v?t():b.push(t)};var w,$,x=d.href,S=e.find("base"),C=null;c(),$=w,h.url=function(e,n,o){if(y(o)&&(o=null),d!==t.location&&(d=t.location),p!==t.history&&(p=t.history),e){var r=$===o;if(x===e&&(!i.history||r))return h;var a=x&&Pe(x)===Pe(e);return x=e,$=o,!i.history||a&&r?(a&&!C||(C=e),n?d.replace(e):a?d.hash=s(e):d.href=e,d.href!==e&&(C=e)):(p[n?"replaceState":"pushState"](o,"",e),c(),$=w),h}return C||d.href.replace(/%27/g,"'")},h.state=function(){return w};var T=[],E=!1,k=null;h.onUrlChange=function(e){return E||(i.history&&Si(t).on("popstate",a),Si(t).on("hashchange",a),E=!0),T.push(e),e},h.$$applicationDestroyed=function(){Si(t).off("hashchange popstate",a)},h.$$checkUrlChange=u,h.baseHref=function(){var t=S.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},h.defer=function(t,e){var n;return v++,n=f(function(){delete _[n],o(t)},e||0),_[n]=!0,n},h.defer.cancel=function(t){return!!_[t]&&(delete _[t],g(t),o(m),!0)}}function ie(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new ne(t,i,e,n)}]}function oe(){this.$get=function(){function t(t,n){function o(t){t!=d&&(p?p==t&&(p=t.n):p=t,r(t.n,t.p),r(t,d),d=t,d.n=null)}function r(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var s=0,a=h({},n,{id:t}),l={},c=n&&n.capacity||Number.MAX_VALUE,u={},d=null,p=null;return e[t]={put:function(t,e){if(!y(e)){if(c<Number.MAX_VALUE){o(u[t]||(u[t]={key:t}))}return t in l||s++,l[t]=e,s>c&&this.remove(p.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=u[t];if(!e)return;o(e)}return l[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=u[t];if(!e)return;e==d&&(d=e.p),e==p&&(p=e.n),r(e.n,e.p),delete u[t]}delete l[t],s--},removeAll:function(){l={},s=0,u={},d=p=null},destroy:function(){l=null,a=null,u=null,delete e[t]},info:function(){return h({},a,{size:s})}}}var e={};return t.info=function(){var t={};return r(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function re(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function se(t,i){function o(t,e,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,o={};return r(t,function(t,r){var s=t.match(i);if(!s)throw Eo("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,r,t,n?"controller bindings definition":"isolate scope definition");o[r]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||r}}),o}function s(t,e){var n={isolateScope:null,bindToController:null};if(w(t.scope)&&(!0===t.bindToController?(n.bindToController=o(t.scope,e,!0),n.isolateScope={}):n.isolateScope=o(t.scope,e,!1)),w(t.bindToController)&&(n.bindToController=o(t.bindToController,e,!0)),w(n.bindToController)){var i=t.controller,r=t.controllerAs;if(!i)throw Eo("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!ue(i,r))throw Eo("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function l(t){var e=t.charAt(0);if(!e||e!==vi(e))throw Eo("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Eo("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var c={},u="Directive",d=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,p=/(([\w\-]+)(?:\:([^;]+))?;?)/,v=V("ngSrc,ngSrcset,src,srcset"),$=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/;this.directive=function e(n,i){return dt(n,"directive"),x(n)?(l(n),ut(i,"directiveFactory"),c.hasOwnProperty(n)||(c[n]=[],t.factory(n+u,["$injector","$exceptionHandler",function(t,e){var i=[];return r(c[n],function(o,r){try{var a=t.invoke(o);T(a)?a={compile:_(a)}:!a.compile&&a.link&&(a.compile=_(a.link)),a.priority=a.priority||0,a.index=r,a.name=a.name||n,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA";var l=a.$$bindings=s(a,a.name);w(l.isolateScope)&&(a.$$isolateBindings=l.isolateScope),a.$$moduleName=o.$$moduleName,i.push(a)}catch(t){e(t)}}),i}])),c[n].push(i)):r(n,a(e)),this},this.aHrefSanitizationWhitelist=function(t){return b(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(t){return b(t)?(C=t,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,i,o,s,a,l,_,b,E,k,D){function A(t,e){try{t.addClass(e)}catch(t){}}function I(t,e,n,i,o){t instanceof Si||(t=Si(t)),r(t,function(e,n){e.nodeType==Ui&&e.nodeValue.match(/\S+/)&&(t[n]=Si(e).wrap("<span></span>").parent()[0])});var s=L(t,e,t,n,i,o);I.$$addScopeClass(t);var a=null;return function(e,n,i){ut(e,"scope"),i=i||{};var o=i.parentBoundTranscludeFn,r=i.transcludeControllers,l=i.futureParentElement;o&&o.$$boundTransclude&&(o=o.$$boundTransclude),a||(a=P(l));var c;if(c="html"!==a?Si(Q(a,Si("<div>").append(t).html())):n?uo.clone.call(t):t,r)for(var u in r)c.data("$"+u+"Controller",r[u].instance);return I.$$addScopeInfo(c,e),n&&n(c,e),s&&s(e,c,c,o),c}}function P(t){var e=t&&t[0];return e&&"foreignobject"!==H(e)&&e.toString().match(/SVG/)?"svg":"html"}function L(t,e,i,o,r,s){function a(t,i,o,r){var s,a,l,c,u,h,d,p,g;if(f){var _=i.length;for(g=new Array(_),u=0;u<m.length;u+=3)d=m[u],g[d]=i[d]}else g=i;for(u=0,h=m.length;u<h;)if(l=g[m[u++]],s=m[u++],a=m[u++],s){if(s.scope){c=t.$new(),I.$$addScopeInfo(Si(l),c);var v=s.$$destroyBindings;v&&(s.$$destroyBindings=null,c.$on("$destroyed",v))}else c=t;p=s.transcludeOnThisElement?O(t,s.transclude,r):!s.templateOnThisElement&&r?r:!r&&e?O(t,e):null,s(a,c,l,o,p,s)}else a&&a(t,l.childNodes,n,r)}for(var l,c,u,h,d,p,f,m=[],g=0;g<t.length;g++)l=new st,c=N(t[g],[],l,0===g?o:n,r),u=c.length?F(c,t[g],l,e,i,null,[],[],s):null,u&&u.scope&&I.$$addScopeClass(l.$$element),d=u&&u.terminal||!(h=t[g].childNodes)||!h.length?null:L(h,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:e),(u||d)&&(m.push(g,u,d),p=!0,f=f||u),s=null;return p?a:null}function O(t,e,n){return function(i,o,r,s,a){return i||(i=t.$new(!1,a),i.$$transcluded=!0),e(i,o,{parentBoundTranscludeFn:n,transcludeControllers:r,futureParentElement:s})}}function N(t,e,n,i,o){var r,s,a=t.nodeType,l=n.$attr;switch(a){case Yi:Y(e,ae(H(t)),"E",i,o);for(var c,u,h,f,m,g,_=t.attributes,v=0,y=_&&_.length;v<y;v++){var b=!1,$=!1;c=_[v],u=c.name,m=Hi(c.value),f=ae(u),(g=dt.test(f))&&(u=u.replace(ko,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var S=f.replace(/(Start|End)$/,"");U(S)&&f===S+"Start"&&(b=u,$=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),h=ae(u.toLowerCase()),l[h]=u,!g&&n.hasOwnProperty(h)||(n[h]=m,zt(t,h)&&(n[h]=!0)),et(t,e,m,h,g),Y(e,h,"A",i,o,b,$)}if(s=t.className,w(s)&&(s=s.animVal),x(s)&&""!==s)for(;r=p.exec(s);)h=ae(r[2]),Y(e,h,"C",i,o)&&(n[h]=Hi(r[3])),s=s.substr(r.index+r[0].length);break;case Ui:if(11===xi)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===Ui;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);K(e,t.nodeValue);break;case Wi:try{r=d.exec(t.nodeValue),r&&(h=ae(r[1]),Y(e,h,"M",i,o)&&(n[h]=Hi(r[2])))}catch(t){}}return e.sort(G),e}function V(t,e,n){var i=[],o=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw Eo("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==Yi&&(t.hasAttribute(e)&&o++,t.hasAttribute(n)&&o--),i.push(t),t=t.nextSibling}while(o>0);else i.push(t);return Si(i)}function R(t,e,n){return function(i,o,r,s,a){return o=V(o[0],e,n),t(i,o,r,s,a)}}function F(t,i,r,s,a,c,u,h,d){function p(t,e,n,i){t&&(n&&(t=R(t,n,i)),t.require=_.require,t.directiveName=v,(D===_||_.$$isolateScope)&&(t=it(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=R(e,n,i)),e.require=_.require,e.directiveName=v,(D===_||_.$$isolateScope)&&(e=it(e,{isolateScope:!0})),h.push(e))}function f(t,e,n,i){var o;if(x(e)){var r=e.match($),s=e.substring(r[0].length),a=r[1]||r[3],l="?"===r[2];if("^^"===a?n=n.parent():(o=i&&i[s],o=o&&o.instance),!o){var c="$"+s+"Controller";o=a?n.inheritedData(c):n.data(c)}if(!o&&!l)throw Eo("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(Ni(e)){o=[];for(var u=0,h=e.length;u<h;u++)o[u]=f(t,e[u],n,i)}return o||null}function m(t,e,n,i,o,r){var s=mt();for(var a in i){var c=i[a],u={$scope:c===D||c.$$isolateScope?o:r,$element:t,$attrs:e,$transclude:n},h=c.controller;"@"==h&&(h=e[c.name]);var d=l(h,u,!0,c.controllerAs);s[c.name]=d,H||t.data("$"+c.name+"Controller",d.instance)}return s}function g(t,e,o,s,a,l){function c(t,e,i){var o;return M(t)||(i=e,e=t,t=n),H&&(o=y),i||(i=H?w.parent():w),a(t,e,o,i,P)}var d,p,g,_,v,y,b,w,$;if(i===o?($=r,w=r.$$element):(w=Si(o),$=new st(w,r)),D&&(v=e.$new(!0)),a&&(b=c,b.$$boundTransclude=a),k&&(y=m(w,$,b,k,v,e)),D&&(I.$$addScopeInfo(w,v,!0,!(A&&(A===D||A===D.$$originalDirective))),I.$$addScopeClass(w,!0),v.$$isolateBindings=D.$$isolateBindings,rt(e,$,v,v.$$isolateBindings,D,v)),y){var x,S,C=D||E;C&&y[C.name]&&(x=C.$$bindings.bindToController,(_=y[C.name])&&_.identifier&&x&&(S=_,l.$$destroyBindings=rt(e,$,_.instance,x,C)));for(d in y){_=y[d];var T=_();T!==_.instance&&(_.instance=T,w.data("$"+d+"Controller",T),_===S&&(l.$$destroyBindings(),l.$$destroyBindings=rt(e,$,T,x,C)))}}for(d=0,p=u.length;d<p;d++)g=u[d],ot(g,g.isolateScope?v:e,w,$,g.require&&f(g.directiveName,g.require,w,y),b);var P=e;for(D&&(D.template||null===D.templateUrl)&&(P=v),t&&t(P,o.childNodes,n,a),d=h.length-1;d>=0;d--)g=h[d],ot(g,g.isolateScope?v:e,w,$,g.require&&f(g.directiveName,g.require,w,y),b)}d=d||{};for(var _,v,y,b,S,C=-Number.MAX_VALUE,E=d.newScopeDirective,k=d.controllerDirectives,D=d.newIsolateScopeDirective,A=d.templateDirective,P=d.nonTlbTranscludeDirective,L=!1,O=!1,H=d.hasElementTranscludeDirective,B=r.$$element=Si(i),F=c,z=s,Y=0,U=t.length;Y<U;Y++){_=t[Y];var G=_.$$start,K=_.$$end;if(G&&(B=V(i,G,K)),y=n,C>_.priority)break;if((S=_.scope)&&(_.templateUrl||(w(S)?(J("new/isolated scope",D||E,_,B),D=_):J("new/isolated scope",D,_,B)),E=E||_),v=_.name,!_.templateUrl&&_.controller&&(S=_.controller,k=k||mt(),J("'"+v+"' controller",k[v],_,B),k[v]=_),(S=_.transclude)&&(L=!0,_.$$tlb||(J("transclusion",P,_,B),P=_),"element"==S?(H=!0,C=_.priority,y=B,B=r.$$element=Si(e.createComment(" "+v+": "+r[v]+" ")),i=B[0],nt(a,j(y),i),z=I(y,s,C,F&&F.name,{nonTlbTranscludeDirective:P})):(y=Si(Et(i)).contents(),B.empty(),z=I(y,s))),_.template)if(O=!0,J("template",A,_,B),A=_,S=T(_.template)?_.template(B,r):_.template,S=ht(S),_.replace){if(F=_,y=wt(S)?[]:ce(Q(_.templateNamespace,Hi(S))),i=y[0],1!=y.length||i.nodeType!==Yi)throw Eo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v,"");nt(a,B,i);var tt={$attr:{}},et=N(i,[],tt),at=t.splice(Y+1,t.length-(Y+1));D&&q(et),t=t.concat(et).concat(at),W(r,tt),U=t.length}else B.html(S);if(_.templateUrl)O=!0,J("template",A,_,B),A=_,_.replace&&(F=_),g=X(t.splice(Y,t.length-Y),B,r,a,L&&z,u,h,{controllerDirectives:k,newScopeDirective:E!==_&&E,newIsolateScopeDirective:D,templateDirective:A,nonTlbTranscludeDirective:P}),U=t.length;else if(_.compile)try{b=_.compile(B,r,z),T(b)?p(null,b,G,K):b&&p(b.pre,b.post,G,K)}catch(t){o(t,Z(B))}_.terminal&&(g.terminal=!0,C=Math.max(C,_.priority))}return g.scope=E&&!0===E.scope,g.transcludeOnThisElement=L,g.templateOnThisElement=O,g.transclude=z,d.hasElementTranscludeDirective=H,g}function q(t){for(var e=0,n=t.length;e<n;e++)t[e]=f(t[e],{$$isolateScope:!0})}function Y(e,n,i,r,s,a,l){if(n===s)return null;var h=null;if(c.hasOwnProperty(n))for(var d,p=t.get(n+u),m=0,g=p.length;m<g;m++)try{d=p[m],(y(r)||r>d.priority)&&-1!=d.restrict.indexOf(i)&&(a&&(d=f(d,{$$start:a,$$end:l})),e.push(d),h=d)}catch(t){o(t)}return h}function U(e){if(c.hasOwnProperty(e))for(var n,i=t.get(e+u),o=0,r=i.length;o<r;o++)if(n=i[o],n.multiElement)return!0;return!1}function W(t,e){var n=e.$attr,i=t.$attr,o=t.$$element;r(t,function(i,o){"$"!=o.charAt(0)&&(e[o]&&e[o]!==i&&(i+=("style"===o?";":" ")+e[o]),t.$set(o,i,!0,n[o]))}),r(e,function(e,r){"class"==r?(A(o,e),t.class=(t.class?t.class+" ":"")+e):"style"==r?(o.attr("style",o.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==r.charAt(0)||t.hasOwnProperty(r)||(t[r]=e,i[r]=n[r])})}function X(t,e,n,i,o,a,l,c){
var u,h,d=[],p=e[0],m=t.shift(),g=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),_=T(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,v=m.templateNamespace;return e.empty(),s(_).then(function(s){var f,y,b,$;if(s=ht(s),m.replace){if(b=wt(s)?[]:ce(Q(v,Hi(s))),f=b[0],1!=b.length||f.nodeType!==Yi)throw Eo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,_);y={$attr:{}},nt(i,e,f);var x=N(f,[],y);w(m.scope)&&q(x),t=x.concat(t),W(n,y)}else f=p,e.html(s);for(t.unshift(g),u=F(t,f,n,o,e,m,a,l,c),r(i,function(t,n){t==f&&(i[n]=e[0])}),h=L(e[0].childNodes,o);d.length;){var S=d.shift(),C=d.shift(),T=d.shift(),E=d.shift(),k=e[0];if(!S.$$destroyed){if(C!==p){var M=C.className;c.hasElementTranscludeDirective&&m.replace||(k=Et(f)),nt(T,Si(C),k),A(Si(k),M)}$=u.transcludeOnThisElement?O(S,u.transclude,E):E,u(h,S,k,i,$,u)}}d=null}),function(t,e,n,i,o){var r=o;e.$$destroyed||(d?d.push(e,n,i,r):(u.transcludeOnThisElement&&(r=O(e,u.transclude,o)),u(h,e,n,i,r,u)))}}function G(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function J(t,e,n,i){function o(t){return t?" (module: "+t+")":""}if(e)throw Eo("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,o(e.$$moduleName),n.name,o(n.$$moduleName),t,Z(i))}function K(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&I.$$addBindingClass(e),function(t,e){var o=e.parent();i||I.$$addBindingClass(o),I.$$addBindingInfo(o,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function Q(t,n){switch(t=vi(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function tt(t,e){if("srcdoc"==e)return E.HTML;var n=H(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?E.RESOURCE_URL:void 0}function et(t,e,n,o,r){var s=tt(t,o);r=v[o]||r;var a=i(n,!0,s,r);if(a){if("multiple"===o&&"select"===H(t))throw Eo("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){var c=l.$$observers||(l.$$observers=mt());if(S.test(o))throw Eo("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=l[o];u!==n&&(a=u&&i(u,!0,s,r),n=u),a&&(l[o]=a(t),(c[o]||(c[o]=[])).$$inter=!0,(l.$$observers&&l.$$observers[o].$$scope||t).$watch(a,function(t,e){"class"===o&&t!=e?l.$updateClass(t,e):l.$set(o,t)}))}}}})}}function nt(t,n,i){var o,r,s=n[0],a=n.length,l=s.parentNode;if(t)for(o=0,r=t.length;o<r;o++)if(t[o]==s){t[o++]=i;for(var c=o,u=c+a-1,h=t.length;c<h;c++,u++)u<h?t[c]=t[u]:delete t[c];t.length-=a-1,t.context===s&&(t.context=i);break}l&&l.replaceChild(i,s);var d=e.createDocumentFragment();d.appendChild(s),Si.hasData(s)&&(Si(i).data(Si(s).data()),Ci?(Oi=!0,Ci.cleanData([s])):delete Si.cache[s[Si.expando]]);for(var p=1,f=n.length;p<f;p++){var m=n[p];Si(m).remove(),d.appendChild(m),delete n[p]}n[0]=i,n.length=1}function it(t,e){return h(function(){return t.apply(null,arguments)},t,e)}function ot(t,e,n,i,r,s){try{t(e,n,i,r,s)}catch(t){o(t,Z(n))}}function rt(t,e,n,o,s,l){var c;r(o,function(o,r){var l,u,h,d,p=o.attrName,f=o.optional,g=o.mode;switch(g){case"@":f||yi.call(e,p)||(n[r]=e[p]=void 0),e.$observe(p,function(t){x(t)&&(n[r]=t)}),e.$$observers[p].$$scope=t,x(e[p])&&(n[r]=i(e[p])(t));break;case"=":if(!yi.call(e,p)){if(f)break;e[p]=void 0}if(f&&!e[p])break;u=a(e[p]),d=u.literal?z:function(t,e){return t===e||t!==t&&e!==e},h=u.assign||function(){throw l=n[r]=u(t),Eo("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",e[p],s.name)},l=n[r]=u(t);var _=function(e){return d(e,n[r])||(d(e,l)?h(t,e=n[r]):n[r]=e),l=e};_.$stateful=!0;var v;v=o.collection?t.$watchCollection(e[p],_):t.$watch(a(e[p],_),null,u.literal),c=c||[],c.push(v);break;case"&":if((u=e.hasOwnProperty(p)?a(e[p]):m)===m&&f)break;n[r]=function(e){return u(t,e)}}});var u=c?function(){for(var t=0,e=c.length;t<e;++t)c[t]()}:m;return l&&u!==m?(l.$on("$destroy",u),m):u}var st=function(t,e){if(e){var n,i,o,r=Object.keys(e);for(n=0,i=r.length;n<i;n++)o=r[n],this[o]=e[o]}else this.$attr={};this.$$element=t};st.prototype={$normalize:ae,$addClass:function(t){t&&t.length>0&&k.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&k.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=le(t,e);n&&n.length&&k.addClass(this.$$element,n);var i=le(e,t);i&&i.length&&k.removeClass(this.$$element,i)},$set:function(t,e,n,i){var s,a=this.$$element[0],l=zt(a,t),c=qt(t),u=t;if(l?(this.$$element.prop(t,e),i=l):c&&(this[c]=e,u=c),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=ct(t,"-")),"a"===(s=H(this.$$element))&&"href"===t||"img"===s&&"src"===t)this[t]=e=D(e,"src"===t);else if("img"===s&&"srcset"===t){for(var h="",d=Hi(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(d)?p:/(,)/,m=d.split(f),g=Math.floor(m.length/2),_=0;_<g;_++){var v=2*_;h+=D(Hi(m[v]),!0),h+=" "+Hi(m[v+1])}var b=Hi(m[2*_]).split(/\s/);h+=D(Hi(b[0]),!0),2===b.length&&(h+=" "+Hi(b[1])),this[t]=e=h}!1!==n&&(null===e||y(e)?this.$$element.removeAttr(i):this.$$element.attr(i,e));var w=this.$$observers;w&&r(w[u],function(t){try{t(e)}catch(t){o(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=mt()),o=i[t]||(i[t]=[]);return o.push(e),_.$evalAsync(function(){o.$$inter||!n.hasOwnProperty(t)||y(n[t])||e(n[t])}),function(){B(o,e)}}};var at=i.startSymbol(),lt=i.endSymbol(),ht="{{"==at||"}}"==lt?g:function(t){return t.replace(/\{\{/g,at).replace(/}}/g,lt)},dt=/^ngAttr[A-Z]/;return I.$$addBindingInfo=C?function(t,e){var n=t.data("$binding")||[];Ni(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:m,I.$$addBindingClass=C?function(t){A(t,"ng-binding")}:m,I.$$addScopeInfo=C?function(t,e,n,i){var o=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(o,e)}:m,I.$$addScopeClass=C?function(t,e){A(t,e?"ng-isolate-scope":"ng-scope")}:m,I}]}function ae(t){return bt(t.replace(ko,""))}function le(t,e){var n="",i=t.split(/\s+/),o=e.split(/\s+/);t:for(var r=0;r<i.length;r++){for(var s=i[r],a=0;a<o.length;a++)if(s==o[a])continue t;n+=(n.length>0?" ":"")+s}return n}function ce(t){t=Si(t);var e=t.length;if(e<=1)return t;for(;e--;){t[e].nodeType===Wi&&ki.call(t,e,1)}return t}function ue(t,e){if(e&&x(e))return e;if(x(t)){var n=Do.exec(t);if(n)return n[3]}}function he(){var t={},e=!1;this.register=function(e,n){dt(e,"controller"),w(e)?h(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,r){function s(t,e,n,o){if(!t||!w(t.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",o,e);t.$scope[e]=n}return function(i,a,l,c){var u,d,p,f;if(l=!0===l,c&&x(c)&&(f=c),x(i)){if(!(d=i.match(Do)))throw Mo("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);p=d[1],f=f||d[3],i=t.hasOwnProperty(p)?t[p]:pt(a.$scope,p,!0)||(e?pt(r,p,!0):n),ht(i,p,!0)}if(l){var m=(Ni(i)?i[i.length-1]:i).prototype;u=Object.create(m||null),f&&s(a,f,u,p||i.name);return h(function(){var t=o.invoke(i,u,a,p);return t!==u&&(w(t)||T(t))&&(u=t,f&&s(a,f,u,p||i.name)),u},{instance:u,identifier:f})}return u=o.instantiate(i,a,p),f&&s(a,f,u,p||i.name),u}}]}function de(){this.$get=["$window",function(t){return Si(t.document)}]}function pe(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function fe(t){return w(t)?C(t)?t.toISOString():W(t):t}function me(){this.$get=function(){return function(t){if(!t)return"";var e=[];return s(t,function(t,n){null===t||y(t)||(Ni(t)?r(t,function(t,i){e.push(it(n)+"="+it(fe(t)))}):e.push(it(n)+"="+it(fe(t))))}),e.join("&")}}}function ge(){this.$get=function(){return function(t){function e(t,i,o){null===t||y(t)||(Ni(t)?r(t,function(t,n){e(t,i+"["+(w(t)?n:"")+"]")}):w(t)&&!C(t)?s(t,function(t,n){e(t,i+(o?"":"[")+n+(o?"":"]"))}):n.push(it(i)+"="+it(fe(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function _e(t,e){if(x(t)){var n=t.replace(No,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(Io)||ve(n))&&(t=X(n))}}return t}function ve(t){var e=t.match(Lo);return e&&Oo[e[0]].test(t)}function ye(t){function e(t,e){t&&(i[t]=i[t]?i[t]+", "+e:e)}var n,i=mt();return x(t)?r(t.split("\n"),function(t){n=t.indexOf(":"),e(vi(Hi(t.substr(0,n))),Hi(t.substr(n+1)))}):w(t)&&r(t,function(t,n){e(vi(n),Hi(t))}),i}function be(t){var e;return function(n){if(e||(e=ye(t)),n){var i=e[vi(n)];return void 0===i&&(i=null),i}return e}}function we(t,e,n,i){return T(i)?i(t,e,n):(r(i,function(i){t=i(t,e,n)}),t)}function $e(t){return 200<=t&&t<300}function xe(){var t=this.defaults={transformResponse:[_e],transformRequest:[function(t){return!w(t)||D(t)||I(t)||A(t)?t:W(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:F(Po),put:F(Po),patch:F(Po)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return b(t)?(e=!!t,this):e};var o=!0;this.useLegacyPromiseExtensions=function(t){return b(t)?(o=!!t,this):o};var s=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,l,c,u,d,p){function f(e){function s(t){var e=h({},t);return t.data?e.data=we(t.data,t.headers,t.status,l.transformResponse):e.data=t.data,$e(t.status)?e:d.reject(e)}function a(t,e){var n,i={};return r(t,function(t,o){T(t)?null!=(n=t(e))&&(i[o]=n):i[o]=t}),i}if(!Pi.isObject(e))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var l=h({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);l.headers=function(e){var n,i,o,r=t.headers,s=h({},e.headers);r=h({},r.common,r[vi(e.method)]);t:for(n in r){i=vi(n);for(o in s)if(vi(o)===i)continue t;s[n]=r[n]}return a(s,F(e))}(e),l.method=bi(l.method),l.paramSerializer=x(l.paramSerializer)?p.get(l.paramSerializer):l.paramSerializer;var c=function(e){var i=e.headers,o=we(e.data,be(i),n,e.transformRequest);return y(o)&&r(i,function(t,e){"content-type"===vi(e)&&delete i[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,o).then(s,s)},u=[c,n],f=d.when(l);for(r(v,function(t){(t.request||t.requestError)&&u.unshift(t.request,t.requestError),(t.response||t.responseError)&&u.push(t.response,t.responseError)});u.length;){var g=u.shift(),_=u.shift();f=f.then(g,_)}return o?(f.success=function(t){return ht(t,"fn"),f.then(function(e){t(e.data,e.status,e.headers,l)}),f},f.error=function(t){return ht(t,"fn"),f.then(null,function(e){t(e.data,e.status,e.headers,l)}),f}):(f.success=Ho("success"),f.error=Ho("error")),f}function m(i,o){function r(t,n,i,o){function r(){s(n,t,i,o)}p&&($e(t)?p.put(S,[t,n,ye(i),o]):p.remove(S)),e?u.$applyAsync(r):(r(),u.$$phase||u.$apply())}function s(t,e,n,o){e=e>=-1?e:0,($e(e)?v.resolve:v.reject)({data:t,status:e,headers:be(n),config:i,statusText:o})}function c(t){s(t.data,t.status,F(t.headers()),t.statusText)}function h(){var t=f.pendingRequests.indexOf(i);-1!==t&&f.pendingRequests.splice(t,1)}var p,m,v=d.defer(),$=v.promise,x=i.headers,S=g(i.url,i.paramSerializer(i.params));if(f.pendingRequests.push(i),$.then(h,h),!i.cache&&!t.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(p=w(i.cache)?i.cache:w(t.cache)?t.cache:_),p&&(m=p.get(S),b(m)?L(m)?m.then(c,c):Ni(m)?s(m[1],m[0],F(m[2]),m[3]):s(m,200,{},"OK"):p.put(S,$)),y(m)){var C=Cn(i.url)?l()[i.xsrfCookieName||t.xsrfCookieName]:n;C&&(x[i.xsrfHeaderName||t.xsrfHeaderName]=C),a(i.method,S,o,r,x,i.timeout,i.withCredentials,i.responseType)}return $}function g(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var _=c("$http");t.paramSerializer=x(t.paramSerializer)?p.get(t.paramSerializer):t.paramSerializer;var v=[];return r(s,function(t){v.unshift(x(t)?p.get(t):p.invoke(t))}),f.pendingRequests=[],function(t){r(arguments,function(t){f[t]=function(e,n){return f(h({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){r(arguments,function(t){f[t]=function(e,n,i){return f(h({},i||{},{method:t,url:e,data:n}))}})}("post","put","patch"),f.defaults=t,f}]}function Se(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Ce(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,i){return Te(t,i,t.defer,e.angular.callbacks,n[0])}]}function Te(t,e,n,i,o){function s(t,e,n){var r=o.createElement("script"),s=null;return r.type="text/javascript",r.src=t,r.async=!0,s=function(t){to(r,"load",s),to(r,"error",s),o.body.removeChild(r),r=null;var a=-1,l="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),l=t.type,a="error"===t.type?404:200),n&&n(a,l)},Qi(r,"load",s),Qi(r,"error",s),o.body.appendChild(r),s}return function(o,a,l,c,u,h,d,p){function f(){v&&v(),w&&w.abort()}function g(e,i,o,r,s){b(x)&&n.cancel(x),v=w=null,e(i,o,r,s),t.$$completeOutstandingRequest(m)}if(t.$$incOutstandingRequestCount(),a=a||t.url(),"jsonp"==vi(o)){var _="_"+(i.counter++).toString(36);i[_]=function(t){i[_].data=t,i[_].called=!0};var v=s(a.replace("JSON_CALLBACK","angular.callbacks."+_),_,function(t,e){g(c,t,i[_].data,"",e),i[_]=m})}else{var w=e(o,a);w.open(o,a,!0),r(u,function(t,e){b(t)&&w.setRequestHeader(e,t)}),w.onload=function(){var t=w.statusText||"",e="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=e?200:"file"==Sn(a).protocol?404:0),g(c,n,e,w.getAllResponseHeaders(),t)};var $=function(){g(c,-1,null,null,"")};if(w.onerror=$,w.onabort=$,d&&(w.withCredentials=!0),p)try{w.responseType=p}catch(t){if("json"!==p)throw t}w.send(y(l)?null:l)}if(h>0)var x=n(f,h);else L(h)&&h.then(f)}}function Ee(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,o){function r(t){return"\\\\\\"+t}function s(n){return n.replace(d,t).replace(p,e)}function a(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=W(t)}return t}function l(r,l,d,p){function f(t){try{return t=k(t),p&&!b(t)?t:a(t)}catch(t){i(Bo.interr(r,t))}}p=!!p;for(var m,g,_,v=0,w=[],$=[],x=r.length,S=[],C=[];v<x;){if(-1==(m=r.indexOf(t,v))||-1==(g=r.indexOf(e,m+c))){v!==x&&S.push(s(r.substring(v)));break}v!==m&&S.push(s(r.substring(v,m))),_=r.substring(m+c,g),w.push(_),$.push(n(_,f)),v=g+u,C.push(S.length),S.push("")}if(d&&S.length>1&&Bo.throwNoconcat(r),!l||w.length){var E=function(t){for(var e=0,n=w.length;e<n;e++){if(p&&y(t[e]))return;S[C[e]]=t[e]}return S.join("")},k=function(t){return d?o.getTrusted(d,t):o.valueOf(t)};return h(function(t){var e=0,n=w.length,o=new Array(n);try{for(;e<n;e++)o[e]=$[e](t);return E(o)}catch(t){i(Bo.interr(r,t))}},{exp:r,expressions:w,$$watchDelegate:function(t,e){var n;return t.$watchGroup($,function(i,o){var r=E(i);T(e)&&e.call(this,r,i!==o?n:r,t),n=r})}})}}var c=t.length,u=e.length,d=new RegExp(t.replace(/./g,r),"g"),p=new RegExp(e.replace(/./g,r),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function ke(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function o(o,s,a,l){var c=arguments.length>4,u=c?j(arguments,4):[],h=e.setInterval,d=e.clearInterval,p=0,f=b(l)&&!l,m=(f?i:n).defer(),g=m.promise;return a=b(a)?a:0,g.then(null,null,c?function(){o.apply(null,u)}:o),g.$$intervalId=h(function(){m.notify(p++),a>0&&p>=a&&(m.resolve(p),d(g.$$intervalId),delete r[g.$$intervalId]),f||t.$apply()},s),r[g.$$intervalId]=m,g}var r={};return o.cancel=function(t){return!!(t&&t.$$intervalId in r)&&(r[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete r[t.$$intervalId],!0)},o}]}function Me(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=nt(e[n]);return e.join("/")}function De(t,e){var n=Sn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||Fo[n.protocol]||null}function Ae(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Sn(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=tt(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ie(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function Pe(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Le(t){return t.replace(/(#.+)|#$/,"$1")}function Oe(t){return t.substr(0,Pe(t).lastIndexOf("/")+1)}function Ne(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ve(t,e,n){this.$$html5=!0,n=n||"",De(t,this),this.$$parse=function(t){var n=Ie(e,t);if(!x(n))throw zo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Ae(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=et(this.$$search),n=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Me(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var r,s,a;return b(r=Ie(t,i))?(s=r,a=b(r=Ie(n,r))?e+(Ie("/",r)||r):t+s):b(r=Ie(e,i))?a=e+r:e==i+"/"&&(a=e),a&&this.$$parse(a),!!a}}function He(t,e,n){De(t,this),this.$$parse=function(i){var o,r=Ie(t,i)||Ie(e,i);y(r)||"#"!==r.charAt(0)?this.$$html5?o=r:(o="",y(r)&&(t=i,this.replace())):(o=Ie(n,r),y(o)&&(o=r)),Ae(o,this),this.$$path=function(t,e,n){var i,o=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),o.exec(e)?t:(i=o.exec(t),i?i[1]:t)}(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=et(this.$$search),i=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Me(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Pe(t)==Pe(e)&&(this.$$parse(e),!0)}}function Be(t,e,n){this.$$html5=!0,He.apply(this,arguments),this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var r,s;return t==Pe(i)?r=i:(s=Ie(e,i))?r=t+n+s:e===i+"/"&&(r=e),r&&this.$$parse(r),!!r},this.$$compose=function(){var e=et(this.$$search),i=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Me(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function Re(t){return function(){return this[t]}}function Fe(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function ze(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(t){return P(t)?(e.enabled=t,this):w(t)?(P(t.enabled)&&(e.enabled=t.enabled),P(t.requireBase)&&(e.requireBase=t.requireBase),P(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,o,r,s){function a(t,e,n){var o=c.url(),r=c.$$state;try{i.url(t,e,n),c.$$state=i.state()}catch(t){throw c.url(o),c.$$state=r,t}}function l(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,u,h,d=i.baseHref(),p=i.url();if(e.enabled){if(!d&&e.requireBase)throw zo("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=Ne(p)+(d||"/"),u=o.history?Ve:Be}else h=Pe(p),u=He;var f=Oe(h);c=new u(h,f,"#"+t),c.$$parseLinkUrl(p,p),c.$$state=i.state();var m=/^\s*(javascript|mailto):/i;r.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var o=Si(t.target);"a"!==H(o[0]);)if(o[0]===r[0]||!(o=o.parent())[0])return;var a=o.prop("href"),l=o.attr("href")||o.attr("xlink:href");w(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=Sn(a.animVal).href),m.test(a)||!a||o.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(a,l)&&(t.preventDefault(),c.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),Le(c.absUrl())!=Le(p)&&i.url(c.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){if(y(Ie(f,t)))return void(s.location.href=t);n.$evalAsync(function(){var i,o=c.absUrl(),r=c.$$state;c.$$parse(t),c.$$state=e,i=n.$broadcast("$locationChangeStart",t,o,e,r).defaultPrevented,c.absUrl()===t&&(i?(c.$$parse(o),c.$$state=r,a(o,!1,r)):(g=!1,l(o,r)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=Le(i.url()),e=Le(c.absUrl()),r=i.state(),s=c.$$replace,u=t!==e||c.$$html5&&o.history&&r!==c.$$state;(g||u)&&(g=!1,n.$evalAsync(function(){var e=c.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,c.$$state,r).defaultPrevented;c.absUrl()===e&&(i?(c.$$parse(t),c.$$state=r):(u&&a(e,s,r===c.$$state?null:c.$$state),l(t,r)))})),c.$$replace=!1}),c}]}function qe(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=n.console||{},o=e[t]||e.log||m,s=!1;try{s=!!o.apply}catch(t){}return s?function(){var t=[];return r(arguments,function(e){t.push(i(e))}),o.apply(e,t)}:function(t,e){o(t,null==e?"":e)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function je(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw jo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Ye(t,e){if(t+="",!x(t))throw jo("iseccst","Cannot convert object to primitive value! Expression: {0}",e);return t}function Ue(t,e){if(t){if(t.constructor===t)throw jo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw jo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw jo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw jo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function We(t,e){if(t){if(t.constructor===t)throw jo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===Yo||t===Uo||t===Wo)throw jo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Xe(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw jo("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}function Ge(t,e){return void 0!==t?t:e}function Je(t,e){return void 0===t?e:void 0===e?t:t+e}function Ke(t,e){return!t(e).$stateful}function Ze(t,e){var n,i;switch(t.type){case Ko.Program:n=!0,r(t.body,function(t){Ze(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Ko.Literal:t.constant=!0,t.toWatch=[];break;case Ko.UnaryExpression:Ze(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Ko.BinaryExpression:Ze(t.left,e),Ze(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Ko.LogicalExpression:Ze(t.left,e),Ze(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Ko.ConditionalExpression:Ze(t.test,e),Ze(t.alternate,e),Ze(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Ko.Identifier:t.constant=!1,t.toWatch=[t];break;case Ko.MemberExpression:Ze(t.object,e),t.computed&&Ze(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Ko.CallExpression:n=!!t.filter&&Ke(e,t.callee.name),i=[],r(t.arguments,function(t){Ze(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&Ke(e,t.callee.name)?i:[t];break;case Ko.AssignmentExpression:Ze(t.left,e),Ze(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Ko.ArrayExpression:n=!0,i=[],r(t.elements,function(t){Ze(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case Ko.ObjectExpression:n=!0,i=[],r(t.properties,function(t){Ze(t.value,e),n=n&&t.value.constant,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case Ko.ThisExpression:t.constant=!1,t.toWatch=[]}}function Qe(t){if(1==t.length){var e=t[0].expression,i=e.toWatch;return 1!==i.length?i:i[0]!==e?i:n}}function tn(t){return t.type===Ko.Identifier||t.type===Ko.MemberExpression}function en(t){if(1===t.body.length&&tn(t.body[0].expression))return{type:Ko.AssignmentExpression,left:t.body[0].expression,right:{type:Ko.NGValueParameter},operator:"="}}function nn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Ko.Literal||t.body[0].expression.type===Ko.ArrayExpression||t.body[0].expression.type===Ko.ObjectExpression)}function on(t){return t.constant}function rn(t,e){this.astBuilder=t,this.$filter=e}function sn(t,e){this.astBuilder=t,this.$filter=e}function an(t){return"constructor"==t}function ln(t){return T(t.valueOf)?t.valueOf():Qo.call(t)}function cn(){var t=mt(),e=mt();this.$get=["$filter",function(i){function o(t,e){return null==t||null==e?t===e:("object"!=typeof t||"object"!=typeof(t=ln(t)))&&(t===e||t!==t&&e!==e)}function s(t,e,i,r,s){var a,l=r.inputs;if(1===l.length){var c=o;return l=l[0],t.$watch(function(t){var e=l(t);return o(e,c)||(a=r(t,n,n,[e]),c=e&&ln(e)),a},e,i,s)}for(var u=[],h=[],d=0,p=l.length;d<p;d++)u[d]=o,h[d]=null;return t.$watch(function(t){for(var e=!1,i=0,s=l.length;i<s;i++){var c=l[i](t);(e||(e=!o(c,u[i])))&&(h[i]=c,u[i]=c&&ln(c))}return e&&(a=r(t,n,n,h)),a},e,i,s)}function a(t,e,n,i){var o,r;return o=t.$watch(function(t){return i(t)},function(t,n,i){r=t,T(e)&&e.apply(this,arguments),b(t)&&i.$$postDigest(function(){b(r)&&o()})},n)}function l(t,e,n,i){function o(t){var e=!0;return r(t,function(t){b(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return i(t)},function(t,n,i){a=t,T(e)&&e.call(this,t,n,i),o(t)&&i.$$postDigest(function(){o(a)&&s()})},n)}function c(t,e,n,i){var o;return o=t.$watch(function(t){return i(t)},function(t,n,i){T(e)&&e.apply(this,arguments),o()},n)}function u(t,e){if(!e)return t;var n=t.$$watchDelegate,i=n!==l&&n!==a,o=i?function(n,i,o,r){var s=t(n,i,o,r);return e(s,n,i)}:function(n,i,o,r){var s=t(n,i,o,r),a=e(s,n,i);return b(s)?a:s};return t.$$watchDelegate&&t.$$watchDelegate!==s?o.$$watchDelegate=t.$$watchDelegate:e.$stateful||(o.$$watchDelegate=s,o.inputs=t.inputs?t.inputs:[t]),o}var h=Ri().noUnsafeEval,d={csp:h,expensiveChecks:!1},p={csp:h,expensiveChecks:!0};return function(n,o,r){var h,f,g;switch(typeof n){case"string":n=n.trim(),g=n;var _=r?e:t;if(!(h=_[g])){":"===n.charAt(0)&&":"===n.charAt(1)&&(f=!0,n=n.substring(2));var v=r?p:d,y=new Jo(v);h=new Zo(y,i,v).parse(n),h.constant?h.$$watchDelegate=c:f?h.$$watchDelegate=h.literal?l:a:h.inputs&&(h.$$watchDelegate=s),_[g]=h}return u(h,o);case"function":return u(n,o);default:return m}}}]}function un(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return dn(function(e){t.$evalAsync(e)},e)}]}function hn(){this.$get=["$browser","$exceptionHandler",function(t,e){return dn(function(e){t.defer(e)},e)}]}function dn(t,e){function o(t,e,n){function i(e){return function(n){o||(o=!0,e.call(t,n))}}var o=!1;return[i(e),i(n)]}function s(){this.$$state={status:0}}function a(t,e){return function(n){e.call(t,n)}}function l(t){var i,o,r;r=t.pending,t.processScheduled=!1,t.pending=n;for(var s=0,a=r.length;s<a;++s){o=r[s][0],i=r[s][t.status];try{T(i)?o.resolve(i(t.value)):1===t.status?o.resolve(t.value):o.reject(t.value)}catch(t){o.reject(t),e(t)}}}function c(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){l(e)}))}function u(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}function d(t){var e=new u,n=0,i=Ni(t)?[]:{};return r(t,function(t,o){n++,v(t).then(function(t){i.hasOwnProperty(o)||(i[o]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(o)||e.reject(t)})}),0===n&&e.resolve(i),e.promise}var p=i("$q",TypeError),f=function(){return new u};h(s.prototype,{then:function(t,e,n){if(y(t)&&y(e)&&y(n))return this;var i=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&c(this.$$state),i.promise},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return _(e,!0,t)},function(e){return _(e,!1,t)},e)}}),h(u.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=o(this,this.$$resolve,this.$$reject);try{(w(t)||T(t))&&(n=t&&t.then),T(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,c(this.promise.$$state))}catch(t){i[1](t),e(t)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,o,r=0,s=i.length;r<s;r++){o=i[r][0],t=i[r][3];try{o.notify(T(t)?t(n):n)}catch(t){e(t)}}})}});var m=function(t){var e=new u;return e.reject(t),e.promise},g=function(t,e){var n=new u;return e?n.resolve(t):n.reject(t),n.promise},_=function(t,e,n){var i=null;try{T(n)&&(i=n())}catch(t){return g(t,!1)}return L(i)?i.then(function(){return g(t,e)},function(t){return g(t,!1)}):g(t,e)},v=function(t,e,n,i){var o=new u;return o.resolve(t),o.promise.then(e,n,i)},b=v,$=function t(e){function n(t){o.resolve(t)}function i(t){o.reject(t)}if(!T(e))throw p("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof t))return new t(e);var o=new u;return e(n,i),o.promise};return $.defer=f,$.reject=m,$.when=v,$.resolve=b,$.all=d,$}function pn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,o=!!n,r=o?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return r.supported=o,r}]}function fn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=i("$rootScope"),s=null,a=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,c,u,h){function d(t){t.currentScope.$$destroyed=!0}function p(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(t){if(S.$$phase)throw n("inprog","{0} already in progress",S.$$phase);S.$$phase=t}function g(){S.$$phase=null}function _(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function v(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function b(){}function $(){for(;k.length;)try{k.shift()()}catch(t){c(t)}a=null}function x(){null===a&&(a=h.defer(function(){S.$apply($)}))}p.prototype={constructor:p,$new:function(e,n){var i;return n=n||this,e?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),
i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",d),i},$watch:function(t,e,n,i){var o=u(t);if(o.$$watchDelegate)return o.$$watchDelegate(this,e,n,o,t);var r=this,a=r.$$watchers,l={fn:e,last:b,get:o,exp:i||t,eq:!!n};return s=null,T(e)||(l.fn=m),a||(a=r.$$watchers=[]),a.unshift(l),_(this,1),function(){B(a,l)>=0&&_(r,-1),s=null}},$watchGroup:function(t,e){function n(){l=!1,c?(c=!1,e(o,o,a)):e(o,i,a)}var i=new Array(t.length),o=new Array(t.length),s=[],a=this,l=!1,c=!0;if(!t.length){var u=!0;return a.$evalAsync(function(){u&&e(o,o,a)}),function(){u=!1}}return 1===t.length?this.$watch(t[0],function(t,n,r){o[0]=t,i[0]=n,e(o,t===n?o:i,r)}):(r(t,function(t,e){var r=a.$watch(t,function(t,r){o[e]=t,i[e]=r,l||(l=!0,a.$evalAsync(n))});s.push(r)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function n(t){r=t;var e,n,i,a;if(!y(r)){if(w(r))if(o(r)){s!==p&&(s=p,g=s.length=0,h++),e=r.length,g!==e&&(h++,s.length=g=e);for(var l=0;l<e;l++)a=s[l],i=r[l],a!==a&&i!==i||a===i||(h++,s[l]=i)}else{s!==f&&(s=f={},g=0,h++),e=0;for(n in r)yi.call(r,n)&&(e++,i=r[n],a=s[n],n in s?a!==a&&i!==i||a===i||(h++,s[n]=i):(g++,s[n]=i,h++));if(g>e){h++;for(n in s)yi.call(r,n)||(g--,delete s[n])}}else s!==r&&(s=r,h++);return h}}function i(){if(m?(m=!1,e(r,r,l)):e(r,a,l),c)if(w(r))if(o(r)){a=new Array(r.length);for(var t=0;t<r.length;t++)a[t]=r[t]}else{a={};for(var n in r)yi.call(r,n)&&(a[n]=r[n])}else a=r}n.$stateful=!0;var r,s,a,l=this,c=e.length>1,h=0,d=u(t,n),p=[],f={},m=!0,g=0;return this.$watch(d,i)},$digest:function(){var t,i,o,r,l,u,d,p,m,_,v=e,y=this,w=[];f("$digest"),h.$$checkUrlChange(),this===S&&null!==a&&(h.defer.cancel(a),$()),s=null;do{for(u=!1,p=y;C.length;){try{_=C.shift(),_.scope.$eval(_.expression,_.locals)}catch(t){c(t)}s=null}t:do{if(r=p.$$watchers)for(l=r.length;l--;)try{if(t=r[l])if((i=t.get(p))===(o=t.last)||(t.eq?z(i,o):"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))){if(t===s){u=!1;break t}}else u=!0,s=t,t.last=t.eq?R(i,null):i,t.fn(i,o===b?i:o,p),v<5&&(m=4-v,w[m]||(w[m]=[]),w[m].push({msg:T(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:o}))}catch(t){c(t)}if(!(d=p.$$watchersCount&&p.$$childHead||p!==y&&p.$$nextSibling))for(;p!==y&&!(d=p.$$nextSibling);)p=p.$parent}while(p=d);if((u||C.length)&&!v--)throw g(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,w)}while(u||C.length);for(g();E.length;)try{E.shift()()}catch(t){c(t)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&h.$$applicationDestroyed(),_(this,-this.$$watchersCount);for(var e in this.$$listenerCount)v(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){S.$$phase||C.length||h.defer(function(){C.length&&S.$digest()}),C.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){E.push(t)},$apply:function(t){try{f("$apply");try{return this.$eval(t)}finally{g()}}catch(t){c(t)}finally{try{S.$digest()}catch(t){throw c(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&k.push(e),x()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do{i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++}while(i=i.$parent);var o=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,v(o,1,t))}},$emit:function(t,e){var n,i,o,r=[],s=this,a=!1,l={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=q([l],arguments,1);do{for(n=s.$$listeners[t]||r,l.currentScope=s,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,u)}catch(t){c(t)}else n.splice(i,1),i--,o--;if(a)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(t,e){var n=this,i=n,o=n,r={name:t,targetScope:n,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return r;for(var s,a,l,u=q([r],arguments,1);i=o;){for(r.currentScope=i,s=i.$$listeners[t]||[],a=0,l=s.length;a<l;a++)if(s[a])try{s[a].apply(null,u)}catch(t){c(t)}else s.splice(a,1),a--,l--;if(!(o=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(o=i.$$nextSibling);)i=i.$parent}return r.currentScope=null,r}};var S=new p,C=S.$$asyncQueue=[],E=S.$$postDigestQueue=[],k=S.$$applyAsyncQueue=[];return S}]}function mn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,i){var o,r=i?e:t;return o=Sn(n).href,""===o||o.match(r)?n:"unsafe:"+o}}}function gn(t){if("self"===t)return t;if(x(t)){if(t.indexOf("***")>-1)throw tr("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Bi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(E(t))return new RegExp("^"+t.source+"$");throw tr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function _n(t){var e=[];return b(t)&&r(t,function(t){e.push(gn(t))}),e}function vn(){this.SCE_CONTEXTS=er;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=_n(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=_n(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?Cn(e):!!t.exec(e.href)}function o(n){var o,r,s=Sn(n.toString()),a=!1;for(o=0,r=t.length;o<r;o++)if(i(t[o],s)){a=!0;break}if(a)for(o=0,r=e.length;o<r;o++)if(i(e[o],s)){a=!1;break}return a}function r(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var n=h.hasOwnProperty(t)?h[t]:null;if(!n)throw tr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||y(e)||""===e)return e;if("string"!=typeof e)throw tr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function a(t){return t instanceof u?t.$$unwrapTrustedValue():t}function l(t,e){if(null===e||y(e)||""===e)return e;var n=h.hasOwnProperty(t)?h[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===er.RESOURCE_URL){if(o(e))return e;throw tr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===er.HTML)return c(e);throw tr("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw tr("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var u=r(),h={};return h[er.HTML]=r(u),h[er.CSS]=r(u),h[er.URL]=r(u),h[er.JS]=r(u),h[er.RESOURCE_URL]=r(h[er.URL]),{trustAs:s,getTrusted:l,valueOf:a}}]}function yn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&xi<8)throw tr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=F(er);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=g),i.parseAs=function(t,n){var o=e(n);return o.literal&&o.constant?o:e(n,function(e){return i.getTrusted(t,e)})};var o=i.parseAs,s=i.getTrusted,a=i.trustAs;return r(er,function(t,e){var n=vi(e);i[bt("parse_as_"+n)]=function(e){return o(t,e)},i[bt("get_trusted_"+n)]=function(e){return s(t,e)},i[bt("trust_as_"+n)]=function(e){return a(t,e)}}),i}]}function bn(){this.$get=["$window","$document",function(t,e){var n,i,o={},r=p((/android (\d+)/.exec(vi((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,c=a.body&&a.body.style,u=!1,h=!1;if(c){for(var d in c)if(i=l.exec(d)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),u=!!("transition"in c||n+"Transition"in c),h=!!("animation"in c||n+"Animation"in c),!r||u&&h||(u=x(c.webkitTransition),h=x(c.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||r<4||s),hasEvent:function(t){if("input"===t&&xi<=11)return!1;if(y(o[t])){var e=a.createElement("div");o[t]="on"+t in e}return o[t]},csp:Ri(),vendorPrefix:n,transitions:u,animations:h,android:r}}]}function wn(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,i){function o(r,s){function a(t){if(!s)throw Eo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",r,t.status,t.statusText);return n.reject(t)}o.totalPendingRequests++,x(r)&&t.get(r)||(r=i.getTrustedResourceUrl(r));var l=e.defaults&&e.defaults.transformResponse;Ni(l)?l=l.filter(function(t){return t!==_e}):l===_e&&(l=null);var c={cache:t,transformResponse:l};return e.get(r,c).finally(function(){o.totalPendingRequests--}).then(function(e){return t.put(r,e.data),e.data},a)}return o.totalPendingRequests=0,o}]}function $n(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={};return i.findBindings=function(t,e,n){var i=t.getElementsByClassName("ng-binding"),o=[];return r(i,function(t){var i=Pi.element(t).data("$binding");i&&r(i,function(i){if(n){new RegExp("(^|\\s)"+Bi(e)+"(\\s|\\||$)").test(i)&&o.push(t)}else-1!=i.indexOf(e)&&o.push(t)})}),o},i.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],o=0;o<i.length;++o){var r=n?"=":"*=",s="["+i[o]+"model"+r+'"'+e+'"]',a=t.querySelectorAll(s);if(a.length)return a}},i.getLocation=function(){return n.url()},i.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},i.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},i}]}function xn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,o){function r(r,a,l){T(r)||(l=a,a=r,r=m);var c,u=j(arguments,3),h=b(l)&&!l,d=(h?i:n).defer(),p=d.promise;return c=e.defer(function(){try{d.resolve(r.apply(null,u))}catch(t){d.reject(t),o(t)}finally{delete s[p.$$timeoutId]}h||t.$apply()},a),p.$$timeoutId=c,s[c]=d,p}var s={};return r.cancel=function(t){return!!(t&&t.$$timeoutId in s)&&(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},r}]}function Sn(t){var e=t;return xi&&(nr.setAttribute("href",e),e=nr.href),nr.setAttribute("href",e),{href:nr.href,protocol:nr.protocol?nr.protocol.replace(/:$/,""):"",host:nr.host,search:nr.search?nr.search.replace(/^\?/,""):"",hash:nr.hash?nr.hash.replace(/^#/,""):"",hostname:nr.hostname,port:nr.port,pathname:"/"===nr.pathname.charAt(0)?nr.pathname:"/"+nr.pathname}}function Cn(t){var e=x(t)?Sn(t):t;return e.protocol===ir.protocol&&e.host===ir.host}function Tn(){this.$get=_(t)}function En(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},o="";return function(){var t,r,s,a,l,c=n.cookie||"";if(c!==o)for(o=c,t=o.split("; "),i={},s=0;s<t.length;s++)r=t[s],(a=r.indexOf("="))>0&&(l=e(r.substring(0,a)),y(i[l])&&(i[l]=e(r.substring(a+1))));return i}}function kn(){this.$get=En}function Mn(t){function e(i,o){if(w(i)){var s={};return r(i,function(t,n){s[n]=e(n,t)}),s}return t.factory(i+n,o)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Ln),e("date",Wn),e("filter",Dn),e("json",Xn),e("limitTo",Gn),e("lowercase",lr),e("number",On),e("orderBy",Jn),e("uppercase",cr)}function Dn(){return function(t,e,n){if(!o(t)){if(null==t)return t;throw i("filter")("notarray","Expected array but received: {0}",t)}var r,s,a=Pn(e);switch(a){case"function":r=e;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":r=An(e,n,s);break;default:return t}return Array.prototype.filter.call(t,r)}}function An(t,e,n){var i=w(t)&&"$"in t;return!0===e?e=z:T(e)||(e=function(t,e){return!y(t)&&(null===t||null===e?t===e:!(w(e)||w(t)&&!v(t))&&(t=vi(""+t),e=vi(""+e),-1!==t.indexOf(e)))}),function(o){return i&&!w(o)?In(o,t.$,e,!1):In(o,t,e,n)}}function In(t,e,n,i,o){var r=Pn(t),s=Pn(e);if("string"===s&&"!"===e.charAt(0))return!In(t,e.substring(1),n,i);if(Ni(t))return t.some(function(t){return In(t,e,n,i)});switch(r){case"object":var a;if(i){for(a in t)if("$"!==a.charAt(0)&&In(t[a],e,n,!0))return!0;return!o&&In(t,e,n,!1)}if("object"===s){for(a in e){var l=e[a];if(!T(l)&&!y(l)){var c="$"===a;if(!In(c?t:t[a],l,n,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Pn(t){return null===t?"null":typeof t}function Ln(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return y(n)&&(n=e.CURRENCY_SYM),y(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Nn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function On(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Nn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Nn(t,e,n,i,o){if(w(t))return"";var r=t<0;t=Math.abs(t);var s=t===1/0;if(!s&&!isFinite(t))return"";var a=t+"",l="",c=!1,u=[];if(s&&(l=""),!s&&-1!==a.indexOf("e")){var h=a.match(/([\d\.]+)e(-?)(\d+)/);h&&"-"==h[2]&&h[3]>o+1?t=0:(l=a,c=!0)}if(s||c)o>0&&t<1&&(l=t.toFixed(o),t=parseFloat(l),l=l.replace(or,i));else{var d=(a.split(or)[1]||"").length;y(o)&&(o=Math.min(Math.max(e.minFrac,d),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+o)).toString()+"e"+-o);var p=(""+t).split(or),f=p[0];p=p[1]||"";var m,g=0,_=e.lgSize,v=e.gSize;if(f.length>=_+v)for(g=f.length-_,m=0;m<g;m++)(g-m)%v==0&&0!==m&&(l+=n),l+=f.charAt(m);for(m=g;m<f.length;m++)(f.length-m)%_==0&&0!==m&&(l+=n),l+=f.charAt(m);for(;p.length<o;)p+="0";o&&"0"!==o&&(l+=i+p.substr(0,o))}return 0===t&&(r=!1),u.push(r?e.negPre:e.posPre,l,r?e.negSuf:e.posSuf),u.join("")}function Vn(t,e,n){var i="";for(t<0&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function Hn(t,e,n,i){return n=n||0,function(o){var r=o["get"+t]();return(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),Vn(r,e,i)}}function Bn(t,e){return function(n,i){var o=n["get"+t]();return i[bi(e?"SHORT"+t:t)][o]}}function Rn(t,e,n){var i=-1*n,o=i>=0?"+":"";return o+=Vn(Math[i>0?"floor":"ceil"](i/60),2)+Vn(Math.abs(i%60),2)}function Fn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function zn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function qn(t){return function(e){var n=Fn(e.getFullYear()),i=zn(e),o=+i-+n;return Vn(1+Math.round(o/6048e5),t)}}function jn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Yn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Un(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Wn(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),o=0,r=0,s=e[8]?i.setUTCFullYear:i.setFullYear,a=e[8]?i.setUTCHours:i.setHours;e[9]&&(o=p(e[9]+e[10]),r=p(e[9]+e[11])),s.call(i,p(e[1]),p(e[2])-1,p(e[3]));var l=p(e[4]||0)-o,c=p(e[5]||0)-r,u=p(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(i,l,c,u,h),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var s,a,l="",c=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,x(n)&&(n=ar.test(n)?p(n):e(n)),S(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;i;)a=sr.exec(i),a?(c=q(c,a,1),i=c.pop()):(c.push(i),i=null);var u=n.getTimezoneOffset();return o&&(u=G(o,n.getTimezoneOffset()),n=K(n,o,!0)),r(c,function(e){s=rr[e],l+=s?s(n,t.DATETIME_FORMATS,u):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Xn(){return function(t,e){return y(e)&&(e=2),W(t,e)}}function Gn(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):p(e),isNaN(e)?t:(S(t)&&(t=t.toString()),Ni(t)||x(t)?(n=!n||isNaN(n)?0:p(n),n=n<0&&n>=-t.length?t.length+n:n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function Jn(t){function e(e,n){return n=n?-1:1,e.map(function(e){var i=1,o=g;if(T(e))o=e;else if(x(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(i="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(o=t(e),o.constant))){var r=o();o=function(t){return t[r]}}return{get:o,descending:i*n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function i(t,e){return"function"==typeof t.valueOf&&(t=t.valueOf(),n(t))?t:v(t)&&(t=t.toString(),n(t))?t:e}function r(t,e){var n=typeof t;return null===t?(n="string",t="null"):"string"===n?t=t.toLowerCase():"object"===n&&(t=i(t,e)),{value:t,type:n}}function s(t,e){var n=0;return t.type===e.type?t.value!==e.value&&(n=t.value<e.value?-1:1):n=t.type<e.type?-1:1,n}return function(t,n,i){function a(t,e){return{value:t,predicateValues:c.map(function(n){return r(n.get(t),e)})}}function l(t,e){for(var n=0,i=0,o=c.length;i<o&&!(n=s(t.predicateValues[i],e.predicateValues[i])*c[i].descending);++i);return n}if(!o(t))return t;Ni(n)||(n=[n]),0===n.length&&(n=["+"]);var c=e(n,i);c.push({get:function(){return{}},descending:i?-1:1});var u=Array.prototype.map.call(t,a);return u.sort(l),t=u.map(function(t){return t.value})}}function Kn(t){return T(t)&&(t={link:t}),t.restrict=t.restrict||"AC",_(t)}function Zn(t,e){t.$name=e}function Qn(t,e,i,o,s){var a=this,l=[];a.$error={},a.$$success={},a.$pending=n,a.$name=s(e.name||e.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=dr,a.$rollbackViewValue=function(){r(l,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){r(l,function(t){t.$commitViewValue()})},a.$addControl=function(t){dt(t.$name,"input"),l.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],r(a.$pending,function(e,n){a.$setValidity(n,null,t)}),r(a.$error,function(e,n){a.$setValidity(n,null,t)}),r(a.$$success,function(e,n){a.$setValidity(n,null,t)}),B(l,t),t.$$parentForm=dr},fi({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){-1===i.indexOf(n)&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(B(i,n),0===i.length&&delete t[e])},$animate:o}),a.$setDirty=function(){o.removeClass(t,Xr),o.addClass(t,Gr),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){o.setClass(t,Xr,Gr+" "+pr),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,r(l,function(t){t.$setPristine()})},a.$setUntouched=function(){r(l,function(t){t.$setUntouched()})},a.$setSubmitted=function(){o.addClass(t,pr),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function ti(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ei(t,e,n,i,o,r){ni(t,e,n,i,o,r),ti(i)}function ni(t,e,n,i,o,r){var s=vi(e[0].type);if(!o.android){var a=!1;e.on("compositionstart",function(t){a=!0}),e.on("compositionend",function(){a=!1,l()})}var l=function(t){if(c&&(r.defer.cancel(c),c=null),!a){var o=e.val(),l=t&&t.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(o=Hi(o)),(i.$viewValue!==o||""===o&&i.$$hasNativeValidators)&&i.$setViewValue(o,l)}};if(o.hasEvent("input"))e.on("input",l);else{var c,u=function(t,e,n){c||(c=r.defer(function(){c=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||u(t,this,this.value)}),o.hasEvent("paste")&&e.on("paste cut",u)}e.on("change",l),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function ii(t,e){if(C(t))return t;if(x(t)){xr.lastIndex=0;var n=xr.exec(t);if(n){var i=+n[1],o=+n[2],r=0,s=0,a=0,l=0,c=Fn(i),u=7*(o-1);return e&&(r=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),l=e.getMilliseconds()),new Date(i,0,c.getDate()+u,r,s,a,l)}}return NaN}function oi(t,e){return function(n,i){var o,s;if(C(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),_r.test(n))return new Date(n);if(t.lastIndex=0,o=t.exec(n))return o.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function ri(t,e,i,o){return function(r,s,a,l,c,u,h){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return b(t)&&!C(t)?i(t)||n:t}si(r,s,a,l),ni(r,s,a,l,c,u);var f,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=t,l.$parsers.push(function(t){if(l.$isEmpty(t))return null;if(e.test(t)){var o=i(t,f);return m&&(o=K(o,m)),o}return n}),l.$formatters.push(function(t){if(t&&!C(t))throw Kr("datefmt","Expected `{0}` to be a date",t);return d(t)?(f=t,f&&m&&(f=K(f,m,!0)),h("date")(t,o,m)):(f=null,"")}),b(a.min)||a.ngMin){var g;l.$validators.min=function(t){return!d(t)||y(g)||i(t)>=g},a.$observe("min",function(t){g=p(t),l.$validate()})}if(b(a.max)||a.ngMax){var _;l.$validators.max=function(t){return!d(t)||y(_)||i(t)<=_},a.$observe("max",function(t){_=p(t),l.$validate()})}}}function si(t,e,i,o){var r=e[0];(o.$$hasNativeValidators=w(r.validity))&&o.$parsers.push(function(t){var i=e.prop(_i)||{};return i.badInput&&!i.typeMismatch?n:t})}function ai(t,e,i,o,r,s){if(si(t,e,i,o),ni(t,e,i,o,r,s),o.$$parserName="number",o.$parsers.push(function(t){return o.$isEmpty(t)?null:br.test(t)?parseFloat(t):n}),o.$formatters.push(function(t){if(!o.$isEmpty(t)){if(!S(t))throw Kr("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),b(i.min)||i.ngMin){var a;o.$validators.min=function(t){return o.$isEmpty(t)||y(a)||t>=a},i.$observe("min",function(t){b(t)&&!S(t)&&(t=parseFloat(t,10)),a=S(t)&&!isNaN(t)?t:n,o.$validate()})}if(b(i.max)||i.ngMax){var l;o.$validators.max=function(t){return o.$isEmpty(t)||y(l)||t<=l},i.$observe("max",function(t){b(t)&&!S(t)&&(t=parseFloat(t,10)),l=S(t)&&!isNaN(t)?t:n,o.$validate()})}}function li(t,e,n,i,o,r){ni(t,e,n,i,o,r),ti(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||vr.test(n)}}function ci(t,e,n,i,o,r){ni(t,e,n,i,o,r),ti(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||yr.test(n)}}function ui(t,e,n,i){y(n.name)&&e.attr("name",l());var o=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",o),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function hi(t,e,n,i,o){var r;if(b(i)){if(r=t(i),!r.constant)throw Kr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return r(e)}return o}function di(t,e,n,i,o,r,s,a){var l=hi(a,t,"ngTrueValue",n.ngTrueValue,!0),c=hi(a,t,"ngFalseValue",n.ngFalseValue,!1),u=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",u),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return z(t,l)}),i.$parsers.push(function(t){return t?l:c})}function pi(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var o=t[i],r=0;r<e.length;r++)if(o==e[r])continue t;n.push(o)}return n}function o(t){var e=[];return Ni(t)?(r(t,function(t){e=e.concat(o(t))}),e):x(t)?t.split(" "):w(t)?(r(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(s,a,l){function c(t){var e=h(t,1);l.$addClass(e)}function u(t){var e=h(t,-1);l.$removeClass(e)}function h(t,e){var n=a.data("$classCounts")||mt(),i=[];return r(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&i.push(t))}),a.data("$classCounts",n),i.join(" ")}function d(t,e){var o=i(e,t),r=i(t,e);o=h(o,1),r=h(r,-1),o&&o.length&&n.addClass(a,o),r&&r.length&&n.removeClass(a,r)}function p(t){if(!0===e||s.$index%2===e){var n=o(t||[]);if(f){if(!z(t,f)){var i=o(f);d(i,n)}}else c(n)}f=F(t)}var f;s.$watch(l[t],p,!0),l.$observe("class",function(e){p(s.$eval(l[t]))}),"ngClass"!==t&&s.$watch("$index",function(n,i){var r=1&n;if(r!==(1&i)){var a=o(s.$eval(l[t]));r===e?c(a):u(a)}})}}}]}function fi(t){function e(t,e,l){y(e)?i("$pending",t,l):o("$pending",t,l),P(e)?e?(h(a.$error,t,l),u(a.$$success,t,l)):(u(a.$error,t,l),h(a.$$success,t,l)):(h(a.$error,t,l),h(a.$$success,t,l)),a.$pending?(r(Jr,!0),a.$valid=a.$invalid=n,s("",null)):(r(Jr,!1),a.$valid=mi(a.$error),a.$invalid=!a.$valid,s("",a.$valid));var c;c=a.$pending&&a.$pending[t]?n:!a.$error[t]&&(!!a.$$success[t]||null),s(t,c),a.$$parentForm.$setValidity(t,c,a)}function i(t,e,n){a[t]||(a[t]={}),u(a[t],e,n)}function o(t,e,i){a[t]&&h(a[t],e,i),mi(a[t])&&(a[t]=n)}function r(t,e){e&&!c[t]?(d.addClass(l,t),c[t]=!0):!e&&c[t]&&(d.removeClass(l,t),c[t]=!1)}function s(t,e){t=t?"-"+ct(t,"-"):"",r(Ur+t,!0===e),r(Wr+t,!1===e)}var a=t.ctrl,l=t.$element,c={},u=t.set,h=t.unset,d=t.$animate;c[Wr]=!(c[Ur]=l.hasClass(Ur)),a.$setValidity=e}function mi(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var gi=/^\/(.+)\/([a-z]*)$/,_i="validity",vi=function(t){return x(t)?t.toLowerCase():t},yi=Object.prototype.hasOwnProperty,bi=function(t){return x(t)?t.toUpperCase():t},wi=function(t){return x(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},$i=function(t){return x(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(vi=wi,bi=$i);var xi,Si,Ci,Ti,Ei=[].slice,ki=[].splice,Mi=[].push,Di=Object.prototype.toString,Ai=Object.getPrototypeOf,Ii=i("ng"),Pi=t.angular||(t.angular={}),Li=0;xi=e.documentMode,m.$inject=[],g.$inject=[];var Oi,Ni=Array.isArray,Vi=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Hi=function(t){return x(t)?t.trim():t},Bi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ri=function(){if(!b(Ri.rules)){var t=e.querySelector("[ng-csp]")||e.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");Ri.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else Ri.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return Ri.rules},Fi=function(){if(b(Fi.name_))return Fi.name_;var t,n,i,o,r=zi.length;for(n=0;n<r;++n)if(i=zi[n],t=e.querySelector("["+i.replace(":","\\:")+"jq]")){o=t.getAttribute(i+"jq");break}return Fi.name_=o},zi=["ng-","data-ng-","ng:","x-ng-"],qi=/[A-Z]/g,ji=!1,Yi=1,Ui=3,Wi=8,Xi=9,Gi=11,Ji={full:"1.4.7",major:1,minor:4,dot:7,codeName:"dark-luminescence"};Tt.expando="ng339";var Ki=Tt.cache={},Zi=1,Qi=function(t,e,n){t.addEventListener(e,n,!1)},to=function(t,e,n){t.removeEventListener(e,n,!1)};Tt._data=function(t){return this.cache[t[this.expando]]||{}};var eo=/([\:\-\_]+(.))/g,no=/^moz([A-Z])/,io={mouseleave:"mouseout",mouseenter:"mouseover"},oo=i("jqLite"),ro=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,so=/<|&#?\w+;/,ao=/<([\w:-]+)/,lo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,co={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};co.optgroup=co.option,co.tbody=co.tfoot=co.colgroup=co.caption=co.thead,co.th=co.td;var uo=Tt.prototype={ready:function(n){function i(){o||(o=!0,n())}var o=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),Tt(t).on("load",i))},toString:function(){var t=[];return r(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Si(t>=0?this[t]:this[this.length+t])},length:0,push:Mi,sort:[].sort,splice:[].splice},ho={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){ho[vi(t)]=t});var po={};r("input,select,option,textarea,button,form,details".split(","),function(t){po[t]=!0});var fo={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:It,removeData:Dt,hasData:xt},function(t,e){Tt[e]=t}),r({data:It,inheritedData:Ht,scope:function(t){return Si.data(t,"$scope")||Ht(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Si.data(t,"$isolateScope")||Si.data(t,"$isolateScopeNoTemplate")},controller:Vt,injector:function(t){return Ht(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Pt,css:function(t,e,n){if(e=bt(e),!b(n))return t.style[e];t.style[e]=n},attr:function(t,e,i){var o=t.nodeType;if(o!==Ui&&2!==o&&o!==Wi){var r=vi(e);if(ho[r]){if(!b(i))return t[e]||(t.attributes.getNamedItem(e)||m).specified?r:n;i?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(b(i))t.setAttribute(e,i);else if(t.getAttribute){var s=t.getAttribute(e,2);return null===s?n:s}}},prop:function(t,e,n){if(!b(n))return t[e];t[e]=n},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return n===Yi||n===Ui?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===H(t)){var n=[];return r(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(y(e))return t.innerHTML;kt(t,!0),t.innerHTML=e},empty:Bt},function(t,e){Tt.prototype[e]=function(e,n){var i,o,r=this.length;if(t!==Bt&&y(2==t.length&&t!==Pt&&t!==Vt?e:n)){if(w(e)){for(i=0;i<r;i++)if(t===It)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var s=t.$dv,a=y(s)?Math.min(r,1):r,l=0;l<a;l++){var c=t(this[l],e,n);s=s?s+c:c}return s}for(i=0;i<r;i++)t(this[i],e,n);return this}}),r({removeData:Dt,on:function t(e,n,i,o){if(b(o))throw oo("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if($t(e)){var r=At(e,!0),s=r.events,a=r.handle;a||(a=r.handle=jt(e,s));for(var l=n.indexOf(" ")>=0?n.split(" "):[n],c=l.length;c--;){n=l[c];var u=s[n];u||(s[n]=[],"mouseenter"===n||"mouseleave"===n?t(e,io[n],function(t){var e=this,i=t.relatedTarget;i&&(i===e||e.contains(i))||a(t,n)}):"$destroy"!==n&&Qi(e,n,a),u=s[n]),u.push(i)}}},off:Mt,one:function(t,e,n){t=Si(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;kt(t),r(new Tt(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return r(t.childNodes,function(t){t.nodeType===Yi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Yi||n===Gi){e=new Tt(e);for(var i=0,o=e.length;i<o;i++){var r=e[i];t.appendChild(r)}}},prepend:function(t,e){if(t.nodeType===Yi){var n=t.firstChild;r(new Tt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Si(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Rt,detach:function(t){Rt(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new Tt(e);for(var o=0,r=e.length;o<r;o++){var s=e[o];i.insertBefore(s,n.nextSibling),n=s}},addClass:Ot,removeClass:Lt,toggleClass:function(t,e,n){e&&r(e.split(" "),function(e){var i=n;y(i)&&(i=!Pt(t,e)),(i?Ot:Lt)(t,e)})},parent:function(t){var e=t.parentNode
;return e&&e.nodeType!==Gi?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Et,triggerHandler:function(t,e,n){var i,o,s,a=e.type||e,l=At(t),c=l&&l.events,u=c&&c[a];u&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:m,type:a,target:t},e.type&&(i=h(i,e)),o=F(u),s=n?[i].concat(n):[i],r(o,function(e){i.isImmediatePropagationStopped()||e.apply(t,s)}))}},function(t,e){Tt.prototype[e]=function(e,n,i){for(var o,r=0,s=this.length;r<s;r++)y(o)?(o=t(this[r],e,n,i),b(o)&&(o=Si(o))):Nt(o,t(this[r],e,n,i));return b(o)?o:this},Tt.prototype.bind=Tt.prototype.on,Tt.prototype.unbind=Tt.prototype.off}),Wt.prototype={put:function(t,e){this[Ut(t,this.nextUid)]=e},get:function(t){return this[Ut(t,this.nextUid)]},remove:function(t){var e=this[t=Ut(t,this.nextUid)];return delete this[t],e}};var mo=[function(){this.$get=[function(){return Wt}]}],go=/^[^\(]*\(\s*([^\)]*)\)/m,_o=/,/,vo=/^\s*(_?)(\S+?)\1\s*$/,yo=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,bo=i("$injector");Jt.$$annotate=Gt;var wo=i("$animate"),$o=1,xo=function(){this.$get=["$q","$$rAF",function(t,e){function n(){}return n.all=m,n.chain=m,n.prototype={end:m,cancel:m,resume:m,pause:m,complete:m,then:function(n,i){return t(function(t){e(function(){t()})}).then(n,i)}},n}]},So=function(){var t=new Wt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(t,e,n){var i=!1;return e&&(e=x(e)?e.split(" "):Ni(e)?e:[],r(e,function(e){e&&(i=!0,t[e]=n)})),i}function s(){r(e,function(e){var n=t.get(e);if(n){var i=te(e.attr("class")),o="",s="";r(n,function(t,e){t!==!!i[e]&&(t?o+=(o.length?" ":"")+e:s+=(s.length?" ":"")+e)}),r(e,function(t){o&&Ot(t,o),s&&Lt(t,s)}),t.remove(e)}}),e.length=0}function a(n,r,a){var l=t.get(n)||{},c=o(l,r,!0),u=o(l,a,!1);(c||u)&&(t.put(n,l),e.push(n),1===e.length&&i.$$postDigest(s))}return{enabled:m,on:m,off:m,pin:m,push:function(t,e,i,o){return o&&o(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&a(t,i.addClass,i.removeClass),new n}}}]},Co=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw wo("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var o=n+"-animation";e.$$registeredAnimations[n.substr(1)]=o,t.factory(o,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){if(new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)").test(this.$$classNameFilter.toString()))throw wo("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=Qt(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,o,r){return i=i&&Si(i),o=o&&Si(o),i=i||o.parent(),e(n,i,o),t.push(n,"enter",ee(r))},move:function(n,i,o,r){return i=i&&Si(i),o=o&&Si(o),i=i||o.parent(),e(n,i,o),t.push(n,"move",ee(r))},leave:function(e,n){return t.push(e,"leave",ee(n),function(){e.remove()})},addClass:function(e,n,i){return i=ee(i),i.addClass=Zt(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=ee(i),i.removeClass=Zt(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,o){return o=ee(o),o.addClass=Zt(o.addClass,n),o.removeClass=Zt(o.removeClass,i),t.push(e,"setClass",o)},animate:function(e,n,i,o,r){return r=ee(r),r.from=r.from?h(r.from,n):n,r.to=r.to?h(r.to,i):i,o=o||"ng-inline-animate",r.tempClasses=Zt(r.tempClasses,o),t.push(e,"animate",r)}}}]}],To=function(){this.$get=["$$rAF","$q",function(t,e){var n=function(){};return n.prototype={done:function(t){this.defer&&this.defer[!0===t?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=e.defer()),this.defer.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)}},function(e,i){function o(){return t(function(){r(),s||a.done(),s=!0}),a}function r(){i.addClass&&(e.addClass(i.addClass),i.addClass=null),i.removeClass&&(e.removeClass(i.removeClass),i.removeClass=null),i.to&&(e.css(i.to),i.to=null)}i.cleanupStyles&&(i.from=i.to=null),i.from&&(e.css(i.from),i.from=null);var s,a=new n;return{start:o,end:o}}}]},Eo=i("$compile");se.$inject=["$provide","$$sanitizeUriProvider"];var ko=/^((?:x|data)[\:\-_])/i,Mo=i("$controller"),Do=/^(\S+)(\s+as\s+(\w+))?$/,Ao=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Si&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Io="application/json",Po={"Content-Type":Io+";charset=utf-8"},Lo=/^\[|^\{(?!\{)/,Oo={"[":/]$/,"{":/}$/},No=/^\)\]\}',?\n/,Vo=i("$http"),Ho=function(t){return function(){throw Vo("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},Bo=Pi.$interpolateMinErr=i("$interpolate");Bo.throwNoconcat=function(t){throw Bo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Bo.interr=function(t,e){return Bo("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Ro=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Fo={http:80,https:443,ftp:21},zo=i("$location"),qo={$$html5:!1,$$replace:!1,absUrl:Re("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=Ro.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Re("$$protocol"),host:Re("$$host"),port:Re("$$port"),path:Fe("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||S(t))t=t.toString(),this.$$search=tt(t);else{if(!w(t))throw zo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=R(t,{}),r(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Fe("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Be,He,Ve],function(t){t.prototype=Object.create(qo),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ve||!this.$$html5)throw zo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(e)?null:e,this}});var jo=i("$parse"),Yo=Function.prototype.call,Uo=Function.prototype.apply,Wo=Function.prototype.bind,Xo=mt();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Xo[t]=!0});var Go={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Jo=function(t){this.options=t};Jo.prototype={constructor:Jo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),o=Xo[e],r=Xo[n],s=Xo[i];if(o||r||s){var a=s?i:r?n:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdent:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw jo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=vi(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,o=!1;this.index<this.text.length;){var r=this.text.charAt(this.index);if(i+=r,o){if("u"===r){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{n+=Go[r]||r}o=!1}else if("\\"===r)o=!0;else{if(r===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=r}this.index++}this.throwError("Unterminated quote",e)}};var Ko=function(t,e){this.lexer=t,this.options=e};Ko.Program="Program",Ko.ExpressionStatement="ExpressionStatement",Ko.AssignmentExpression="AssignmentExpression",Ko.ConditionalExpression="ConditionalExpression",Ko.LogicalExpression="LogicalExpression",Ko.BinaryExpression="BinaryExpression",Ko.UnaryExpression="UnaryExpression",Ko.CallExpression="CallExpression",Ko.MemberExpression="MemberExpression",Ko.Identifier="Identifier",Ko.Literal="Literal",Ko.ArrayExpression="ArrayExpression",Ko.Property="Property",Ko.ObjectExpression="ObjectExpression",Ko.ThisExpression="ThisExpression",Ko.NGValueParameter="NGValueParameter",Ko.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Ko.Program,body:t}},expressionStatement:function(){return{type:Ko.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:Ko.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Ko.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Ko.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Ko.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Ko.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Ko.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Ko.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Ko.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Ko.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=R(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Ko.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Ko.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Ko.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Ko.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.expression())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Ko.Identifier,name:t.text}},constant:function(){return{type:Ko.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ko.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Ko.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Ko.ObjectExpression,properties:e}},throwError:function(t,e){throw jo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw jo("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw jo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,o){if(this.tokens.length>t){var r=this.tokens[t],s=r.text;if(s===e||s===n||s===i||s===o||!e&&!n&&!i&&!o)return r}return!1},expect:function(t,e,n,i){var o=this.peek(t,e,n,i);return!!o&&(this.tokens.shift(),o)},constants:{true:{type:Ko.Literal,value:!0},false:{type:Ko.Literal,value:!1},null:{type:Ko.Literal,value:null},undefined:{type:Ko.Literal,value:n},this:{type:Ko.ThisExpression}}},rn.prototype={compile:function(t,e){var i=this,o=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ze(o,i.$filter);var s,a="";if(this.stage="assign",s=en(o)){this.state.computing="assign";var l=this.nextId();this.recurse(s,l),this.return_(l),a="fn.assign="+this.generateFunction("assign","s,v,l")}var c=Qe(o.body);i.stage="inputs",r(c,function(t,e){var n="fn"+e;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var o=i.nextId();i.recurse(t,o),i.return_(o),i.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(o);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",h=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,je,Ue,We,Ye,Xe,Ge,Je,t);return this.state=this.stage=n,h.literal=nn(o),h.constant=on(o),h},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return r(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return r(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,o,s,a){var l,c,u,h,d=this;if(o=o||m,!a&&b(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,o,s,!0));switch(t.type){case Ko.Program:r(t.body,function(e,i){d.recurse(e.expression,n,n,function(t){c=t}),i!==t.body.length-1?d.current().body.push(c,";"):d.return_(c)});break;case Ko.Literal:h=this.escape(t.value),this.assign(e,h),o(h);break;case Ko.UnaryExpression:this.recurse(t.argument,n,n,function(t){c=t}),h=t.operator+"("+this.ifDefined(c,0)+")",this.assign(e,h),o(h);break;case Ko.BinaryExpression:this.recurse(t.left,n,n,function(t){l=t}),this.recurse(t.right,n,n,function(t){c=t}),h="+"===t.operator?this.plus(l,c):"-"===t.operator?this.ifDefined(l,0)+t.operator+this.ifDefined(c,0):"("+l+")"+t.operator+"("+c+")",this.assign(e,h),o(h);break;case Ko.LogicalExpression:e=e||this.nextId(),d.recurse(t.left,e),d.if_("&&"===t.operator?e:d.not(e),d.lazyRecurse(t.right,e)),o(e);break;case Ko.ConditionalExpression:e=e||this.nextId(),d.recurse(t.test,e),d.if_(e,d.lazyRecurse(t.alternate,e),d.lazyRecurse(t.consequent,e)),o(e);break;case Ko.Identifier:e=e||this.nextId(),i&&(i.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),i.computed=!1,i.name=t.name),je(t.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",t.name)),function(){d.if_("inputs"===d.stage||"s",function(){s&&1!==s&&d.if_(d.not(d.nonComputedMember("s",t.name)),d.lazyAssign(d.nonComputedMember("s",t.name),"{}")),d.assign(e,d.nonComputedMember("s",t.name))})},e&&d.lazyAssign(e,d.nonComputedMember("l",t.name))),(d.state.expensiveChecks||an(t.name))&&d.addEnsureSafeObject(e),o(e);break;case Ko.MemberExpression:l=i&&(i.context=this.nextId())||this.nextId(),e=e||this.nextId(),d.recurse(t.object,l,n,function(){d.if_(d.notNull(l),function(){t.computed?(c=d.nextId(),d.recurse(t.property,c),d.getStringValue(c),d.addEnsureSafeMemberName(c),s&&1!==s&&d.if_(d.not(d.computedMember(l,c)),d.lazyAssign(d.computedMember(l,c),"{}")),h=d.ensureSafeObject(d.computedMember(l,c)),d.assign(e,h),i&&(i.computed=!0,i.name=c)):(je(t.property.name),s&&1!==s&&d.if_(d.not(d.nonComputedMember(l,t.property.name)),d.lazyAssign(d.nonComputedMember(l,t.property.name),"{}")),h=d.nonComputedMember(l,t.property.name),(d.state.expensiveChecks||an(t.property.name))&&(h=d.ensureSafeObject(h)),d.assign(e,h),i&&(i.computed=!1,i.name=t.property.name))},function(){d.assign(e,"undefined")}),o(e)},!!s);break;case Ko.CallExpression:e=e||this.nextId(),t.filter?(c=d.filter(t.callee.name),u=[],r(t.arguments,function(t){var e=d.nextId();d.recurse(t,e),u.push(e)}),h=c+"("+u.join(",")+")",d.assign(e,h),o(e)):(c=d.nextId(),l={},u=[],d.recurse(t.callee,c,l,function(){d.if_(d.notNull(c),function(){d.addEnsureSafeFunction(c),r(t.arguments,function(t){d.recurse(t,d.nextId(),n,function(t){u.push(d.ensureSafeObject(t))})}),l.name?(d.state.expensiveChecks||d.addEnsureSafeObject(l.context),h=d.member(l.context,l.name,l.computed)+"("+u.join(",")+")"):h=c+"("+u.join(",")+")",h=d.ensureSafeObject(h),d.assign(e,h)},function(){d.assign(e,"undefined")}),o(e)}));break;case Ko.AssignmentExpression:if(c=this.nextId(),l={},!tn(t.left))throw jo("lval","Trying to assing a value to a non l-value");this.recurse(t.left,n,l,function(){d.if_(d.notNull(l.context),function(){d.recurse(t.right,c),d.addEnsureSafeObject(d.member(l.context,l.name,l.computed)),d.addEnsureSafeAssignContext(l.context),h=d.member(l.context,l.name,l.computed)+t.operator+c,d.assign(e,h),o(e||h)})},1);break;case Ko.ArrayExpression:u=[],r(t.elements,function(t){d.recurse(t,d.nextId(),n,function(t){u.push(t)})}),h="["+u.join(",")+"]",this.assign(e,h),o(h);break;case Ko.ObjectExpression:u=[],r(t.properties,function(t){d.recurse(t.value,d.nextId(),n,function(e){u.push(d.escape(t.key.type===Ko.Identifier?t.key.name:""+t.key.value)+":"+e)})}),h="{"+u.join(",")+"}",this.assign(e,h),o(h);break;case Ko.ThisExpression:this.assign(e,"s"),o("s");break;case Ko.NGValueParameter:this.assign(e,"v"),o("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+",text)")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,o,r){var s=this;return function(){s.recurse(t,e,n,i,o,r)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(S(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw jo("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},sn.prototype={compile:function(t,e){var n=this,i=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,Ze(i,n.$filter);var o,s;(o=en(i))&&(s=this.recurse(o));var a,l=Qe(i.body);l&&(a=[],r(l,function(t,e){var i=n.recurse(t);t.input=i,a.push(i),t.watchId=e}));var c=[];r(i.body,function(t){c.push(n.recurse(t.expression))});var u=0===i.body.length?function(){}:1===i.body.length?c[0]:function(t,e){var n;return r(c,function(i){n=i(t,e)}),n};return s&&(u.assign=function(t,e,n){return s(t,n,e)}),a&&(u.inputs=a),u.literal=nn(i),u.constant=on(i),u},recurse:function(t,e,i){var o,s,a,l=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Ko.Literal:return this.value(t.value,e);case Ko.UnaryExpression:return s=this.recurse(t.argument),this["unary"+t.operator](s,e);case Ko.BinaryExpression:case Ko.LogicalExpression:return o=this.recurse(t.left),s=this.recurse(t.right),this["binary"+t.operator](o,s,e);case Ko.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Ko.Identifier:return je(t.name,l.expression),l.identifier(t.name,l.expensiveChecks||an(t.name),e,i,l.expression);case Ko.MemberExpression:return o=this.recurse(t.object,!1,!!i),t.computed||(je(t.property.name,l.expression),s=t.property.name),t.computed&&(s=this.recurse(t.property)),t.computed?this.computedMember(o,s,e,i,l.expression):this.nonComputedMember(o,s,l.expensiveChecks,e,i,l.expression);case Ko.CallExpression:return a=[],r(t.arguments,function(t){a.push(l.recurse(t))}),t.filter&&(s=this.$filter(t.callee.name)),t.filter||(s=this.recurse(t.callee,!0)),t.filter?function(t,i,o,r){for(var l=[],c=0;c<a.length;++c)l.push(a[c](t,i,o,r));var u=s.apply(n,l,r);return e?{context:n,name:n,value:u}:u}:function(t,n,i,o){var r,c=s(t,n,i,o);if(null!=c.value){Ue(c.context,l.expression),We(c.value,l.expression);for(var u=[],h=0;h<a.length;++h)u.push(Ue(a[h](t,n,i,o),l.expression));r=Ue(c.value.apply(c.context,u),l.expression)}return e?{value:r}:r};case Ko.AssignmentExpression:return o=this.recurse(t.left,!0,1),s=this.recurse(t.right),function(t,n,i,r){var a=o(t,n,i,r),c=s(t,n,i,r);return Ue(a.value,l.expression),Xe(a.context),a.context[a.name]=c,e?{value:c}:c};case Ko.ArrayExpression:return a=[],r(t.elements,function(t){a.push(l.recurse(t))}),function(t,n,i,o){for(var r=[],s=0;s<a.length;++s)r.push(a[s](t,n,i,o));return e?{value:r}:r};case Ko.ObjectExpression:return a=[],r(t.properties,function(t){a.push({key:t.key.type===Ko.Identifier?t.key.name:""+t.key.value,value:l.recurse(t.value)})}),function(t,n,i,o){for(var r={},s=0;s<a.length;++s)r[a[s].key]=a[s].value(t,n,i,o);return e?{value:r}:r};case Ko.ThisExpression:return function(t){return e?{value:t}:t};case Ko.NGValueParameter:return function(t,n,i,o){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,o,r){var s=t(n,i,o,r);return s=b(s)?+s:0,e?{value:s}:s}},"unary-":function(t,e){return function(n,i,o,r){var s=t(n,i,o,r);return s=b(s)?-s:0,e?{value:s}:s}},"unary!":function(t,e){return function(n,i,o,r){var s=!t(n,i,o,r);return e?{value:s}:s}},"binary+":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s),l=e(i,o,r,s),c=Je(a,l);return n?{value:c}:c}},"binary-":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s),l=e(i,o,r,s),c=(b(a)?a:0)-(b(l)?l:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)*e(i,o,r,s);return n?{value:a}:a}},"binary/":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)/e(i,o,r,s);return n?{value:a}:a}},"binary%":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)%e(i,o,r,s);return n?{value:a}:a}},"binary===":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)===e(i,o,r,s);return n?{value:a}:a}},"binary!==":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)!==e(i,o,r,s);return n?{value:a}:a}},"binary==":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)==e(i,o,r,s);return n?{value:a}:a}},"binary!=":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)!=e(i,o,r,s);return n?{value:a}:a}},"binary<":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)<e(i,o,r,s);return n?{value:a}:a}},"binary>":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)>e(i,o,r,s);return n?{value:a}:a}},"binary<=":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)<=e(i,o,r,s);return n?{value:a}:a}},"binary>=":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)>=e(i,o,r,s);return n?{value:a}:a}},"binary&&":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)&&e(i,o,r,s);return n?{value:a}:a}},"binary||":function(t,e,n){return function(i,o,r,s){var a=t(i,o,r,s)||e(i,o,r,s);return n?{value:a}:a}},"ternary?:":function(t,e,n,i){return function(o,r,s,a){var l=t(o,r,s,a)?e(o,r,s,a):n(o,r,s,a);return i?{value:l}:l}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,i,o,r){return function(s,a,l,c){var u=a&&t in a?a:s;o&&1!==o&&u&&!u[t]&&(u[t]={});var h=u?u[t]:n;return e&&Ue(h,r),i?{context:u,name:t,value:h}:h}},computedMember:function(t,e,n,i,o){return function(r,s,a,l){var c,u,h=t(r,s,a,l);return null!=h&&(c=e(r,s,a,l),c=Ye(c),je(c,o),i&&1!==i&&h&&!h[c]&&(h[c]={}),u=h[c],Ue(u,o)),n?{context:h,name:c,value:u}:u}},nonComputedMember:function(t,e,i,o,r,s){return function(a,l,c,u){var h=t(a,l,c,u);r&&1!==r&&h&&!h[e]&&(h[e]={});var d=null!=h?h[e]:n;return(i||an(e))&&Ue(d,s),o?{context:h,name:e,value:d}:d}},inputs:function(t,e){return function(n,i,o,r){return r?r[e]:t(n,i,o)}}};var Zo=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new Ko(this.lexer),this.astCompiler=n.csp?new sn(this.ast,e):new rn(this.ast,e)};Zo.prototype={constructor:Zo,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var Qo=(mt(),mt(),Object.prototype.valueOf),tr=i("$sce"),er={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Eo=i("$compile"),nr=e.createElement("a"),ir=Sn(t.location.href);En.$inject=["$document"],Mn.$inject=["$provide"],Ln.$inject=["$locale"],On.$inject=["$locale"];var or=".",rr={yyyy:Hn("FullYear",4),yy:Hn("FullYear",2,0,!0),y:Hn("FullYear",1),MMMM:Bn("Month"),MMM:Bn("Month",!0),MM:Hn("Month",2,1),M:Hn("Month",1,1),dd:Hn("Date",2),d:Hn("Date",1),HH:Hn("Hours",2),H:Hn("Hours",1),hh:Hn("Hours",2,-12),h:Hn("Hours",1,-12),mm:Hn("Minutes",2),m:Hn("Minutes",1),ss:Hn("Seconds",2),s:Hn("Seconds",1),sss:Hn("Milliseconds",3),EEEE:Bn("Day"),EEE:Bn("Day",!0),a:jn,Z:Rn,ww:qn(2),w:qn(1),G:Yn,GG:Yn,GGG:Yn,GGGG:Un},sr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ar=/^\-?\d+$/;Wn.$inject=["$locale"];var lr=_(vi),cr=_(bi);Jn.$inject=["$parse"];var ur=_({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Di.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),hr={};r(ho,function(t,e){function n(t,n,o){t.$watch(o[i],function(t){o.$set(e,!!t)})}if("multiple"!=t){var i=ae("ng-"+e),o=n;"checked"===t&&(o=function(t,e,o){o.ngModel!==o[i]&&n(t,e,o)}),hr[i]=function(){return{restrict:"A",priority:100,link:o}}}}),r(fo,function(t,e){hr[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var o=i.ngPattern.match(gi);if(o)return void i.$set("ngPattern",new RegExp(o[1],o[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),r(["src","srcset","href"],function(t){var e=ae("ng-"+t);hr[e]=function(){return{priority:99,link:function(n,i,o){var r=t,s=t;"href"===t&&"[object SVGAnimatedString]"===Di.call(i.prop("href"))&&(s="xlinkHref",o.$attr[s]="xlink:href",r=null),o.$observe(e,function(e){if(!e)return void("href"===t&&o.$set(s,null));o.$set(s,e),xi&&r&&i.prop(r,o[s])})}}}});var dr={$addControl:m,$$renameControl:Zn,$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m},pr="ng-submitted";Qn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var fr=function(t){return["$timeout","$parse",function(e,i){function o(t){return""===t?i('this[""]').assign:i(t).assign||m}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:Qn,compile:function(i,r){
i.addClass(Xr).addClass(Ur);var s=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,i,r,a){var l=a[0];if(!("action"in r)){var c=function(e){t.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),e.preventDefault()};Qi(i[0],"submit",c),i.on("$destroy",function(){e(function(){to(i[0],"submit",c)},0,!1)})}(a[1]||l.$$parentForm).$addControl(l);var u=s?o(l.$name):m;s&&(u(t,l),r.$observe(s,function(e){l.$name!==e&&(u(t,n),l.$$parentForm.$$renameControl(l,e),(u=o(l.$name))(t,l))})),i.on("$destroy",function(){l.$$parentForm.$removeControl(l),u(t,n),h(l,dr)})}}}}}]},mr=fr(),gr=fr(!0),_r=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,vr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,yr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,br=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,wr=/^(\d{4})-(\d{2})-(\d{2})$/,$r=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,xr=/^(\d{4})-W(\d\d)$/,Sr=/^(\d{4})-(\d\d)$/,Cr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Tr={text:ei,date:ri("date",wr,oi(wr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ri("datetimelocal",$r,oi($r,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ri("time",Cr,oi(Cr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ri("week",xr,ii,"yyyy-Www"),month:ri("month",Sr,oi(Sr,["yyyy","MM"]),"yyyy-MM"),number:ai,url:li,email:ci,radio:ui,checkbox:di,hidden:m,button:m,submit:m,reset:m,file:m},Er=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,r,s,a){a[0]&&(Tr[vi(s.type)]||Tr.text)(o,r,s,a[0],e,t,n,i)}}}}],kr=/^(true|false|\d+)$/,Mr=function(){return{restrict:"A",priority:100,compile:function(t,e){return kr.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Dr=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=y(t)?"":t})}}}}],Ar=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,o){var r=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,r.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=y(t)?"":t})}}}}],Ir=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,o){var r=e(o.ngBindHtml),s=e(o.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(i),function(e,i,o){n.$$addBindingInfo(i,o.ngBindHtml),e.$watch(s,function(){i.html(t.getTrustedHtml(r(e))||"")})}}}}],Pr=_({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Lr=pi("",!0),Or=pi("Odd",0),Nr=pi("Even",1),Vr=Kn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Hr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Br={},Rr={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ae("ng-"+t);Br[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(o,r){var s=n(r[e],null,!0);return function(e,n){n.on(t,function(n){var o=function(){s(e,{$event:n})};Rr[t]&&i.$$phase?e.$evalAsync(o):e.$apply(o)})}}}}]});var Fr=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,o,r,s){var a,l,c;n.$watch(o.ngIf,function(n){n?l||s(function(n,r){l=r,n[n.length++]=e.createComment(" end ngIf: "+o.ngIf+" "),a={clone:n},t.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),a&&(c=ft(a.clone),t.leave(c).then(function(){c=null}),a=null))})}}}],zr=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Pi.noop,compile:function(i,o){var r=o.ngInclude||o.src,s=o.onload||"",a=o.autoscroll;return function(i,o,l,c,u){var h,d,p,f=0,m=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),p&&(n.leave(p).then(function(){d=null}),d=p,p=null)};i.$watch(r,function(r){var l=function(){!b(a)||a&&!i.$eval(a)||e()},d=++f;r?(t(r,!0).then(function(t){if(d===f){var e=i.$new();c.template=t;var a=u(e,function(t){m(),n.enter(t,null,o).then(l)});h=e,p=a,h.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){d===f&&(m(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(m(),c.template=null)})}}}}],qr=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,o,r){if(/SVG/.test(i[0].toString()))return i.empty(),void t(St(r.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i});i.html(r.template),t(i.contents())(n)}}}],jr=Kn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Yr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,o){var s=e.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,l=a?Hi(s):s,c=function(t){if(!y(t)){var e=[];return t&&r(t.split(l),function(t){t&&e.push(a?Hi(t):t)}),e}};o.$parsers.push(c),o.$formatters.push(function(t){return Ni(t)?t.join(s):n}),o.$isEmpty=function(t){return!t||!t.length}}}},Ur="ng-valid",Wr="ng-invalid",Xr="ng-pristine",Gr="ng-dirty",Jr="ng-pending",Kr=i("ngModel"),Zr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,o,s,a,l,c,u,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(i.name||"",!1)(t),this.$$parentForm=dr;var d,p=s(i.ngModel),f=p.assign,g=p,_=f,v=null,w=this;this.$$setOptions=function(t){if(w.$options=t,t&&t.getterSetter){var e=s(i.ngModel+"()"),n=s(i.ngModel+"($$$p)");g=function(t){var n=p(t);return T(n)&&(n=e(t)),n},_=function(t,e){T(p(t))?n(t,{$$$p:w.$modelValue}):f(t,w.$modelValue)}}else if(!p.assign)throw Kr("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,Z(o))},this.$render=m,this.$isEmpty=function(t){return y(t)||""===t||null===t||t!==t};var $=0;fi({ctrl:this,$element:o,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,a.removeClass(o,Gr),a.addClass(o,Xr)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,a.removeClass(o,Xr),a.addClass(o,Gr),w.$$parentForm.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,a.setClass(o,"ng-untouched","ng-touched")},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,a.setClass(o,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(v),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!S(w.$modelValue)||!isNaN(w.$modelValue)){var t=w.$$lastCommittedViewValue,e=w.$$rawModelValue,i=w.$valid,o=w.$modelValue,r=w.$options&&w.$options.allowInvalid;w.$$runValidators(e,t,function(t){r||i===t||(w.$modelValue=t?e:n,w.$modelValue!==o&&w.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i){function o(t,e){a===$&&w.$setValidity(t,e)}function s(t){a===$&&i(t)}$++;var a=$;return function(){var t=w.$$parserName||"parse";return y(d)?(o(t,null),!0):(d||(r(w.$validators,function(t,e){o(e,null)}),r(w.$asyncValidators,function(t,e){o(e,null)})),o(t,d),d)}()&&function(){var n=!0;return r(w.$validators,function(i,r){var s=i(t,e);n=n&&s,o(r,s)}),!!n||(r(w.$asyncValidators,function(t,e){o(e,null)}),!1)}()?void function(){var i=[],a=!0;r(w.$asyncValidators,function(r,s){var l=r(t,e);if(!L(l))throw Kr("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",l);o(s,n),i.push(l.then(function(){o(s,!0)},function(t){a=!1,o(s,!1)}))}),i.length?u.all(i).then(function(){s(a)},m):s(!0)}():void s(!1)},this.$commitViewValue=function(){var t=w.$viewValue;l.cancel(v),(w.$$lastCommittedViewValue!==t||""===t&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=t,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){w.$modelValue!==s&&w.$$writeModelToScope()}var i=w.$$lastCommittedViewValue,o=i;if(d=!y(o)||n)for(var r=0;r<w.$parsers.length;r++)if(o=w.$parsers[r](o),y(o)){d=!1;break}S(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=g(t));var s=w.$modelValue,a=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=o,a&&(w.$modelValue=o,e()),w.$$runValidators(o,w.$$lastCommittedViewValue,function(t){a||(w.$modelValue=t?o:n,e())})},this.$$writeModelToScope=function(){_(t,w.$modelValue),r(w.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e){w.$viewValue=t,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,o=w.$options;o&&b(o.debounce)&&(n=o.debounce,S(n)?i=n:S(n[e])?i=n[e]:S(n.default)&&(i=n.default)),l.cancel(v),i?v=l(function(){w.$commitViewValue()},i):c.$$phase?w.$commitViewValue():t.$apply(function(){w.$commitViewValue()})},t.$watch(function(){var e=g(t);if(e!==w.$modelValue&&(w.$modelValue===w.$modelValue||e===e)){w.$modelValue=w.$$rawModelValue=e,d=n;for(var i=w.$formatters,o=i.length,r=e;o--;)r=i[o](r);w.$viewValue!==r&&(w.$viewValue=w.$$lastCommittedViewValue=r,w.$render(),w.$$runValidators(e,r,m))}return e})}],Qr=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Zr,priority:1,compile:function(e){return e.addClass(Xr).addClass("ng-untouched").addClass(Ur),{pre:function(t,e,n,i){var o=i[0],r=i[1]||o.$$parentForm;o.$$setOptions(i[2]&&i[2].$options),r.$addControl(o),n.$observe("name",function(t){o.$name!==t&&o.$$parentForm.$$renameControl(o,t)}),t.$on("$destroy",function(){o.$$parentForm.$removeControl(o)})},post:function(e,n,i,o){var r=o[0];r.$options&&r.$options.updateOn&&n.on(r.$options.updateOn,function(t){r.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){r.$touched||(t.$$phase?e.$evalAsync(r.$setTouched):e.$apply(r.$setTouched))})}}}}}],ts=/(\s+|^)default(\s+|$)/,es=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=R(t.$eval(e.ngModelOptions)),b(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Hi(this.$options.updateOn.replace(ts,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ns=Kn({terminal:!0,priority:1e3}),is=i("ngOptions"),os=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,rs=["$compile","$parse",function(t,n){function i(t,e,i){function r(t,e,n,i,o){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=o}function s(t){var e;if(!c&&o(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var a=t.match(os);if(!a)throw is("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Z(e));var l=a[5]||a[7],c=a[6],u=/ as /.test(a[0])&&a[1],h=a[9],d=n(a[2]?a[1]:l),p=u&&n(u),f=p||d,m=h&&n(h),g=h?function(t,e){return m(i,e)}:function(t){return Ut(t)},_=function(t,e){return g(t,x(t,e))},v=n(a[2]||a[1]),y=n(a[3]||""),b=n(a[4]||""),w=n(a[8]),$={},x=c?function(t,e){return $[c]=e,$[l]=t,$}:function(t){return $[l]=t,$};return{trackBy:h,getTrackByValue:_,getWatchables:n(w,function(t){var e=[];t=t||[];for(var n=s(t),o=n.length,r=0;r<o;r++){var l=t===n?r:n[r],c=(t[l],x(t[l],l)),u=g(t[l],c);if(e.push(u),a[2]||a[1]){var h=v(i,c);e.push(h)}if(a[4]){var d=b(i,c);e.push(d)}}return e}),getOptions:function(){for(var t=[],e={},n=w(i)||[],o=s(n),a=o.length,l=0;l<a;l++){var c=n===o?l:o[l],u=n[c],d=x(u,c),p=f(i,d),m=g(p,d),$=v(i,d),S=y(i,d),C=b(i,d),T=new r(m,p,$,S,C);t.push(T),e[m]=T}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[_(t)]},getViewValueFromOption:function(t){return h?Pi.copy(t.viewValue):t.viewValue}}}}}var s=e.createElement("option"),a=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(e,n,o,l){function c(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function u(t,e,n,i){var o;return e&&vi(e.nodeName)===n?o=e:(o=i.cloneNode(!1),e?t.insertBefore(o,e):t.appendChild(o)),o}function h(t){for(var e;t;)e=t.nextSibling,Rt(t),t=e}function d(t){var e=m&&m[0],n=$&&$[0];if(e||n)for(;t&&(t===e||t===n||e&&e.nodeType===Wi);)t=t.nextSibling;return t}function p(){var t=x&&g.readValue();x=S.getOptions();var e={},i=n[0].firstChild;if(w&&n.prepend(m),i=d(i),x.items.forEach(function(t){var o,r,l;t.group?(o=e[t.group],o||(r=u(n[0],i,"optgroup",a),i=r.nextSibling,r.label=t.group,o=e[t.group]={groupElement:r,currentOptionElement:r.firstChild}),l=u(o.groupElement,o.currentOptionElement,"option",s),c(t,l),o.currentOptionElement=l.nextSibling):(l=u(n[0],i,"option",s),c(t,l),i=l.nextSibling)}),Object.keys(e).forEach(function(t){h(e[t].currentOptionElement)}),h(i),f.$render(),!f.$isEmpty(t)){var o=g.readValue();(S.trackBy?z(t,o):t===o)||(f.$setViewValue(o),f.$render())}}var f=l[1];if(f){for(var m,g=l[0],_=o.multiple,v=0,y=n.children(),b=y.length;v<b;v++)if(""===y[v].value){m=y.eq(v);break}var w=!!m,$=Si(s.cloneNode(!1));$.val("?");var x,S=i(o.ngOptions,n,e),C=function(){w||n.prepend(m),n.val(""),m.prop("selected",!0),m.attr("selected",!0)},T=function(){w||m.remove()},E=function(){n.prepend($),n.val("?"),$.prop("selected",!0),$.attr("selected",!0)},k=function(){$.remove()};_?(f.$isEmpty=function(t){return!t||0===t.length},g.writeValue=function(t){x.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=x.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)})},g.readValue=function(){var t=n.val()||[],e=[];return r(t,function(t){var n=x.selectValueMap[t];n&&!n.disabled&&e.push(x.getViewValueFromOption(n))}),e},S.trackBy&&e.$watchCollection(function(){if(Ni(f.$viewValue))return f.$viewValue.map(function(t){return S.getTrackByValue(t)})},function(){f.$render()})):(g.writeValue=function(t){var e=x.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&(k(),T(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||w?(k(),C()):(T(),E())},g.readValue=function(){var t=x.selectValueMap[n.val()];return t&&!t.disabled?(T(),k(),x.getViewValueFromOption(t)):null},S.trackBy&&e.$watch(function(){return S.getTrackByValue(f.$viewValue)},function(){f.$render()})),w?(m.remove(),t(m)(e),m.removeClass("ng-scope")):m=Si(s.cloneNode(!1)),p(),e.$watchCollection(S.getWatchables,p)}}}}],ss=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(s,a,l){function c(t){a.text(t||"")}var u,h=l.count,d=l.$attr.when&&a.attr(l.$attr.when),p=l.offset||0,f=s.$eval(d)||{},g={},_=e.startSymbol(),v=e.endSymbol(),b=_+h+"-"+p+v,w=Pi.noop;r(l,function(t,e){var n=o.exec(e);if(n){var i=(n[1]?"-":"")+vi(n[2]);f[i]=a.attr(l.$attr[e])}}),r(f,function(t,n){g[n]=e(t.replace(i,b))}),s.$watch(h,function(e){var i=parseFloat(e),o=isNaN(i);if(o||i in f||(i=t.pluralCat(i-p)),i!==u&&!(o&&S(u)&&isNaN(u))){w();var r=g[i];y(r)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),w=m,c()):w=s.$watch(r,c),u=i}})}}}],as=["$parse","$animate",function(t,s){var a=i("ngRepeat"),l=function(t,e,n,i,o,r,s){t[n]=i,o&&(t[o]=r),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},c=function(t){return t.clone[0]},u=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,h){var d=h.ngRepeat,p=e.createComment(" end ngRepeat: "+d+" "),f=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var m=f[1],g=f[2],_=f[3],v=f[4];if(!(f=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var y=f[3]||f[1],b=f[2];if(_&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(_)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(_)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",_);var w,$,x,S,C={$id:Ut};return v?w=t(v):(x=function(t,e){return Ut(e)},S=function(t){return t}),function(t,e,i,h,f){w&&($=function(e,n,i){return b&&(C[b]=e),C[y]=n,C.$index=i,w(t,C)});var m=mt();t.$watchCollection(g,function(i){var h,g,v,w,C,T,E,k,M,D,A,I,P=e[0],L=mt();if(_&&(t[_]=i),o(i))M=i,k=$||x;else{k=$||S,M=[];for(var O in i)yi.call(i,O)&&"$"!==O.charAt(0)&&M.push(O)}for(w=M.length,A=new Array(w),h=0;h<w;h++)if(C=i===M?h:M[h],T=i[C],E=k(C,T,h),m[E])D=m[E],delete m[E],L[E]=D,A[h]=D;else{if(L[E])throw r(A,function(t){t&&t.scope&&(m[t.id]=t)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,E,T);A[h]={id:E,scope:n,clone:n},L[E]=!0}for(var N in m){if(D=m[N],I=ft(D.clone),s.leave(I),I[0].parentNode)for(h=0,g=I.length;h<g;h++)I[h].$$NG_REMOVED=!0;D.scope.$destroy()}for(h=0;h<w;h++)if(C=i===M?h:M[h],T=i[C],D=A[h],D.scope){v=P;do{v=v.nextSibling}while(v&&v.$$NG_REMOVED);c(D)!=v&&s.move(ft(D.clone),null,Si(P)),P=u(D),l(D.scope,h,y,T,b,C,w)}else f(function(t,e){D.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,s.enter(t,null,Si(P)),P=n,D.clone=t,L[D.id]=D,l(D.scope,h,y,T,b,C,w)});m=L})}}}}],ls=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],cs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],us=Kn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&r(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),hs=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,s){var a=o.ngSwitch||o.on,l=[],c=[],u=[],h=[],d=function(t,e){return function(){t.splice(e,1)}};n.$watch(a,function(n){var i,o;for(i=0,o=u.length;i<o;++i)t.cancel(u[i]);for(u.length=0,i=0,o=h.length;i<o;++i){var a=ft(c[i].clone);h[i].$destroy();(u[i]=t.leave(a)).then(d(u,i))}c.length=0,h.length=0,(l=s.cases["!"+n]||s.cases["?"])&&r(l,function(n){n.transclude(function(i,o){h.push(o);var r=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: ");var s={clone:i};c.push(s),t.enter(i,r.parent(),r)})})})}}}],ds=Kn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,o){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:o,element:e})}}),ps=Kn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,o){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:o,element:e})}}),fs=Kn({restrict:"EAC",link:function(t,e,n,o,r){if(!r)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(e));r(function(t){e.empty(),e.append(t)})}}),ms=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,o=e[0].text;t.put(i,o)}}}}],gs={$setViewValue:m,$render:m},_s=["$element","$scope","$attrs",function(t,i,o){var r=this,s=new Wt;r.ngModelCtrl=gs,r.unknownOption=Si(e.createElement("option")),r.renderUnknownOption=function(e){var n="? "+Ut(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},i.$on("$destroy",function(){r.renderUnknownOption=m}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(t,e){dt(t,'"option value"'),""===t&&(r.emptyOption=e);var n=s.get(t)||0;s.put(t,n+1)},r.removeOption=function(t){var e=s.get(t);e&&(1===e?(s.remove(t),""===t&&(r.emptyOption=n)):s.put(t,e-1))},r.hasOption=function(t){return!!s.get(t)}}],vs=function(){return{restrict:"E",require:["select","?ngModel"],controller:_s,link:function(t,e,n,i){var o=i[1];if(o){var s=i[0];if(s.ngModelCtrl=o,o.$render=function(){s.writeValue(o.$viewValue)},e.on("change",function(){t.$apply(function(){o.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var t=[];return r(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},s.writeValue=function(t){var n=new Wt(t);r(e.find("option"),function(t){t.selected=b(n.get(t.value))})};var a,l=NaN;t.$watch(function(){l!==o.$viewValue||z(a,o.$viewValue)||(a=F(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(t){return!t||0===t.length}}}}}},ys=["$interpolate",function(t){function e(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,i){if(b(i.value))var o=t(i.value,!0);else{var r=t(n.text(),!0);r||i.$set("value",n.text())}return function(t,n,i){function s(t){l.addOption(t,n),l.ngModelCtrl.$render(),e(n)}var a=n.parent(),l=a.data("$selectController")||a.parent().data("$selectController");if(l&&l.ngModelCtrl){if(o){var c;i.$observe("value",function(t){b(c)&&l.removeOption(c),c=t,s(t)})}else r?t.$watch(r,function(t,e){i.$set("value",t),e!==t&&l.removeOption(e),s(t)}):s(i.value);n.on("$destroy",function(){l.removeOption(i.value),l.ngModelCtrl.$render()})}}}}}],bs=_({restrict:"E",terminal:!1}),ws=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},$s=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,o,r){if(r){var s,a=o.ngPattern||o.pattern;o.$observe("pattern",function(t){if(x(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,Z(e));s=t||n,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||y(s)||s.test(e)}}}}},xs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var o=-1;n.$observe("maxlength",function(t){var e=p(t);o=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return o<0||i.$isEmpty(e)||e.length<=o}}}}},Ss=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var o=0;n.$observe("minlength",function(t){o=p(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=o}}}}};if(t.angular.bootstrap)return void console.log("WARNING: Tried to load angular more than once.");!function(){var e;if(!ji){var i=Fi();Ci=y(i)?t.jQuery:i?t[i]:n,Ci&&Ci.fn.on?(Si=Ci,h(Ci.fn,{scope:uo.scope,isolateScope:uo.isolateScope,controller:uo.controller,injector:uo.injector,inheritedData:uo.inheritedData}),e=Ci.cleanData,Ci.cleanData=function(t){var n;if(Oi)Oi=!1;else for(var i,o=0;null!=(i=t[o]);o++)(n=Ci._data(i,"events"))&&n.$destroy&&Ci(i).triggerHandler("$destroy");e(t)}):Si=Tt,Pi.element=Si,ji=!0}}(),function(e){h(e,{bootstrap:st,copy:R,extend:h,merge:d,equals:z,element:Si,forEach:r,injector:Jt,noop:m,bind:Y,toJson:W,fromJson:X,identity:g,isUndefined:y,isDefined:b,isString:x,isFunction:T,isObject:w,isNumber:S,isElement:N,isArray:Ni,version:Ji,isDate:C,lowercase:vi,uppercase:bi,callbacks:{counter:0},getTestability:lt,$$minErr:i,$$csp:Ri,reloadWithDebugInfo:at}),(Ti=gt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:mn}),t.provider("$compile",se).directive({a:ur,input:Er,textarea:Er,form:mr,script:ms,select:vs,style:bs,option:ys,ngBind:Dr,ngBindHtml:Ir,ngBindTemplate:Ar,ngClass:Lr,ngClassEven:Nr,ngClassOdd:Or,ngCloak:Vr,ngController:Hr,ngForm:gr,ngHide:cs,ngIf:Fr,ngInclude:zr,ngInit:jr,ngNonBindable:ns,ngPluralize:ss,ngRepeat:as,ngShow:ls,ngStyle:us,ngSwitch:hs,ngSwitchWhen:ds,ngSwitchDefault:ps,ngOptions:rs,ngTransclude:fs,ngModel:Qr,ngList:Yr,ngChange:Pr,pattern:$s,ngPattern:$s,required:ws,ngRequired:ws,minlength:Ss,ngMinlength:Ss,maxlength:xs,ngMaxlength:xs,ngValue:Mr,ngModelOptions:es}).directive({ngInclude:qr}).directive(hr).directive(Br),t.provider({$anchorScroll:Kt,$animate:Co,$animateCss:To,$$animateQueue:So,$$AnimateRunner:xo,$browser:ie,$cacheFactory:oe,$controller:he,$document:de,$exceptionHandler:pe,$filter:Mn,$$forceReflow:Ao,$interpolate:Ee,$interval:ke,$http:xe,$httpParamSerializer:me,$httpParamSerializerJQLike:ge,$httpBackend:Ce,$xhrFactory:Se,$location:ze,$log:qe,$parse:cn,$rootScope:fn,$q:un,$$q:hn,$sce:yn,$sceDelegate:vn,$sniffer:bn,$templateCache:re,$templateRequest:wn,$$testability:$n,$timeout:xn,$window:Tn,$$rAF:pn,$$jqLite:Yt,$$HashMap:mo,$$cookieReader:kn})}])}(Pi),Pi.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function i(t,i){var o=i;n===o&&(o=Math.min(e(t),3));var r=Math.pow(10,o);return{v:o,f:(t*r|0)%r}}var o={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",pluralCat:function(t,e){var n=0|t,r=i(t,e);return 1==n&&0==r.v?o.ONE:o.OTHER}})}]),Si(e).ready(function(){rt(e,st)})}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/*! onsenui - v1.3.11 - 2015-09-28 */
function(){function t(t){return d.call(t)}function e(t,e,n){try{c.call(t,e,n)}catch(t){}}function n(t,e){u.call(t,e)}function i(t){return p.call(t)}function o(t){for(;t.childNodes.length;)t.removeChild(t.lastChild)}function r(t,e,n){h.value.call(t,e,n)}function s(){var t=!0;try{f.innerHTML="<test/>"}catch(e){t=!1}return t}function a(s,a){function l(o){var r=t(o);if(r&&r.length){for(var s,a=0,c=r.length;a<c;a++){var u=r[a],h=u.name;"o"!==h[0]&&"O"!==h[0]||"n"!==h[1]&&"N"!==h[1]||(s=s||[],s.push({name:u.name,value:u.value}))}if(s)for(var a=0,c=s.length;a<c;a++){var u=s[a];n(o,u.name),e(o,"x-"+u.name,u.value)}}for(var d=i(o),a=0,c=d.length;a<c;a++)l(d[a])}var c=document.implementation.createHTMLDocument("cleaner");o(c.documentElement),MSApp.execUnsafeLocalFunction(function(){r(c.documentElement,"afterbegin",s)});var u=c.documentElement.querySelectorAll("script");Array.prototype.forEach.call(u,function(t){switch(t.type.toLowerCase()){case"":t.type="text/inert";break;case"text/javascript":case"text/ecmascript":case"text/x-javascript":case"text/jscript":case"text/livescript":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":t.type="text/inert-"+t.type.slice("text/".length);break;case"application/javascript":case"application/ecmascript":case"application/x-javascript":t.type="application/inert-"+t.type.slice("application/".length)}}),l(c.documentElement);var h=[];return"HTML"===a.tagName?h=Array.prototype.slice.call(document.adoptNode(c.documentElement).childNodes):(c.head&&(h=h.concat(Array.prototype.slice.call(document.adoptNode(c.head).childNodes))),c.body&&(h=h.concat(Array.prototype.slice.call(document.adoptNode(c.body).childNodes)))),h}function l(t,e){var n=Object.getOwnPropertyDescriptor(HTMLElement.prototype,t),i=n.set;Object.defineProperty(HTMLElement.prototype,t,{get:n.get,set:function(t){if(window.WinJS&&window.WinJS._execUnsafe&&s())i.call(this,t);else{var o=this,r=a(t,o);MSApp.execUnsafeLocalFunction(function(){e(n,o,r)})}},enumerable:n.enumerable,configurable:n.configurable})}if(window.MSApp&&MSApp.execUnsafeLocalFunction){var c=Object.getOwnPropertyDescriptor(Element.prototype,"setAttribute").value,u=Object.getOwnPropertyDescriptor(Element.prototype,"removeAttribute").value,h=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"insertAdjacentHTML"),d=Object.getOwnPropertyDescriptor(Node.prototype,"attributes").get,p=Object.getOwnPropertyDescriptor(Node.prototype,"childNodes").get,f=document.createElement("div");l("innerHTML",function(t,e,n){o(e);for(var i=0,r=n.length;i<r;i++)e.appendChild(n[i])}),l("outerHTML",function(t,e,n){for(var i=0,o=n.length;i<o;i++)e.insertAdjacentElement("afterend",n[i]);e.parentNode.removeChild(e)})}}(),function(){var t=!1,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function i(){!t&&this.init&&this.init.apply(this,arguments)}var o=this.prototype;t=!0;var r=new this;t=!1;for(var s in n)r[s]="function"==typeof n[s]&&"function"==typeof o[s]&&e.test(n[s])?function(t,e){return function(){var n=this._super;this._super=o[t];var i=e.apply(this,arguments);return this._super=n,i}}(s,n[s]):n[s];return i.prototype=r,i.prototype.constructor=i,i.extend=arguments.callee,i}}(),function(){"use strict";/**
     * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
     *
     * @codingstandard ftlabs-jsv2
     * @copyright The Financial Times Limited [All Rights Reserved]
     * @license MIT License (see LICENSE.txt)
     */
function t(e,i){var o;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=e,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(e)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,a=0,l=r.length;a<l;a++)s[r[a]]=function(t,e){return function(){return t.apply(e,arguments)}}(s[r[a]],s);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var o=Node.prototype.removeEventListener;"click"===t?o.call(e,t,n.hijacked||n,i):o.call(e,t,n,i)},e.addEventListener=function(t,n,i){var o=Node.prototype.addEventListener;"click"===t?o.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):o.call(e,t,n,i)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",function(t){o(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=i&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],i){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.timeStamp-this.lastClickTime>-1&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,s,a,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay&&t.timeStamp-this.lastClickTime>-1)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(c=t.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(a=u.tagName.toLowerCase())){if(e=this.findControl(u)){if(this.focus(u),n)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-s>100||i&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),i&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return!(!i||o||!(l=u.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,i,o;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),/*! Hammer.JS - v2.0.6 - 2016-01-06
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the  license */
function(t,e,n,i){"use strict";function o(t,e,n){return setTimeout(c(t,n),e)}function r(t,e,n){return!!Array.isArray(t)&&(s(t,n[e],n),!0)}function s(t,e,n){var o;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(o=0;o<t.length;)e.call(n,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function a(e,n,i){var o="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=t.console&&(t.console.warn||t.console.log);return r&&r.call(t.console,o,i),e.apply(this,arguments)}}function l(t,e,n){var i,o=e.prototype;i=t.prototype=Object.create(o),i.constructor=t,i._super=o,n&&at(i,n)}function c(t,e){return function(){return t.apply(e,arguments)}}function u(t,e){return typeof t==ut?t.apply(e?e[0]||i:i,e):t}function h(t,e){return t===i?e:t}function d(t,e,n){s(g(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){s(g(e),function(e){t.removeEventListener(e,n,!1)})}function f(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function _(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function v(t){return Array.prototype.slice.call(t,0)}function y(t,e,n){for(var i=[],o=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];_(o,s)<0&&i.push(t[r]),o[r]=s,r++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function b(t,e){for(var n,o,r=e[0].toUpperCase()+e.slice(1),s=0;s<lt.length;){if(n=lt[s],(o=n?n+r:e)in t)return o;s++}return i}function w(){return gt++}function $(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function x(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){u(t.options.enable,[t])&&n.handler(e)},this.init()}function S(t){var e=t.options.inputClass;return new(e||(yt?H:bt?F:vt?q:V))(t,C)}function C(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,r=e&$t&&i-o==0,s=e&(St|Ct)&&i-o==0;n.isFirst=!!r,n.isFinal=!!s,r&&(t.session={}),n.eventType=e,T(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function T(t,e){var n=t.session,i=e.pointers,o=i.length;n.firstInput||(n.firstInput=M(e)),o>1&&!n.firstMultiple?n.firstMultiple=M(e):1===o&&(n.firstMultiple=!1);var r=n.firstInput,s=n.firstMultiple,a=s?s.center:r.center,l=e.center=D(i);e.timeStamp=pt(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=L(a,l),e.distance=P(a,l),E(n,e),e.offsetDirection=I(e.deltaX,e.deltaY);var c=A(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=dt(c.x)>dt(c.y)?c.x:c.y,e.scale=s?N(s.pointers,i):1,e.rotation=s?O(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,k(n,e);var u=t.element;f(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u,e.startEvent=r}function E(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==$t&&r.eventType!==St||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}function k(t,e){var n,o,r,s,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=Ct&&(l>wt||a.velocity===i)){var c=e.deltaX-a.deltaX,u=e.deltaY-a.deltaY,h=A(l,c,u);o=h.x,r=h.y,n=dt(h.x)>dt(h.y)?h.x:h.y,s=I(c,u),t.lastInterval=e}else n=a.velocity,o=a.velocityX,r=a.velocityY,s=a.direction;e.velocity=n,e.velocityX=o,e.velocityY=r,e.direction=s}function M(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:ht(t.pointers[n].clientX),clientY:ht(t.pointers[n].clientY)},n++;return{timeStamp:pt(),pointers:e,center:D(e),deltaX:t.deltaX,deltaY:t.deltaY}}function D(t){var e=t.length;if(1===e)return{x:ht(t[0].clientX),y:ht(t[0].clientY)};for(var n=0,i=0,o=0;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:ht(n/e),y:ht(i/e)}}function A(t,e,n){return{x:e/t||0,y:n/t||0}}function I(t,e){return t===e?Tt:dt(t)>=dt(e)?t<0?Et:kt:e<0?Mt:Dt}function P(t,e,n){n||(n=Lt);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function L(t,e,n){n||(n=Lt);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI}function O(t,e){return L(e[1],e[0],Ot)+L(t[1],t[0],Ot)}function N(t,e){return P(e[0],e[1],Ot)/P(t[0],t[1],Ot)}function V(){this.evEl=Vt,this.evWin=Ht,this.allow=!0,this.pressed=!1,x.apply(this,arguments)}function H(){this.evEl=Ft,this.evWin=zt,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=jt,this.evWin=Yt,this.started=!1,x.apply(this,arguments)}function R(t,e){var n=v(t.touches),i=v(t.changedTouches);return e&(St|Ct)&&(n=y(n.concat(i),"identifier",!0)),[n,i]}function F(){this.evTarget=Wt,this.targetIds={},x.apply(this,arguments)}function z(t,e){var n=v(t.touches),i=this.targetIds;if(e&($t|xt)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r,s=v(t.changedTouches),a=[],l=this.target;if(r=n.filter(function(t){return f(t.target,l)}),e===$t)for(o=0;o<r.length;)i[r[o].identifier]=!0,o++;for(o=0;o<s.length;)i[s[o].identifier]&&a.push(s[o]),e&(St|Ct)&&delete i[s[o].identifier],o++;return a.length?[y(r.concat(a),"identifier",!0),a]:void 0}function q(){x.apply(this,arguments);var t=c(this.handler,this);this.touch=new F(this.manager,t),this.mouse=new V(this.manager,t)}function j(t,e){this.manager=t,this.set(e)}function Y(t){if(m(t,Zt))return Zt;var e=m(t,Qt),n=m(t,te);return e&&n?Zt:e||n?e?Qt:te:m(t,Kt)?Kt:Jt}function U(t){this.options=at({},this.defaults,t||{}),this.id=w(),this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=ee,this.simultaneous={},this.requireFail=[]}function W(t){return t&se?"cancel":t&oe?"end":t&ie?"move":t&ne?"start":""}function X(t){return t==Dt?"down":t==Mt?"up":t==Et?"left":t==kt?"right":""}function G(t,e){var n=e.manager;return n?n.get(t):t}function J(){U.apply(this,arguments)}function K(){J.apply(this,arguments),this.pX=null,this.pY=null}function Z(){J.apply(this,arguments)}function Q(){U.apply(this,arguments),this._timer=null,this._input=null}function tt(){J.apply(this,arguments)}function et(){J.apply(this,arguments)}function nt(){U.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function it(t,e){return e=e||{},e.recognizers=h(e.recognizers,it.defaults.preset),new ot(t,e)}function ot(t,e){this.options=at({},it.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=S(this),this.touchAction=new j(this,this.options.touchAction),rt(this,!0),s(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function rt(t,e){var n=t.element;n.style&&s(t.options.cssProps,function(t,i){n.style[b(n.style,i)]=e?t:""})}function st(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var at,lt=["","webkit","Moz","MS","ms","o"],ct=e.createElement("div"),ut="function",ht=Math.round,dt=Math.abs,pt=Date.now;at="function"!=typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(o!==i&&null!==o)for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r])}return e}:Object.assign;var ft=a(function(t,e,n){for(var o=Object.keys(e),r=0;r<o.length;)(!n||n&&t[o[r]]===i)&&(t[o[r]]=e[o[r]]),r++;return t},"extend","Use `assign`."),mt=a(function(t,e){return ft(t,e,!0)},"merge","Use `assign`."),gt=1,_t=/mobile|tablet|ip(ad|hone|od)|android/i,vt="ontouchstart"in t,yt=b(t,"PointerEvent")!==i,bt=vt&&_t.test(navigator.userAgent),wt=25,$t=1,xt=2,St=4,Ct=8,Tt=1,Et=2,kt=4,Mt=8,Dt=16,At=Et|kt,It=Mt|Dt,Pt=At|It,Lt=["x","y"],Ot=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d($(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p($(this.element),this.evWin,this.domHandler)}};var Nt={mousedown:$t,mousemove:xt,mouseup:St},Vt="mousedown",Ht="mousemove mouseup";l(V,x,{handler:function(t){var e=Nt[t.type];e&$t&&0===t.button&&(this.pressed=!0),e&xt&&1!==t.which&&(e=St),this.pressed&&this.allow&&(e&St&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Bt={pointerdown:$t,pointermove:xt,pointerup:St,pointercancel:Ct,pointerout:Ct},Rt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ft="pointerdown",zt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Ft="MSPointerDown",zt="MSPointerMove MSPointerUp MSPointerCancel"),l(H,x,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=Bt[i],r=Rt[t.pointerType]||t.pointerType,s="touch"==r,a=_(e,t.pointerId,"pointerId");o&$t&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(St|Ct)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(a,1))}});var qt={touchstart:$t,touchmove:xt,touchend:St,touchcancel:Ct},jt="touchstart",Yt="touchstart touchmove touchend touchcancel";l(B,x,{handler:function(t){var e=qt[t.type];if(e===$t&&(this.started=!0),this.started){var n=R.call(this,t,e);e&(St|Ct)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Ut={touchstart:$t,touchmove:xt,touchend:St,touchcancel:Ct},Wt="touchstart touchmove touchend touchcancel";l(F,x,{handler:function(t){var e=Ut[t.type],n=z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),l(q,x,{handler:function(t,e,n){var i="touch"==n.pointerType,o="mouse"==n.pointerType;if(i)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(St|Ct)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Xt=b(ct.style,"touchAction"),Gt=Xt!==i,Jt="auto",Kt="manipulation",Zt="none",Qt="pan-x",te="pan-y";j.prototype={set:function(t){"compute"==t&&(t=this.compute()),Gt&&this.manager.element.style&&(this.manager.element.style[Xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){u(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){if(!Gt){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,o=m(i,Zt),r=m(i,te),s=m(i,Qt);if(o){var a=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(a&&l&&c)return}if(!s||!r)return o||r&&n&At||s&&n&It?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ee=1,ne=2,ie=4,oe=8,re=oe,se=16;U.prototype={defaults:{},set:function(t){return at(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(r(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=G(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return r(t,"dropRecognizeWith",this)?this:(t=G(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(r(t,"requireFailure",this))return this;var e=this.requireFail;return t=G(t,this),-1===_(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(r(t,"dropRequireFailure",this))return this;t=G(t,this);var e=_(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;i<oe&&e(n.options.event+W(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=oe&&e(n.options.event+W(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|ee)))return!1;t++}return!0},recognize:function(t){var e=at({},t);if(!u(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(re|se|32)&&(this.state=ee),this.state=this.process(e),this.state&(ne|ie|oe|se)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},l(J,U,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(ne|ie),o=this.attrTest(t);return i&&(n&Ct||!o)?e|se:i||o?n&St?e|oe:e&ne?e|ie:ne:32}}),l(K,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pt},getTouchAction:function(){var t=this.options.direction,e=[];return t&At&&e.push(te),t&It&&e.push(Qt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&At?(o=0===r?Tt:r<0?Et:kt,n=r!=this.pX,i=Math.abs(t.deltaX)):(o=0===s?Tt:s<0?Mt:Dt,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return J.prototype.attrTest.call(this,t)&&(this.state&ne||!(this.state&ne)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=X(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),l(Z,J,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ne)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),l(Q,U,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Jt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(St|Ct)&&!r)this.reset();else if(t.eventType&$t)this.reset(),this._timer=o(function(){this.state=re,this.tryEmit()},e.time,this);else if(t.eventType&St)return re;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===re&&(t&&t.eventType&St?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=pt(),this.manager.emit(this.options.event,this._input)))}}),l(tt,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ne)}}),l(et,J,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:At|It,pointers:1},getTouchAction:function(){return K.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(At|It)?e=t.overallVelocity:n&At?e=t.overallVelocityX:n&It&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&dt(e)>this.options.velocity&&t.eventType&St},emit:function(t){var e=X(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(nt,U,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Kt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&$t&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=St)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||P(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=o(function(){this.state=re,this.tryEmit()},e.interval,this),ne):re}return 32},failTimeout:function(){return this._timer=o(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==re&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),it.VERSION="2.0.6",it.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[tt,{enable:!1}],[Z,{enable:!1},["rotate"]],[et,{direction:Pt}],[K,{direction:Pt},["swipe"]],[nt],[nt,{event:"doubletap",taps:2},["tap"]],[Q]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ot.prototype={set:function(t){return at(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&re)&&(o=e.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(ne|ie|oe)&&(o=e.curRecognizer=n),r++}},get:function(t){if(t instanceof U)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(r(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(r(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=_(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){var n=this.handlers;return s(g(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return s(g(t),function(t){e?n[t]&&n[t].splice(_(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&st(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&rt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},at(it,{INPUT_START:$t,INPUT_MOVE:xt,INPUT_END:St,INPUT_CANCEL:Ct,STATE_POSSIBLE:ee,STATE_BEGAN:ne,STATE_CHANGED:ie,STATE_ENDED:oe,STATE_RECOGNIZED:re,STATE_CANCELLED:se,STATE_FAILED:32,DIRECTION_NONE:Tt,DIRECTION_LEFT:Et,DIRECTION_RIGHT:kt,DIRECTION_UP:Mt,DIRECTION_DOWN:Dt,DIRECTION_HORIZONTAL:At,DIRECTION_VERTICAL:It,DIRECTION_ALL:Pt,Manager:ot,Input:x,TouchAction:j,TouchInput:F,MouseInput:V,PointerEventInput:H,TouchMouseInput:q,SingleTouchInput:B,Recognizer:U,AttrRecognizer:J,Tap:nt,Pan:K,Swipe:et,Pinch:Z,Rotate:tt,Press:Q,on:d,off:p,each:s,merge:mt,extend:ft,assign:at,inherit:l,bindFn:c,prefixed:b}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=it,"function"==typeof define&&define.amd?define(function(){return it}):"undefined"!=typeof module&&module.exports?module.exports=it:t.Hammer=it}(window,document);/*! iScroll v5.0.6 ~ (c) 2008-2013 Matteo Spinelli ~ http://cubiq.org/license */
var IScroll=function(t,e,n){function i(t,n){this.wrapper="string"==typeof t?e.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in n)this.options[i]=n[i];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"",this.options.useTransition=r.hasTransition&&this.options.useTransition,this.options.useTransform=r.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},r=function(){function i(t){return!1!==s&&(""===s?t:s+t.charAt(0).toUpperCase()+t.substr(1))}var o={},r=e.createElement("div").style,s=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,n=t.length;e<n;e++)if(t[e]+"ransform"in r)return t[e].substr(0,t[e].length-1);return!1}();o.getTime=Date.now||function(){return(new Date).getTime()},o.extend=function(t,e){for(var n in e)t[n]=e[n]},o.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},o.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},o.momentum=function(t,e,i,o,r){var s,a,l=t-e,c=n.abs(l)/i;return s=t+c*c/.0012*(l<0?-1:1),a=c/6e-4,s<o?(s=r?o-r/2.5*(c/8):o,l=n.abs(s-t),a=l/c):s>0&&(s=r?r/2.5*(c/8):0,l=n.abs(t)+s,a=l/c),{destination:n.round(s),duration:a}};var a=i("transform");return o.extend(o,{hasTransform:!1!==a,hasPerspective:i("perspective")in r,hasTouch:"ontouchstart"in t,hasPointer:navigator.msPointerEnabled,hasTransition:i("transition")in r}),o.isAndroidBrowser=/Android/.test(t.navigator.appVersion)&&/Version\/\d/.test(t.navigator.appVersion),o.extend(o.style={},{transform:a,transitionTimingFunction:i("transitionTimingFunction"),transitionDuration:i("transitionDuration"),transformOrigin:i("transformOrigin")}),o.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},o.addClass=function(t,e){if(!o.hasClass(t,e)){var n=t.className.split(" ");n.push(e),t.className=n.join(" ")}},o.removeClass=function(t,e){if(o.hasClass(t,e)){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n," ")}},o.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},o.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},o.extend(o.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),o.extend(o.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return n.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*n.pow(2,-10*t)*n.sin((t-.055)*(2*n.PI)/.22)+1}}}),o.tap=function(t,n){var i=e.createEvent("Event");i.initEvent(n,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},o.click=function(t){var n,i=t.target;"SELECT"!=i.tagName&&"INPUT"!=i.tagName&&"TEXTAREA"!=i.tagName&&(n=e.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),n._constructed=!0,i.dispatchEvent(n))},o}();return i.prototype={version:"5.0.6",_init:function(){this._initEvents()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&(this._transitionTime(0),this.resetPosition(this.options.bounceTime)||this._execEvent("scrollEnd"))},_start:function(t){if((1==r.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||r.eventType[t.type]===this.initiated)){!this.options.preventDefault||r.isAndroidBrowser||r.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=r.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.isAnimating=!1,this.startTime=r.getTime(),this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(n.round(e.x),n.round(e.y)),this._execEvent("scrollEnd"),this.isInTransition=!1),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,o,s,a=t.touches?t.touches[0]:t,l=a.pageX-this.pointX,c=a.pageY-this.pointY,u=r.getTime();if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=l,this.distY+=c,o=n.abs(this.distX),s=n.abs(this.distY),!(u-this.endTime>300&&o<10&&s<10)){if(this.directionLocked||this.options.freeScroll||(o>s+this.options.directionLockThreshold?this.directionLocked="h":s>=o+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,c=this.hasVerticalScroll?c:0,e=this.x+l,i=this.y+c,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+c/3:i>0?0:this.maxScrollY),this.directionX=l>0?-1:l<0?1:0,this.directionY=c>0?-1:c<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,o=(t.changedTouches&&t.changedTouches[0],r.getTime()-this.startTime),s=n.round(this.x),a=n.round(this.y),l=n.abs(s-this.startX),c=n.abs(a-this.startY),u=0,h="";if(this.scrollTo(s,a),this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(!this.moved)return this.options.tap&&r.tap(t,this.options.tap),void(this.options.click&&r.click(t));if(this._events.flick&&o<200&&l<100&&c<100)return void this._execEvent("flick");if(this.options.momentum&&o<300&&(e=this.hasHorizontalScroll?r.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:s,duration:0},i=this.hasVerticalScroll?r.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:a,duration:0},s=e.destination,a=i.destination,u=n.max(e.duration,i.duration),this.isInTransition=1),s!=this.x||a!=this.y)return(s>0||s<this.maxScrollX||a>0||a<this.maxScrollY)&&(h=r.ease.quadratic),void this.scrollTo(s,a,u,h);this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,n=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(e!=this.x||n!=this.y)&&(this.scrollTo(e,n,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=r.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},_execEvent:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;e<n;e++)this._events[t][e].call(this)}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){i=i||r.ease.circular,!n||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(t,e)):this._animate(t,e,n,i.fn)},scrollToElement:function(t,e,i,o,s){if(t=t.nodeType?t:this.scroller.querySelector(t)){var a=r.offset(t);a.left-=this.wrapperOffset.left,a.top-=this.wrapperOffset.top,!0===i&&(i=n.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===o&&(o=n.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),a.left-=i||0,a.top-=o||0,a.left=a.left>0?0:a.left<this.maxScrollX?this.maxScrollX:a.left,a.top=a.top>0?0:a.top<this.maxScrollY?this.maxScrollY:a.top,e=void 0===e||null===e||"auto"===e?n.max(n.abs(this.x-a.left),n.abs(this.y-a.top)):e,this.scrollTo(a.left,a.top,e,s)}},_transitionTime:function(t){t=t||0,this.scrollerStyle[r.style.transitionDuration]=t+"ms"},_transitionTimingFunction:function(t){this.scrollerStyle[r.style.transitionTimingFunction]=t},_translate:function(t,e){this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=n.round(t),e=n.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e},_initEvents:function(e){var n=e?r.removeEvent:r.addEvent,i=this.options.bindToWrapper?this.wrapper:t;n(t,"orientationchange",this),n(t,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(i,"mousemove",this),n(i,"mousecancel",this),n(i,"mouseup",this)),r.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,"MSPointerDown",this),n(i,"MSPointerMove",this),n(i,"MSPointerCancel",this),n(i,"MSPointerUp",this)),r.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(i,"touchmove",this),n(i,"touchcancel",this),n(i,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,n,i=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[r.style.transform].split(")")[0].split(", "),e=+(i[12]||i[4]),n=+(i[13]||i[5])):(e=+i.left.replace(/[^-\d]/g,""),n=+i.top.replace(/[^-\d]/g,"")),{x:e,y:n}},_animate:function(t,e,n,i){function s(){var d,p,f,m=r.getTime();if(m>=h)return a.isAnimating=!1,a._translate(t,e),void(a.resetPosition(a.options.bounceTime)||a._execEvent("scrollEnd"));m=(m-u)/n,f=i(m),d=(t-l)*f+l,p=(e-c)*f+c,a._translate(d,p),a.isAnimating&&o(s)}var a=this,l=this.x,c=this.y,u=r.getTime(),h=u+n;this.isAnimating=!0,s()},handleEvent:function(t){switch(t.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},i.ease=r.ease,i}(window,document,Math),MicroEvent=function(){};/**
 * @license
 * Copyright (c) 2010 Fbio Rehm <fgrehm@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
if(MicroEvent.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},once:function(t,e){var n=this,i=function(){return n.off(t,i),e.apply(null,arguments)};this.on(t,i)},off:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},emit:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},MicroEvent.mixin=function(t){for(var e=["on","once","off","emit"],n=0;n<e.length;n++)"function"==typeof t?t.prototype[e[n]]=MicroEvent.prototype[e[n]]:t[e[n]]=MicroEvent.prototype[e[n]]},"undefined"!=typeof module&&"exports"in module&&(module.exports=MicroEvent),window.Modernizr=function(t,e,n){function i(t){m.cssText=t}function o(t,e){return typeof t===e}function r(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var i in t){var o=t[i];if(!r(o,"-")&&m[o]!==n)return"pfx"!=e||o}return!1}function a(t,e,i){for(var r in t){var s=e[t[r]];if(s!==n)return!1===i?t[r]:o(s,"function")?s.bind(i||e):s}return!1}function l(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+v.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?s(r,e):(r=(t+" "+y.join(i+" ")+i).split(" "),a(r,e,n))}var c,u,h={},d=e.documentElement,p="modernizr",f=e.createElement(p),m=f.style,g=" -webkit- -moz- -o- -ms- ".split(" "),_="Webkit Moz O ms",v=_.split(" "),y=_.toLowerCase().split(" "),b={svg:"http://www.w3.org/2000/svg"},w={},$=[],x=$.slice,S=function(t,n,i,o){var r,s,a,l,c=e.createElement("div"),u=e.body,h=u||e.createElement("body");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=o?o[i]:p+(i+1),c.appendChild(a);return r=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),c.id=p,(u?c:h).innerHTML+=r,h.appendChild(c),u||(h.style.background="",h.style.overflow="hidden",l=d.style.overflow,d.style.overflow="hidden",d.appendChild(h)),s=n(c,t),u?c.parentNode.removeChild(c):(h.parentNode.removeChild(h),d.style.overflow=l),!!s},C={}.hasOwnProperty;u=o(C,"undefined")||o(C.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return C.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=x.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=e.prototype;var r=new o,s=e.apply(r,n.concat(x.call(arguments)));return Object(s)===s?s:r}return e.apply(t,n.concat(x.call(arguments)))};return i}),w.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},w.borderradius=function(){return l("borderRadius")},w.boxshadow=function(){return l("boxShadow")},w.cssanimations=function(){return l("animationName")},w.csstransforms=function(){return!!l("transform")},w.csstransforms3d=function(){var t=!!l("perspective");return t&&"webkitPerspective"in d.style&&S("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,n){t=9===e.offsetLeft&&3===e.offsetHeight}),t},w.csstransitions=function(){return l("transition")},w.svg=function(){return!!e.createElementNS&&!!e.createElementNS(b.svg,"svg").createSVGRect};for(var T in w)u(w,T)&&(c=T.toLowerCase(),h[c]=w[T](),$.push((h[c]?"":"no-")+c));return h.addTest=function(t,e){if("object"==typeof t)for(var i in t)u(t,i)&&h.addTest(i,t[i]);else{if(t=t.toLowerCase(),h[t]!==n)return h;e="function"==typeof e?e():e,d.className+=" "+(e?"":"no-")+t,h[t]=e}return h},i(""),f=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=_.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=g[t[f]];return e||(e={},m++,t[f]=m,g[m]=e),e}function r(t,n,i){if(n||(n=e),u)return n.createElement(t);i||(i=o(n));var r;return r=i.cache[t]?i.cache[t].cloneNode():p.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),r.canHaveChildren&&!d.test(t)?i.frag.appendChild(r):r}function s(t,n){if(t||(t=e),u)return t.createDocumentFragment();n=n||o(t);for(var r=n.frag.cloneNode(),s=0,a=i(),l=a.length;s<l;s++)r.createElement(a[s]);return r}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return _.shivMethods?r(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(_,e.frag)}function l(t){t||(t=e);var i=o(t);return!_.shivCSS||c||i.hasCSS||(i.hasCSS=!!n(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),u||a(t,i),t}var c,u,h=t.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",m=0,g={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,u=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){c=!0,u=!0}}();var _={elements:h.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==h.shivCSS,supportsUnknownElements:u,shivMethods:!1!==h.shivMethods,type:"default",shivDocument:l,createElement:r,createDocumentFragment:s};t.html5=_,l(e)}(this,e),h._version="2.6.2",h._prefixes=g,h._domPrefixes=y,h._cssomPrefixes=v,h.testProp=function(t){return s([t])},h.testAllProps=l,h.testStyles=S,d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+$.join(" "),h}(0,this.document),function(t,e,n){function i(t){return"[object Function]"==g.call(t)}function o(t){return"string"==typeof t}function r(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=_.shift();v=1,t?t.t?f(function(){("c"==t.t?d.injectCss:d.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):v=0}function l(t,n,i,o,r,l,c){function u(e){if(!p&&s(h.readyState)&&(y.r=p=1,!v&&a(),h.onload=h.onreadystatechange=null,e)){"img"!=t&&f(function(){w.removeChild(h)},50);for(var i in T[n])T[n].hasOwnProperty(i)&&T[n][i].onload()}}var c=c||d.errorTimeout,h=e.createElement(t),p=0,g=0,y={t:i,s:n,e:r,a:l,x:c};1===T[n]&&(g=1,T[n]=[]),"object"==t?h.data=n:(h.src=n,h.type=t),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){u.call(this,g)},_.splice(o,0,y),"img"!=t&&(g||2===T[n]?(w.insertBefore(h,b?null:m),f(u,c)):T[n].push(h))}function c(t,e,n,i,r){return v=0,e=e||"j",o(t)?l("c"==e?x:$,t,e,this.i++,n,i,r):(_.splice(this.i++,0,t),1==_.length&&a()),this}function u(){var t=d;return t.loader={load:c,i:0},t}var h,d,p=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,_=[],v=0,y="MozAppearance"in p.style,b=y&&!!e.createRange().compareNode,w=b?p:m.parentNode,p=t.opera&&"[object Opera]"==g.call(t.opera),p=!!e.attachEvent&&!p,$=y?"object":p?"script":"img",x=p?"script":$,S=Array.isArray||function(t){return"[object Array]"==g.call(t)},C=[],T={},E={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};d=function(t){function e(t){var e,n,i,t=t.split("!"),o=C.length,r=t.pop(),s=t.length,r={url:r,origUrl:r,prefixes:t};for(n=0;n<s;n++)i=t[n].split("="),(e=E[i.shift()])&&(r=e(r,i));for(n=0;n<o;n++)r=C[n](r);return r}function s(t,o,r,s,a){var l=e(t),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(o&&(o=i(o)?o:o[t]||o[s]||o[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,o,r,s,a):(T[l.url]?l.noexec=!0:T[l.url]=1,r.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(o)||i(c))&&r.load(function(){u(),o&&o(l.origUrl,a,s),c&&c(l.origUrl,a,s),T[l.url]=2})))}function a(t,e){function n(t,n){if(t){if(o(t))n||(h=function(){var t=[].slice.call(arguments);d.apply(this,t),p()}),s(t,h,e,0,c);else if(Object(t)===t)for(l in a=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(l)&&(!n&&!--a&&(i(h)?h=function(){var t=[].slice.call(arguments);d.apply(this,t),p()}:h[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),p()}}(d[l])),s(t[l],h,e,l,c))}else!n&&p()}var a,l,c=!!t.test,u=t.load||t.both,h=t.callback||r,d=h,p=t.complete||r;n(c?t.yep:t.nope,!!u),u&&n(u)}var l,c,h=this.yepnope.loader;if(o(t))s(t,0,h,0);else if(S(t))for(l=0;l<t.length;l++)c=t[l],o(c)?s(c,0,h,0):S(c)?d(c):Object(c)===c&&a(c,h);else Object(t)===t&&a(t,h)},d.addPrefix=function(t,e){E[t]=e},d.addFilter=function(t){C.push(t)},d.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",h=function(){e.removeEventListener("DOMContentLoaded",h,0),e.readyState="complete"},0)),t.yepnope=u(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,n,i,o,l,c){var u,h,p=e.createElement("script"),o=o||d.errorTimeout;p.src=t;for(h in i)p.setAttribute(h,i[h]);n=c?a:n||r,p.onreadystatechange=p.onload=function(){!u&&s(p.readyState)&&(u=1,n(),p.onload=p.onreadystatechange=null)},f(function(){u||(u=1,n(1))},o),l?p.onload():m.parentNode.insertBefore(p,m)},t.yepnope.injectCss=function(t,n,i,o,s,l){var c,o=e.createElement("link"),n=l?a:n||r;o.href=t,o.rel="stylesheet",o.type="text/css";for(c in i)o.setAttribute(c,i[c]);s||(m.parentNode.insertBefore(o,m),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t,e){"use strict";function n(t){return l[a]=i.apply(e,t),a++}function i(t){var n=[].slice.call(arguments,1);return function(){"function"==typeof t?t.apply(e,n):new Function(""+t)()}}function o(t){if(c)setTimeout(i(o,t),0);else{var e=l[t];if(e){c=!0;try{e()}finally{r(t),c=!1}}}}function r(t){delete l[t]}if(!t.setImmediate){var s,a=1,l={},c=!1,u=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(){var t=n(arguments);return process.nextTick(i(o,t)),t}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",i=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&o(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),s=function(){var i=n(arguments);return t.postMessage(e+i,"*"),i}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){o(t.data)},s=function(){var e=n(arguments);return t.port2.postMessage(e),e}}():u&&"onreadystatechange"in u.createElement("script")?function(){var t=u.documentElement;s=function(){var e=n(arguments),i=u.createElement("script");return i.onreadystatechange=function(){o(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i),e}}():function(){s=function(){var t=n(arguments);return setTimeout(i(o,t),0),t}}(),h.setImmediate=s,h.clearImmediate=r}}(new Function("return this")()),function(){function t(){return this.PRE_IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.DEFAULT_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.ensureViewportElement(),this.platform={},this.platform.name=this.getPlatformName(),this.platform.version=this.getPlatformVersion(),this}t.prototype.ensureViewportElement=function(){this.viewportElement=document.querySelector("meta[name=viewport]"),this.viewportElement||(this.viewportElement=document.createElement("meta"),this.viewportElement.name="viewport",document.head.appendChild(this.viewportElement))},t.prototype.setup=function(){this.viewportElement&&"true"!=this.viewportElement.getAttribute("data-no-adjust")&&("ios"==this.platform.name?this.platform.version>=7&&function(){return!!(window.cordova||window.phonegap||window.PhoneGap)}()?this.viewportElement.setAttribute("content",this.IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.PRE_IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.DEFAULT_VIEWPORT))},t.prototype.getPlatformName=function(){return navigator.userAgent.match(/Android/i)?"android":navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":void 0},t.prototype.getPlatformVersion=function(){var t=window.navigator.userAgent.indexOf("OS ");return window.Number(window.navigator.userAgent.substr(t+3,3).replace("_","."))},window.Viewport=t}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/back_button.tpl",'<span \n  class="toolbar-button--quiet {{modifierTemplater(\'toolbar-button--*\')}}" \n  ng-click="$root.ons.findParentComponentUntil(\'ons-navigator\', $event).popPage({cancelIfRunning: true})"\n  ng-show="showBackButton"\n  style="height: 44px; line-height: 0; padding: 0 10px 0 0; position: relative;">\n  \n  <i \n    class="ion-ios-arrow-back ons-back-button__icon" \n    style="vertical-align: top; background-color: transparent; height: 44px; line-height: 44px; font-size: 36px; margin-left: 8px; margin-right: 2px; width: 16px; display: inline-block; padding-top: 1px;"></i>\n\n  <span \n    style="vertical-align: top; display: inline-block; line-height: 44px; height: 44px;" \n    class="back-button__label"></span>\n</span>\n')}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/button.tpl",'<span class="label ons-button-inner"></span>\n<span class="spinner button__spinner {{modifierTemplater(\'button--*__spinner\')}}"></span>\n')}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/dialog.tpl",'<div class="dialog-mask"></div>\n<div class="dialog {{ modifierTemplater(\'dialog--*\') }}"></div>\n</div>\n')}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/icon.tpl",'<i class="fa fa-{{icon}} fa-{{spin}} fa-{{fixedWidth}} fa-rotate-{{rotate}} fa-flip-{{flip}}" ng-class="sizeClass" ng-style="style"></i>\n')}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/popover.tpl",'<div class="popover-mask"></div>\n<div class="popover popover--{{ direction }} {{ modifierTemplater(\'popover--*\') }}">\n  <div class="popover__content {{ modifierTemplater(\'popover__content--*\') }}"></div>\n  <div class="popover__{{ arrowPosition }}-arrow"></div>\n</div>\n')}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/row.tpl",'<div class="row row-{{align}} ons-row-inner"></div>\n')}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/sliding_menu.tpl",'<div class="onsen-sliding-menu__menu ons-sliding-menu-inner"></div>\n<div class="onsen-sliding-menu__main ons-sliding-menu-inner"></div>\n')}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/split_view.tpl",'<div class="onsen-split-view__secondary full-screen ons-split-view-inner"></div>\n<div class="onsen-split-view__main full-screen ons-split-view-inner"></div>\n')}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/switch.tpl",'<label class="switch {{modifierTemplater(\'switch--*\')}}">\n  <input type="checkbox" class="switch__input {{modifierTemplater(\'switch--*__input\')}}" ng-model="model">\n  <div class="switch__toggle {{modifierTemplater(\'switch--*__toggle\')}}"></div>\n</label>\n')}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/tab.tpl",'<input type="radio" name="tab-bar-{{tabbarId}}" style="display: none">\n<button class="tab-bar__button tab-bar-inner {{tabbarModifierTemplater(\'tab-bar--*__button\')}} {{modifierTemplater(\'tab-bar__button--*\')}}" ng-click="tryToChange()">\n</button>\n')}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/tab_bar.tpl",'<div class="ons-tab-bar__content tab-bar__content"></div>\n<div ng-hide="hideTabs" class="tab-bar ons-tab-bar__footer {{modifierTemplater(\'tab-bar--*\')}} ons-tabbar-inner"></div>\n')}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/toolbar_button.tpl","<span class=\"toolbar-button {{modifierTemplater('toolbar-button--*')}} navigation-bar__line-height\" ng-transclude></span>\n")}])}(),window.DoorLock=function(){var t=function(t){t=t||{},this._lockList=[],this._waitList=[],this._log=t.log||function(){}};return t.generateId=function(){var t=0;return function(){return t++}}(),t.prototype={lock:function(){var e=this,n=function(){e._unlock(n)};return n.id=t.generateId(),this._lockList.push(n),this._log("lock: "+n.id),n},_unlock:function(t){var e=this._lockList.indexOf(t);if(-1===e)throw new Error("This function is not registered in the lock list.");this._lockList.splice(e,1),this._log("unlock: "+t.id),this._tryToFreeWaitList()},_tryToFreeWaitList:function(){for(;!this.isLocked()&&this._waitList.length>0;)this._waitList.shift()()},waitUnlock:function(t){if(!(t instanceof Function))throw new Error("The callback param must be a function.");this.isLocked()?this._waitList.push(t):t()},isLocked:function(){return this._lockList.length>0}},t}(),window.ons=function(){"use strict";var t=angular.module("onsen",["templates-main"]);angular.module("onsen.directives",["onsen"]);var e=function(){var t={_readyLock:new DoorLock,_onsenService:null,_config:{autoStatusBarFill:!0},_unlockersDict:{},componentBase:window,bootstrap:function(t,e){angular.isArray(t)&&(e=t,t=void 0),t||(t="myOnsenApp"),e=["onsen"].concat(angular.isArray(e)?e:[]);var n=angular.module(t,e),i=window.document;if("loading"==i.readyState||"uninitialized"==i.readyState||"interactive"==i.readyState)i.addEventListener("DOMContentLoaded",function(){angular.bootstrap(i.documentElement,[t])},!1);else{if(!i.documentElement)throw new Error("Invalid state");angular.bootstrap(i.documentElement,[t])}return n},enableAutoStatusBarFill:function(){if(this.isReady())throw new Error("This method must be called before ons.isReady() is true.");this._config.autoStatusBarFill=!0},disableAutoStatusBarFill:function(){if(this.isReady())throw new Error("This method must be called before ons.isReady() is true.");this._config.autoStatusBarFill=!1},findParentComponentUntil:function(t,e){var n;return e instanceof HTMLElement?n=angular.element(e):e instanceof angular.element?n=e:e.target&&(n=angular.element(e.target)),n.inheritedData(t)},setDefaultDeviceBackButtonListener:function(t){this._getOnsenService().getDefaultDeviceBackButtonHandler().setListener(t)},disableDeviceBackButtonHandler:function(){this._getOnsenService().DeviceBackButtonHandler.disable()},enableDeviceBackButtonHandler:function(){this._getOnsenService().DeviceBackButtonHandler.enable()},findComponent:function(t,e){var n=(e||document).querySelector(t);return n?angular.element(n).data(n.nodeName.toLowerCase())||null:null},isReady:function(){return!t._readyLock.isLocked()},compile:function(e){if(!t.$compile)throw new Error("ons.$compile() is not ready. Wait for initialization with ons.ready().");if(!(e instanceof HTMLElement))throw new Error("First argument must be an instance of HTMLElement.");var n=angular.element(e).scope();if(!n)throw new Error("AngularJS Scope is null. Argument DOM element must be attached in DOM document.");t.$compile(e)(n)},_getOnsenService:function(){if(!this._onsenService)throw new Error("$onsen is not loaded, wait for ons.ready().");return this._onsenService},ready:function(e){if(e instanceof Function)t.isReady()?e():t._readyLock.waitUnlock(e);else if(angular.isArray(e)&&arguments[1]instanceof Function){var n=e;e=arguments[1],t.ready(function(){t._getOnsenService().waitForVariables(n,e)})}},isWebView:function(){if("loading"===document.readyState||"uninitialized"==document.readyState)throw new Error("isWebView() method is available after dom contents loaded.");return!!(window.cordova||window.phonegap||window.PhoneGap)},createAlertDialog:function(e,n){if(n=n||{},!e)throw new Error("Page url must be defined.");var i=angular.element("<ons-alert-dialog>"),o=this._getOnsenService();return angular.element(document.body).append(angular.element(i)),o.getPageHTMLAsync(e).then(function(e){var o=document.createElement("div");o.innerHTML=e;for(var r=angular.element(o.querySelector("ons-alert-dialog")),s=r.prop("attributes"),a=0,l=s.length;a<l;a++)i.attr(s[a].name,s[a].value);i.html(r.html());var c;return n.parentScope?(c=n.parentScope.$new(),t.$compile(i)(c)):t.compile(i[0]),r.attr("disabled")&&i.attr("disabled","disabled"),c&&(i.data("ons-alert-dialog")._parentScope=c),i.data("ons-alert-dialog")})},createDialog:function(e,n){if(n=n||{},!e)throw new Error("Page url must be defined.");var i=angular.element("<ons-dialog>"),o=this._getOnsenService();return angular.element(document.body).append(angular.element(i)),o.getPageHTMLAsync(e).then(function(e){var o=document.createElement("div");o.innerHTML=e;for(var r=angular.element(o.querySelector("ons-dialog")),s=r.prop("attributes"),a=0,l=s.length;a<l;a++)i.attr(s[a].name,s[a].value);i.html(r.html());var c;n.parentScope?(c=n.parentScope.$new(),t.$compile(i)(c)):t.compile(i[0]),r.attr("disabled")&&i.attr("disabled","disabled");var u=t._qService.defer();return i.on("ons-dialog:init",function(t){var e=i[0].querySelector(".dialog");if(r[0].hasAttribute("style")){var n=r[0].getAttribute("style"),o=e.getAttribute("style"),s=function(t,e){return(";"===t.substr(-1)?t:t+";")+(";"===e.substr(-1)?e:e+";")}(n,o);e.setAttribute("style",s)}c&&(t.component._parentScope=c),u.resolve(t.component)}),u.promise})},createPopover:function(e,n){if(n=n||{},!e)throw new Error("Page url must be defined.");var i=angular.element("<ons-popover>"),o=this._getOnsenService();return angular.element(document.body).append(angular.element(i)),o.getPageHTMLAsync(e).then(function(e){var o=document.createElement("div");o.innerHTML=e;for(var r=angular.element(o.querySelector("ons-popover")),s=r.prop("attributes"),a=0,l=s.length;a<l;a++)i.attr(s[a].name,s[a].value);i.html(r.html());var c;n.parentScope?(c=n.parentScope.$new(),t.$compile(i)(c)):t.compile(i[0]),r.attr("disabled")&&i.attr("disabled","disabled");var u=t._qService.defer();return i.on("ons-popover:init",function(t){var e=i[0].querySelector(".popover");if(r[0].hasAttribute("style")){var n=r[0].getAttribute("style"),o=e.getAttribute("style"),s=function(t,e){return(";"===t.substr(-1)?t:t+";")+(";"===e.substr(-1)?e:e+";")}(n,o);e.setAttribute("style",s)}c&&(t.component._parentScope=c),u.resolve(t.component)}),u.promise})}};return t}();return function(){e.softwareKeyboard=new MicroEvent,e.softwareKeyboard._visible=!1;var t=function(){e.softwareKeyboard._visible=!0,e.softwareKeyboard.emit("show")},n=function(){e.softwareKeyboard._visible=!1,e.softwareKeyboard.emit("hide")},i=function(){return"undefined"!=typeof Keyboard?(Keyboard.onshow=t,Keyboard.onhide=n,e.softwareKeyboard.emit("init",{visible:Keyboard.isVisible}),!0):void 0!==cordova.plugins&&void 0!==cordova.plugins.Keyboard&&(window.addEventListener("native.keyboardshow",t),window.addEventListener("native.keyboardhide",n),e.softwareKeyboard.emit("init",{visible:cordova.plugins.Keyboard.isVisible}),!0)},o=function(){console.warn("ons-keyboard: Cordova Keyboard plugin is not present.")};document.addEventListener("deviceready",function(){i()||((document.querySelector("[ons-keyboard-active]")||document.querySelector("[ons-keyboard-inactive]"))&&o(),e.softwareKeyboard.on=o)})}(),function(){var t=e._readyLock.lock();window.addEventListener("DOMContentLoaded",function(){e.isWebView()?window.document.addEventListener("deviceready",t,!1):t()},!1)}(),function(){var n=e._readyLock.lock();t.run(["$compile","$rootScope","$onsen",function(t,e,i){if("loading"===document.readyState||"uninitialized"==document.readyState)window.addEventListener("DOMContentLoaded",function(){document.body.appendChild(document.createElement("ons-dummy-for-init"))});else{if(!document.body)throw new Error("Invalid initialization state.");document.body.appendChild(document.createElement("ons-dummy-for-init"))}e.$on("$ons-ready",n)}])}(),function(){t.value("$onsGlobal",e),t.run(["$compile","$rootScope","$onsen","$q",function(t,n,i,o){e._onsenService=i,e._qService=o,n.ons=window.ons,n.console=window.console,n.alert=window.alert,e.$compile=t}])}(),e}(),function(){"use strict";angular.module("onsen").factory("AlertDialogView",["$onsen","DialogAnimator","SlideDialogAnimator","AndroidAlertDialogAnimator","IOSAlertDialogAnimator",function(t,e,n,i,o){var r=Class.extend({init:function(e,n,i){if(this._scope=e,this._element=n,this._attrs=i,this._element.css({display:"none",zIndex:20001}),this._dialog=n,this._visible=!1,this._doorLock=new DoorLock,this._animation=r._animatorDict[void 0!==i.animation?i.animation:"default"],!this._animation)throw new Error("No such animation: "+i.animation);this._deviceBackButtonHandler=t.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this)),this._createMask(i.maskColor),this._scope.$on("$destroy",this._destroy.bind(this))},show:function(t){t=t||{};var e=!1,n=t.callback||function(){};this.emit("preshow",{alertDialog:this,cancel:function(){e=!0}}),e||this._doorLock.waitUnlock(function(){var e=this._doorLock.lock(),i=this._animation;this._mask.css("display","block"),this._mask.css("opacity",1),this._element.css("display","block"),t.animation&&(i=r._animatorDict[t.animation]),i.show(this,function(){this._visible=!0,e(),this.emit("postshow",{alertDialog:this}),n()}.bind(this))}.bind(this))},hide:function(t){t=t||{};var e=!1,n=t.callback||function(){};this.emit("prehide",{alertDialog:this,cancel:function(){e=!0}}),e||this._doorLock.waitUnlock(function(){var e=this._doorLock.lock(),i=this._animation;t.animation&&(i=r._animatorDict[t.animation]),i.hide(this,function(){this._element.css("display","none"),this._mask.css("display","none"),this._visible=!1,e(),this.emit("posthide",{alertDialog:this}),n()}.bind(this))}.bind(this))},isShown:function(){return this._visible},destroy:function(){this._parentScope?(this._parentScope.$destroy(),this._parentScope=null):this._scope.$destroy()},_destroy:function(){this.emit("destroy"),this._mask.off(),this._element.remove(),this._mask.remove(),this._deviceBackButtonHandler.destroy(),this._deviceBackButtonHandler=this._scope=this._attrs=this._element=this._mask=null},setDisabled:function(t){if("boolean"!=typeof t)throw new Error("Argument must be a boolean.");t?this._element.attr("disabled",!0):this._element.removeAttr("disabled")},isDisabled:function(){return this._element[0].hasAttribute("disabled")},setCancelable:function(t){if("boolean"!=typeof t)throw new Error("Argument must be a boolean.");t?this._element.attr("cancelable",!0):this._element.removeAttr("cancelable")},isCancelable:function(){return this._element[0].hasAttribute("cancelable")},_cancel:function(){this.isCancelable()&&this.hide({callback:function(){this.emit("cancel")}.bind(this)})},_onDeviceBackButton:function(t){this.isCancelable()?this._cancel.bind(this)():t.callParentHandler()},_createMask:function(t){this._mask=angular.element("<div>").addClass("alert-dialog-mask").css({zIndex:2e4,display:"none"}),this._mask.on("click",this._cancel.bind(this)),t&&this._mask.css("background-color",t),angular.element(document.body).append(this._mask)}});return r._animatorDict={default:t.isAndroid()?new i:new o,fade:t.isAndroid()?new i:new o,slide:new n,none:new e},r.registerAnimator=function(t,n){if(!(n instanceof e))throw new Error('"animator" param must be an instance of DialogAnimator');this._animatorDict[t]=n},MicroEvent.mixin(r),r}])}(),function(){"use strict;";angular.module("onsen").factory("AndroidAlertDialogAnimator",["DialogAnimator",function(t){return t.extend({timing:"cubic-bezier(.1, .7, .4, 1)",duration:.2,init:function(t){t=t||{},this.timing=t.timing||this.timing,this.duration=void 0!==t.duration?t.duration:this.duration},show:function(t,e){e=e||function(){},animit.runAll(animit(t._mask[0]).queue({opacity:0}).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(t._dialog[0]).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:0}).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))},hide:function(t,e){e=e||function(){},animit.runAll(animit(t._mask[0]).queue({opacity:1}).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(t._dialog[0]).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:0}).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))}})}])}(),function(){"use strict;";angular.module("onsen").factory("AndroidDialogAnimator",["DialogAnimator",function(t){return t.extend({timing:"ease-in-out",duration:.3,init:function(t){t=t||{},this.timing=t.timing||this.timing,this.duration=void 0!==t.duration?t.duration:this.duration},show:function(t,e){e=e||function(){},animit.runAll(animit(t._mask[0]).queue({opacity:0}).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(t._dialog[0]).queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:0}).queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))},hide:function(t,e){e=e||function(){},animit.runAll(animit(t._mask[0]).queue({opacity:1}).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(t._dialog[0]).queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))}})}])}(),function(){"use strict";angular.module("onsen").factory("ButtonView",["$onsen",function(t){var e=Class.extend({init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n},startSpin:function(){this._attrs.$set("shouldSpin","true")},stopSpin:function(){this._attrs.$set("shouldSpin","false")},isSpinning:function(){return"true"===this._attrs.shouldSpin},setSpinAnimation:function(t){this._scope.$apply(function(){["slide-left","slide-right","slide-up","slide-down","expand-left","expand-right","expand-up","expand-down","zoom-out","zoom-in"].indexOf(t)<0&&(console.warn("Animation "+t+"doesn't exist."),t="slide-left"),
this._scope.animation=t}.bind(this))},isDisabled:function(){return this._element[0].hasAttribute("disabled")},setDisabled:function(t){if("boolean"!=typeof t)throw new Error("Argument must be a boolean.");t?this._element[0].setAttribute("disabled",""):this._element[0].removeAttribute("disabled")}});return MicroEvent.mixin(e),e}])}(),function(){"use strict;";angular.module("onsen").factory("CarouselView",["$onsen",function(t){var e={_getScrollDelta:function(t){return t.deltaY},_getScrollVelocity:function(t){return t.velocityY},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this._element[0].getBoundingClientRect().height),this._currentElementSize},_generateScrollTransform:function(t){return"translate3d(0px, "+-t+"px, 0px)"},_layoutCarouselItems:function(){for(var t=this._getCarouselItemElements(),e=this._getCarouselItemSizeAttr(),n=this._decomposeSizeString(e),i=0;i<t.length;i++)angular.element(t[i]).css({position:"absolute",height:e,width:"100%",visibility:"visible",left:"0px",top:i*n.number+n.unit})}},n={_getScrollDelta:function(t){return t.deltaX},_getScrollVelocity:function(t){return t.velocityX},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this._element[0].getBoundingClientRect().width),this._currentElementSize},_generateScrollTransform:function(t){return"translate3d("+-t+"px, 0px, 0px)"},_layoutCarouselItems:function(){for(var t=this._getCarouselItemElements(),e=this._getCarouselItemSizeAttr(),n=this._decomposeSizeString(e),i=0;i<t.length;i++)angular.element(t[i]).css({position:"absolute",width:e,height:"100%",top:"0px",visibility:"visible",left:i*n.number+n.unit})}},i=Class.extend({_element:void 0,_scope:void 0,_doorLock:void 0,_scroll:void 0,init:function(t,i,o){this._element=i,this._scope=t,this._attrs=o,this._doorLock=new DoorLock,this._scroll=0,this._lastActiveIndex=0,this._bindedOnDrag=this._onDrag.bind(this),this._bindedOnDragEnd=this._onDragEnd.bind(this),this._bindedOnResize=this._onResize.bind(this),this._mixin(this._isVertical()?e:n),this._prepareEventListeners(),this._layoutCarouselItems(),this._setupInitialIndex(),this._attrs.$observe("direction",this._onDirectionChange.bind(this)),this._scope.$on("$destroy",this._destroy.bind(this)),this._saveLastState()},_onResize:function(){this.refresh()},_onDirectionChange:function(){this._isVertical()?this._element.css({overflowX:"auto",overflowY:""}):this._element.css({overflowX:"",overflowY:"auto"})},_saveLastState:function(){this._lastState={elementSize:this._getCarouselItemSize(),carouselElementCount:this._getCarouselItemCount(),width:this._getCarouselItemSize()*this._getCarouselItemCount()}},_getCarouselItemSize:function(){var t=this._getCarouselItemSizeAttr(),e=this._decomposeSizeString(t),n=this._getElementSize();if("%"===e.unit)return Math.round(e.number/100*n);if("px"===e.unit)return e.number;throw new Error("Invalid state")},_getInitialIndex:function(){var t=parseInt(this._element.attr("initial-index"),10);return"number"!=typeof t||isNaN(t)?0:Math.max(Math.min(t,this._getCarouselItemCount()-1),0)},_getCarouselItemSizeAttr:function(){var t="item-"+(this._isVertical()?"height":"width"),e=(""+this._element.attr(t)).trim();return e.match(/^\d+(px|%)$/)?e:"100%"},_decomposeSizeString:function(t){var e=t.match(/^(\d+)(px|%)/);return{number:parseInt(e[1],10),unit:e[2]}},_setupInitialIndex:function(){this._scroll=this._getCarouselItemSize()*this._getInitialIndex(),this._lastActiveIndex=this._getInitialIndex(),this._scrollTo(this._scroll)},setSwipeable:function(t){t?this._element[0].setAttribute("swipeable",""):this._element[0].removeAttribute("swipeable")},isSwipeable:function(){return this._element[0].hasAttribute("swipeable")},setAutoScrollRatio:function(t){if(t<0||t>1)throw new Error("Invalid ratio.");this._element[0].setAttribute("auto-scroll-ratio",t)},getAutoScrollRatio:function(t){var e=this._element[0].getAttribute("auto-scroll-ratio");if(!e)return.5;var n=parseFloat(e);if(n<0||n>1)throw new Error("Invalid ratio.");return isNaN(n)?.5:n},setActiveCarouselItemIndex:function(t,e){e=e||{},t=Math.max(0,Math.min(t,this._getCarouselItemCount()-1));var n=this._getCarouselItemSize()*t,i=this._calculateMaxScroll();this._scroll=Math.max(0,Math.min(i,n)),this._scrollTo(this._scroll,{animate:"none"!==e.animation,callback:e.callback}),this._tryFirePostChangeEvent()},getActiveCarouselItemIndex:function(){var t=this._scroll,e=this._getCarouselItemCount(),n=this._getCarouselItemSize();if(t<0)return 0;for(var i=0;i<e;i++)if(n*i<=t&&n*(i+1)>t)return i;return i},next:function(t){this.setActiveCarouselItemIndex(this.getActiveCarouselItemIndex()+1,t)},prev:function(t){this.setActiveCarouselItemIndex(this.getActiveCarouselItemIndex()-1,t)},setAutoScrollEnabled:function(t){t?this._element[0].setAttribute("auto-scroll",""):this._element[0].removeAttribute("auto-scroll")},isAutoScrollEnabled:function(t){return this._element[0].hasAttribute("auto-scroll")},setDisabled:function(t){t?this._element[0].setAttribute("disabled",""):this._element[0].removeAttribute("disabled")},isDisabled:function(){return this._element[0].hasAttribute("disabled")},setOverscrollable:function(t){t?this._element[0].setAttribute("overscrollable",""):this._element[0].removeAttribute("overscrollable")},_mixin:function(t){Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this))},_isEnabledChangeEvent:function(){var t=this._getElementSize(),e=this._getCarouselItemSize();return this.isAutoScrollEnabled()&&t===e},_isVertical:function(){return"vertical"===this._element.attr("direction")},_prepareEventListeners:function(){this._hammer=new Hammer(this._element[0],{dragMinDistance:1}),this._hammer.on("pan panleft panright panup pandown swipe swipeleft swiperight swipeup swipedown",this._bindedOnDrag),this._hammer.on("panend",this._bindedOnDragEnd),angular.element(window).on("resize",this._bindedOnResize)},_tryFirePostChangeEvent:function(){var t=this.getActiveCarouselItemIndex();if(this._lastActiveIndex!==t){var e=this._lastActiveIndex;this._lastActiveIndex=t,this.emit("postchange",{carousel:this,activeIndex:t,lastActiveIndex:e})}},_onDrag:function(t){if(this.isSwipeable()){var e=t.direction;if((!this._isVertical()||e!==Hammer.DIRECTION_LEFT&&e!==Hammer.DIRECTION_RIGHT)&&(this._isVertical()||e!==Hammer.DIRECTION_UP&&e!==Hammer.DIRECTION_DOWN)){t.srcEvent.stopPropagation(),this._lastDragEvent=t;var n=this._scroll-this._getScrollDelta(t);this._scrollTo(n),t.preventDefault(),this._tryFirePostChangeEvent()}}},_onDragEnd:function(t){if(this._currentElementSize=void 0,this._carouselItemElements=void 0,this.isSwipeable()){if(this._scroll=this._scroll-this._getScrollDelta(t),0!==this._getScrollDelta(t)&&t.srcEvent.stopPropagation(),this._isOverScroll(this._scroll)){var e=!1;this.emit("overscroll",{carousel:this,activeIndex:this.getActiveCarouselItemIndex(),direction:this._getOverScrollDirection(),waitToReturn:function(t){e=!0,t.then(function(){this._scrollToKillOverScroll()}.bind(this))}.bind(this)}),e||this._scrollToKillOverScroll()}else this._startMomemtumScroll(t);this._lastDragEvent=null,t.preventDefault()}},_getTouchEvents:function(){return["pan","panstart","panend","panup","pandown","panleft","panright","swipe","swipeup","swipedown","swipeleft","swiperight"].join(" ")},isOverscrollable:function(){return this._element[0].hasAttribute("overscrollable")},_startMomemtumScroll:function(t){if(this._lastDragEvent){var e=this._getScrollVelocity(this._lastDragEvent),n=30*e,i=this._scroll+(this._getScrollDelta(this._lastDragEvent)>0?-n:n);i=this._normalizeScrollPosition(i),this._scroll=i,animit(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(this._scroll)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(t){t(),this._tryFirePostChangeEvent()}.bind(this)).play()}},_normalizeScrollPosition:function(t){var e=this._calculateMaxScroll();if(this.isAutoScrollEnabled()){for(var n=[],i=this._getCarouselItemSize(),o=0;o<this._getCarouselItemCount();o++)e>=o*i&&n.push(o*i);n.push(e),n.sort(function(e,n){return e=Math.abs(e-t),n=Math.abs(n-t),e-n}),n=n.filter(function(t,e){return!e||t!=n[e-1]});var r=this._lastActiveIndex*i,s=Math.abs(t-r)/i;return s<=this.getAutoScrollRatio()?r:s>this.getAutoScrollRatio()&&s<1&&n[0]===r&&n.length>1?n[1]:n[0]}return Math.max(0,Math.min(e,t))},_getCarouselItemElements:function(){for(var t=this._element[0].children,e=[],n=t.length;n--;)e.unshift(t[n]);return e=e.filter(function(t){return"ons-carousel-item"===t.nodeName.toLowerCase()})},_scrollTo:function(t,e){function n(t){if(t<0)return o?Math.round(.35*t):0;var e=i._calculateMaxScroll();return e<t?o?e+Math.round(.35*(t-e)):e:t}e=e||{};var i=this,o=this.isOverscrollable();e.animate?animit(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(n(t))},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(e.callback):animit(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(n(t))}).play(e.callback)},_calculateMaxScroll:function(){var t=this._getCarouselItemCount()*this._getCarouselItemSize()-this._getElementSize();return Math.ceil(t<0?0:t)},_isOverScroll:function(t){return t<0||t>this._calculateMaxScroll()},_getOverScrollDirection:function(){return this._isVertical()?this._scroll<=0?"up":"down":this._scroll<=0?"left":"right"},_scrollToKillOverScroll:function(){if(this._scroll<0)return animit(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(0)},{duration:.4,timing:"cubic-bezier(.1, .4, .1, 1)"}).play(),void(this._scroll=0);var t=this._calculateMaxScroll();return t<this._scroll?(animit(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(t)},{duration:.4,timing:"cubic-bezier(.1, .4, .1, 1)"}).play(),void(this._scroll=t)):void 0},_getCarouselItemCount:function(){return this._getCarouselItemElements().length},refresh:function(){if(0!==this._getCarouselItemSize()){if(this._mixin(this._isVertical()?e:n),this._layoutCarouselItems(),this._lastState&&this._lastState.width>0){var t=this._scroll;this._isOverScroll(t)?this._scrollToKillOverScroll():(this.isAutoScrollEnabled()&&(t=this._normalizeScrollPosition(t)),this._scrollTo(t))}this._saveLastState(),this.emit("refresh",{carousel:this})}},first:function(){this.setActiveCarouselItemIndex(0)},last:function(){this.setActiveCarouselItemIndex(Math.max(this._getCarouselItemCount()-1,0))},_destroy:function(){this.emit("destroy"),this._hammer.off("pan panleft panright panup pandown swipe swipeleft swiperight swipeup swipedown",this._bindedOnDrag),this._hammer.off("panend",this._bindedOnDragEnd),angular.element(window).off("resize",this._bindedOnResize),this._element=this._scope=this._attrs=null}});return MicroEvent.mixin(i),i}])}(),function(){"use strict";angular.module("onsen").factory("DialogView",["$onsen","DialogAnimator","IOSDialogAnimator","AndroidDialogAnimator","SlideDialogAnimator",function(t,e,n,i,o){var r=Class.extend({init:function(e,n,i){if(this._scope=e,this._element=n,this._attrs=i,this._element.css("display","none"),this._dialog=angular.element(n[0].querySelector(".dialog")),this._mask=angular.element(n[0].querySelector(".dialog-mask")),this._dialog.css("z-index",20001),this._mask.css("z-index",2e4),this._mask.on("click",this._cancel.bind(this)),this._visible=!1,this._doorLock=new DoorLock,this._animation=r._animatorDict[void 0!==i.animation?i.animation:"default"],!this._animation)throw new Error("No such animation: "+i.animation);this._deviceBackButtonHandler=t.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this)),this._scope.$on("$destroy",this._destroy.bind(this))},getDeviceBackButtonHandler:function(){return this._deviceBackButtonHandler},_getMaskColor:function(){return this._element[0].getAttribute("mask-color")||"rgba(0, 0, 0, 0.2)"},show:function(t){t=t||{};var e=!1,n=t.callback||function(){};this.emit("preshow",{dialog:this,cancel:function(){e=!0}}),e||this._doorLock.waitUnlock(function(){var e=this._doorLock.lock(),i=this._animation;this._element.css("display","block"),this._mask.css("opacity",1),this._mask.css("backgroundColor",this._getMaskColor()),t.animation&&(i=r._animatorDict[t.animation]),i.show(this,function(){this._visible=!0,e(),this.emit("postshow",{dialog:this}),n()}.bind(this))}.bind(this))},hide:function(t){t=t||{};var e=!1,n=t.callback||function(){};this.emit("prehide",{dialog:this,cancel:function(){e=!0}}),e||this._doorLock.waitUnlock(function(){var e=this._doorLock.lock(),i=this._animation;t.animation&&(i=r._animatorDict[t.animation]),i.hide(this,function(){this._element.css("display","none"),this._visible=!1,e(),this.emit("posthide",{dialog:this}),n()}.bind(this))}.bind(this))},isShown:function(){return this._visible},destroy:function(){this._parentScope?(this._parentScope.$destroy(),this._parentScope=null):this._scope.$destroy()},_destroy:function(){this.emit("destroy"),this._element.remove(),this._deviceBackButtonHandler.destroy(),this._mask.off(),this._deviceBackButtonHandler=this._scope=this._attrs=this._element=this._dialog=this._mask=null},setDisabled:function(t){if("boolean"!=typeof t)throw new Error("Argument must be a boolean.");t?this._element.attr("disabled",!0):this._element.removeAttr("disabled")},isDisabled:function(){return this._element[0].hasAttribute("disabled")},setCancelable:function(t){if("boolean"!=typeof t)throw new Error("Argument must be a boolean.");t?this._element.attr("cancelable",!0):this._element.removeAttr("cancelable")},isCancelable:function(){return this._element[0].hasAttribute("cancelable")},_cancel:function(){this.isCancelable()&&this.hide({callback:function(){this.emit("cancel")}.bind(this)})},_onDeviceBackButton:function(t){this.isCancelable()?this._cancel.bind(this)():t.callParentHandler()}});return r._animatorDict={default:t.isAndroid()?new i:new n,fade:t.isAndroid()?new i:new n,slide:new o,none:new e},r.registerAnimator=function(t,n){if(!(n instanceof e))throw new Error('"animator" param must be an instance of DialogAnimator');this._animatorDict[t]=n},MicroEvent.mixin(r),r}])}(),function(){"use strict;";angular.module("onsen").factory("DialogAnimator",function(){return Class.extend({show:function(t,e){e()},hide:function(t,e){e()}})})}(),function(){"use strict";angular.module("onsen").factory("FadePopoverAnimator",["PopoverAnimator",function(t){return t.extend({timing:"cubic-bezier(.1, .7, .4, 1)",duration:.2,init:function(t){t=t||{},this.timing=t.timing||this.timing,this.duration=void 0!==t.duration?t.duration:this.duration},show:function(t,e){var n=t._element[0].querySelector(".popover"),i=t._element[0].querySelector(".popover-mask");animit.runAll(animit(i).queue({opacity:0}).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(n).queue({transform:"scale3d(1.3, 1.3, 1.0)",opacity:0}).queue({transform:"scale3d(1.0, 1.0,  1.0)",opacity:1},{duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))},hide:function(t,e){var n=t._element[0].querySelector(".popover"),i=t._element[0].querySelector(".popover-mask");animit.runAll(animit(i).queue({opacity:1}).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(n).queue({opacity:1}).queue({opacity:0},{duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))}})}])}(),function(){"use strict;";angular.module("onsen").factory("FadeTransitionAnimator",["NavigatorTransitionAnimator",function(t){return t.extend({push:function(t,e,n){animit.runAll(animit([t.getPageView().getContentElement(),t.getPageView().getBackgroundElement()]).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:.4,timing:"linear"}).resetStyle().queue(function(t){n(),t()}),animit(t.getPageView().getToolbarElement()).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:.4,timing:"linear"}).resetStyle())},pop:function(t,e,n){animit.runAll(animit([e.getPageView().getContentElement(),e.getPageView().getBackgroundElement()]).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:.4,timing:"linear"}).queue(function(t){n(),t()}),animit(e.getPageView().getToolbarElement()).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:.4,timing:"linear"}))}})}])}(),function(){"use strict";angular.module("onsen").factory("GenericView",["$onsen",function(t){var e=Class.extend({init:function(t,e,n){this._element=e,this._scope=t}});return MicroEvent.mixin(e),e}])}(),function(){"use strict;";angular.module("onsen").factory("IOSAlertDialogAnimator",["DialogAnimator",function(t){return t.extend({timing:"cubic-bezier(.1, .7, .4, 1)",duration:.2,init:function(t){t=t||{},this.timing=t.timing||this.timing,this.duration=void 0!==t.duration?t.duration:this.duration},show:function(t,e){e=e||function(){},animit.runAll(animit(t._mask[0]).queue({opacity:0}).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(t._dialog[0]).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.3, 1.3, 1.0)",opacity:0},duration:0}).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))},hide:function(t,e){e=e||function(){},animit.runAll(animit(t._mask[0]).queue({opacity:1}).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(t._dialog[0]).queue({css:{opacity:1},duration:0}).queue({css:{opacity:0},duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))}})}])}(),function(){"use strict;";angular.module("onsen").factory("IOSDialogAnimator",["DialogAnimator",function(t){return t.extend({timing:"ease-in-out",duration:.3,init:function(t){t=t||{},this.timing=t.timing||this.timing,this.duration=void 0!==t.duration?t.duration:this.duration},show:function(t,e){e=e||function(){},animit.runAll(animit(t._mask[0]).queue({opacity:0}).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(t._dialog[0]).queue({css:{transform:"translate3d(-50%, 300%, 0)"},duration:0}).queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))},hide:function(t,e){e=e||function(){},animit.runAll(animit(t._mask[0]).queue({opacity:1}).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(t._dialog[0]).queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:0}).queue({css:{transform:"translate3d(-50%, 300%, 0)"},duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))}})}])}(),function(){"use strict;";angular.module("onsen").factory("IOSSlideTransitionAnimator",["NavigatorTransitionAnimator","PageView",function(t,e){return t.extend({backgroundMask:angular.element('<div style="position: absolute; width: 100%;height: 100%; background-color: black; opacity: 0;"></div>'),_decompose:function(t){function e(t){for(var e=[],n=0;n<t.length;n++)"ons-back-button"===t[n].nodeName.toLowerCase()?e.push(t[n].querySelector(".ons-back-button__icon")):e.push(t[n]);return e}var n=t.getPageView().getToolbarLeftItemsElement(),i=t.getPageView().getToolbarRightItemsElement(),o=[].concat(0===n.children.length?n:e(n.children)).concat(0===i.children.length?i:e(i.children));return{pageLabels:[t.getPageView().getToolbarCenterItemsElement(),t.getPageView().getToolbarBackButtonLabelElement()],other:o,content:t.getPageView().getContentElement(),background:t.getPageView().getBackgroundElement(),toolbar:t.getPageView().getToolbarElement(),bottomToolbar:t.getPageView().getBottomToolbarElement()}},_shouldAnimateToolbar:function(t,e){var n=t.getPageView().hasToolbarElement()&&e.getPageView().hasToolbarElement(),i=!angular.element(t.getPageView().getToolbarElement()).hasClass("navigation-bar--android")&&!angular.element(e.getPageView().getToolbarElement()).hasClass("navigation-bar--android");return n&&i},push:function(t,e,n){var i=this.backgroundMask.remove();e.element[0].parentNode.insertBefore(i[0],e.element[0].nextSibling);var o=this._decompose(t),r=this._decompose(e),s=function(){var t=e.element[0].getBoundingClientRect();return Math.round((t.right-t.left)/2*.6)}(),a=animit(i[0]).queue({opacity:0,transform:"translate3d(0, 0, 0)"}).queue({opacity:.1},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().queue(function(t){i.remove(),t()});this._shouldAnimateToolbar(t,e)?(t.element.css({zIndex:"auto"}),e.element.css({zIndex:"auto"}),animit.runAll(a,animit([o.content,o.bottomToolbar,o.background]).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(o.toolbar).wait(.3).resetStyle({duration:.1,transition:"background-color 0.1s linear, border-color 0.1s linear"}),animit(o.pageLabels).queue({css:{transform:"translate3d("+s+"px, 0, 0)",opacity:0},duration:0}).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(o.other).queue({css:{opacity:0},duration:0}).queue({css:{opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit([r.content,r.bottomToolbar,r.background]).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().queue(function(i){t.element.css({zIndex:""}),e.element.css({zIndex:""}),n(),i()}),animit(r.pageLabels).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3d(-"+s+"px, 0, 0)",opacity:0},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(r.other).queue({css:{opacity:1},duration:0}).queue({css:{opacity:0},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle())):animit.runAll(a,animit(t.element[0]).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(e.element[0]).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().queue(function(t){n(),t()}))},pop:function(t,e,n){var i=this.backgroundMask.remove();t.element[0].parentNode.insertBefore(i[0],t.element[0].nextSibling);var o=this._decompose(t),r=this._decompose(e),s=function(){var t=e.element[0].getBoundingClientRect();return Math.round((t.right-t.left)/2*.6)}(),a=animit(i[0]).queue({opacity:.1,transform:"translate3d(0, 0, 0)"}).queue({opacity:0},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().queue(function(t){i.remove(),t()});this._shouldAnimateToolbar(t,e)?(t.element.css({zIndex:"auto"}),e.element.css({zIndex:"auto"}),animit.runAll(a,animit([o.content,o.bottomToolbar,o.background]).queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(o.pageLabels).queue({css:{transform:"translate3d(-"+s+"px, 0, 0)",opacity:0},duration:0}).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(o.toolbar).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(o.other).queue({css:{opacity:0},duration:0}).queue({css:{opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit([r.content,r.bottomToolbar,r.background]).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).wait(0).queue(function(i){t.element.css({zIndex:""}),e.element.css({zIndex:""}),n(),i()}),animit(r.other).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3d(0, 0, 0)",opacity:0},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}),animit(r.toolbar).queue({css:{background:"none",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0)"},duration:.4}),animit(r.pageLabels).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3d("+s+"px, 0, 0)",opacity:0},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}))):animit.runAll(a,animit(t.element[0]).queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(e.element[0]).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(t){n(),t()}))}})}])}(),function(){"use strict";var module=angular.module("onsen");module.factory("LazyRepeatView",["$onsen","$document","$compile",function($onsen,$document,$compile){var LazyRepeatView=Class.extend({init:function(t,e,n,i){if(this._element=e,this._scope=t,this._attrs=n,this._linker=i,this._parentElement=e.parent(),this._pageContent=this._findPageContent(),!this._pageContent)throw new Error("ons-lazy-repeat must be a descendant of an <ons-page> object.");this._itemHeightSum=[],this._maxIndex=0,this._delegate=this._getDelegate(),this._renderedElements={},this._addEventListeners(),this._scope.$watch(this._countItems.bind(this),this._onChange.bind(this)),this._scope.$on("$destroy",this._destroy.bind(this)),this._delegate.render=function(t){this._render(),t&&angular.isFunction(t)&&t()}.bind(this),this._onChange()},_getDelegate:function(){var delegate=this._scope.$eval(this._attrs.onsLazyRepeat);return void 0===delegate&&(delegate=eval(this._attrs.onsLazyRepeat)),delegate},_countItems:function(){return this._delegate.countItems()},_getItemHeight:function(t){return this._delegate.calculateItemHeight(t)},_getTopOffset:function(){return this._parentElement[0].getBoundingClientRect().top},_render:function(){var t=this._getItemsInView(),e={};this._parentElement.css("height",this._itemHeightSum[this._maxIndex]+"px");for(var n=0,i=t.length;n<i;n++){var o=t[n];this._renderElement(o),e[o.index]=!0}for(var r in this._renderedElements)this._renderedElements.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&this._removeElement(r)},_isRendered:function(t){return this._renderedElements.hasOwnProperty(t)},_renderElement:function(t){if(this._isRendered(t.index)){var e=this._renderedElements[t.index];this._delegate.configureItemScope&&this._delegate.configureItemScope(t.index,e.scope);return void(this._renderedElements[t.index].element[0].style.top=t.top+"px")}var n=this._scope.$new();this._addSpecialProperties(t.index,n),this._linker(n,function(e){this._delegate.configureItemScope?this._delegate.configureItemScope(t.index,n):this._delegate.createItemContent&&(e.append(this._delegate.createItemContent(t.index)),$compile(e[0].firstChild)(n)),this._parentElement.append(e),e.css({position:"absolute",top:t.top+"px",left:"0px",right:"0px",display:"none"});var i={element:e,scope:n};this._scope.$evalAsync(function(){e.css("display","block")}),this._renderedElements[t.index]=i}.bind(this))},_removeElement:function(t){if(this._isRendered(t)){var e=this._renderedElements[t];this._delegate.destroyItemScope?this._delegate.destroyItemScope(t,e.scope):this._delegate.destroyItemContent&&this._delegate.destroyItemContent(t,e.element.children()[0]),e.element.remove(),e.scope.$destroy(),e.element=e.scope=null,delete this._renderedElements[t]}},_removeAllElements:function(){for(var t in this._renderedElements)this._removeElement.hasOwnProperty(t)&&this._removeElement(t)},_calculateStartIndex:function(t){for(var e=0,n=this._maxIndex;;){var i=Math.floor((e+n)/2),o=t+this._itemHeightSum[i];if(n<e)return 0;if(o>=0&&o-this._getItemHeight(i)<0)return i;isNaN(o)||o>=0?n=i-1:e=i+1}},_recalculateItemHeightSum:function(){for(var t=this._itemHeightSum,e=0,n=0;e<Math.min(t.length,this._countItems());e++)n+=this._getItemHeight(e),t[e]=n},_getItemsInView:function(){var t=this._getTopOffset(),e=t,n=this._countItems();n!==this._itemCount&&(this._recalculateItemHeightSum(),this._maxIndex=n-1),this._itemCount=n;var i=this._calculateStartIndex(e);(i=Math.max(i-30,0))>0&&(e+=this._itemHeightSum[i-1]);for(var o=[],r=i;r<n&&e<4*window.innerHeight;r++){var s=this._getItemHeight(r);r>=this._itemHeightSum.length&&(this._itemHeightSum=this._itemHeightSum.concat(new Array(100))),this._itemHeightSum[r]=r>0?this._itemHeightSum[r-1]+s:s,this._maxIndex=Math.max(r,this._maxIndex),o.push({index:r,top:e-t}),e+=s}return o},_addSpecialProperties:function(t,e){e.$index=t,e.$first=0===t,e.$last=t===this._countItems()-1,e.$middle=!e.$first&&!e.$last,e.$even=t%2==0,e.$odd=!e.$even},_onChange:function(){this._render()},_findPageContent:function(){for(var t=this._element[0];t.parentNode&&(t=t.parentNode,!(t.className&&t.className.split(/\s+/).indexOf("page__content")>=0)););return t},_debounce:function(t,e,n){var i;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},a=n&&!i;clearTimeout(i),i=setTimeout(s,e),a&&t.apply(o,r)}},_doubleFireOnTouchend:function(){this._render(),this._debounce(this._render.bind(this),100)},_addEventListeners:function(){ons.platform.isIOS()?this._boundOnChange=this._debounce(this._onChange.bind(this),30):this._boundOnChange=this._onChange.bind(this),this._pageContent.addEventListener("scroll",this._boundOnChange.bind(this),!0),ons.platform.isIOS()&&(this._pageContent.addEventListener("touchmove",this._boundOnChange.bind(this),!0),this._pageContent.addEventListener("touchend",this._doubleFireOnTouchend.bind(this),!0)),$document[0].addEventListener("resize",this._boundOnChange.bind(this),!0)},_removeEventListeners:function(){this._pageContent.removeEventListener("scroll",this._boundOnChange.bind(this),!0),ons.platform.isIOS()&&(this._pageContent.removeEventListener("touchmove",this._boundOnChange.bind(this),!0),this._pageContent.removeEventListener("touchend",this._doubleFireOnTouchend.bind(this),!0)),$document[0].removeEventListener("resize",this._boundOnChange.bind(this),!0)},_destroy:function(){this._removeEventListeners(),this._removeAllElements(),this._parentElement=this._renderedElements=this._element=this._scope=this._attrs=null}});return LazyRepeatView}])}(),function(){"use strict;";angular.module("onsen").factory("LiftTransitionAnimator",["NavigatorTransitionAnimator",function(t){return t.extend({backgroundMask:angular.element('<div style="position: absolute; width: 100%;height: 100%; background-color: black;"></div>'),push:function(t,e,n){var i=this.backgroundMask.remove();e.element[0].parentNode.insertBefore(i[0],e.element[0]);var o=animit(i[0]).wait(.6).queue(function(t){i.remove(),t()});animit.runAll(o,animit(t.element[0]).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).wait(.2).resetStyle().queue(function(t){n(),t()}),animit(e.element[0]).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}))},pop:function(t,e,n){var i=this.backgroundMask.remove();t.element[0].parentNode.insertBefore(i[0],t.element[0]),animit.runAll(animit(i[0]).wait(.4).queue(function(t){i.remove(),t()}),animit(t.element[0]).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:.4,
timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().wait(.4).queue(function(t){n(),t()}),animit(e.element[0]).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}))}})}])}(),function(){"use strict;";angular.module("onsen").factory("ModalView",["$onsen","$rootScope",function(t,e){var n=Class.extend({_element:void 0,_scope:void 0,init:function(n,i){this._scope=n,this._element=i;var o=e.ons.findParentComponentUntil("ons-page",this._element);o&&(this._pageContent=angular.element(o._element[0].querySelector(".page__content"))),this._scope.$on("$destroy",this._destroy.bind(this)),this._deviceBackButtonHandler=t.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this)),this.hide()},getDeviceBackButtonHandler:function(){return this._deviceBackButtonHandler},show:function(){this._element.removeClass("modal-hide").addClass("modal-show"),this._element.css("display","table")},_isVisible:function(){return this._element[0].clientWidth>0},_onDeviceBackButton:function(){},hide:function(){this._element.removeClass("modal-show").addClass("modal-hide"),this._element.css("display","none")},toggle:function(){return this._isVisible()?this.hide.apply(this,arguments):this.show.apply(this,arguments)},_destroy:function(){this.emit("destroy",{page:this}),this._deviceBackButtonHandler.destroy(),this._element=this._scope=null}});return MicroEvent.mixin(n),n}])}(),function(){"use strict;";var t=angular.module("onsen"),e=Class.extend({init:function(t){this.page=t.page,this.name=t.page,this.element=t.element,this.pageScope=t.pageScope,this.options=t.options,this.navigator=t.navigator,this._blockEvents=function(t){(this.navigator._isPopping||this.navigator._isPushing)&&(t.preventDefault(),t.stopPropagation())}.bind(this),this.element.on(this._pointerEvents,this._blockEvents)},_pointerEvents:"touchmove",getPageView:function(){if(!this._pageView&&(this._pageView=this.element.inheritedData("ons-page"),!this._pageView))throw new Error("Fail to fetch PageView from ons-page element.");return this._pageView},destroy:function(){this.pageScope.$destroy(),this.element.off(this._pointerEvents,this._blockEvents),this.element.remove(),this.element=null,this._pageView=null,this.pageScope=null,this.options=null;var t=this.navigator.pages.indexOf(this);-1!==t&&this.navigator.pages.splice(t,1),this.navigator=null}});t.factory("NavigatorView",["$http","$parse","$templateCache","$compile","$onsen","$timeout","SimpleSlideTransitionAnimator","NavigatorTransitionAnimator","LiftTransitionAnimator","NullTransitionAnimator","IOSSlideTransitionAnimator","FadeTransitionAnimator",function(t,n,i,o,r,s,a,l,c,u,h,d){var p=Class.extend({_element:void 0,_attrs:void 0,pages:void 0,_scope:void 0,_doorLock:void 0,_profiling:!1,init:function(t,e,n){this._element=e||angular.element(window.document.body),this._scope=t||this._element.scope(),this._attrs=n,this._doorLock=new DoorLock,this.pages=[],this._isPopping=this._isPushing=!1,this._deviceBackButtonHandler=r.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this)),this._scope.$on("$destroy",this._destroy.bind(this))},_destroy:function(){this.emit("destroy"),this.pages.forEach(function(t){t.destroy()}),this._deviceBackButtonHandler.destroy(),this._deviceBackButtonHandler=null,this._element=this._scope=this._attrs=null},_onDeviceBackButton:function(t){this.pages.length>1?this._scope.$evalAsync(this.popPage.bind(this)):t.callParentHandler()},_normalizePageElement:function(t){for(var e=0;e<t.length;e++)if(1===t[e].nodeType)return angular.element(t[e]);throw new Error("invalid state")},_createPageElementAndLinkFunction:function(t,e,n){function i(t){var e=t.$root.$$phase;"$apply"!==e&&"$digest"!==e&&t.$apply()}var r=document.createElement("div");r.innerHTML=t.trim();var s=angular.element(r);if(1!==r.childElementCount||"ons-page"!==r.childNodes[0].nodeName.toLowerCase())throw new Error('You can not supply no "ons-page" element to "ons-navigator".');s=angular.element(r.childNodes[0]);var a=o(s);return{element:s,link:function(){a(e),i(e)}}},insertPage:function(t,e,n){if((n=n||{})&&"object"!=typeof n)throw new Error("options must be an object. You supplied "+n);if(t===this.pages.length)return this.pushPage.apply(this,[].slice.call(arguments,1));this._doorLock.waitUnlock(function(){var o=this._doorLock.lock();r.getPageHTMLAsync(e).then(function(r){var s=this._createPageScope(),a=this._createPageElementAndLinkFunction(r,s),l=a.element,c=a.link;l=this._normalizePageElement(l);var u=this._createPageObject(e,l,s,n);this.pages.length>0?(t=i(t),this._element[0].insertBefore(l[0],this.pages[t]?this.pages[t].element[0]:null),this.pages.splice(t,0,u),c(),setTimeout(function(){this.getCurrentPage()!==u&&l.css("display","none"),o(),l=null}.bind(this),1e3/60)):(this._element.append(l),this.pages.push(u),c(),o(),l=null)}.bind(this),function(){throw o(),new Error("Page is not found: "+e)})}.bind(this));var i=function(t){return t<0&&(t=this.pages.length+t),t}.bind(this)},pushPage:function(t,e){if(this._profiling&&console.time("pushPage"),e=e||{},!e.cancelIfRunning||!this._isPushing){if(e&&"object"!=typeof e)throw new Error("options must be an object. You supplied "+e);this._emitPrePushEvent()||(this._isPushing=!0,this._doorLock.waitUnlock(function(){this._pushPage(t,e)}.bind(this)))}},_pushPage:function(t,e){var n=this._doorLock.lock(),i=function(){this._isPushing=!1,n(),this._profiling&&console.timeEnd("pushPage")};r.getPageHTMLAsync(t).then(function(n){var o=this._createPageScope(),r=this._createPageElementAndLinkFunction(n,o);setImmediate(function(){this._pushPageDOM(t,r.element,r.link,o,e,i),r=null}.bind(this))}.bind(this),function(){throw i(),new Error("Page is not found: "+t)}.bind(this))},getDeviceBackButtonHandler:function(){return this._deviceBackButtonHandler},_getAnimatorOption:function(t,e){var n=null;if(t.animation instanceof l)return t.animation;if("string"==typeof t.animation&&(n=p._transitionAnimatorDict[t.animation]),!n&&this._element.attr("animation")&&(n=p._transitionAnimatorDict[this._element.attr("animation")]),n||(n=e||p._transitionAnimatorDict.default),!(n instanceof l))throw new Error('"animator" is not an instance of NavigatorTransitionAnimator.');return n},_createPageScope:function(){return this._scope.$new()},_createPageObject:function(t,n,i,o){return o.animator=this._getAnimatorOption(o),new e({page:t,element:n,pageScope:i,options:o,navigator:this})},_pushPageDOM:function(t,e,n,i,o,r){this._profiling&&console.time("pushPageDOM"),r=r||function(){},o=o||{},e=this._normalizePageElement(e);var s=this._createPageObject(t,e,i,o),a={enterPage:s,leavePage:this.pages[this.pages.length-1],navigator:this};this.pages.push(s);var l=function(){this.pages[this.pages.length-2]&&this.pages[this.pages.length-2].element.css("display","none"),this._profiling&&console.timeEnd("pushPageDOM"),this._isPushing=!1,r(),this.emit("postpush",a),"function"==typeof o.onTransitionEnd&&o.onTransitionEnd(),e=null}.bind(this);if(this._isPushing=!0,this.pages.length>1){var c=this.pages.slice(-2)[0],u=this.pages.slice(-1)[0];this._element.append(e),n(),o.animator.push(u,c,l),e=null}else this._element.append(e),n(),l(),e=null},_emitPrePushEvent:function(){var t=!1,e=this,n={navigator:this,currentPage:this.getCurrentPage(),cancel:function(){e._isPushing=!1,t=!0}};return this.emit("prepush",n),t},_emitPrePopEvent:function(){var t=!1,e=this.getCurrentPage(),n=this,i={navigator:this,currentPage:e,leavePage:e,enterPage:this.pages[this.pages.length-2],cancel:function(){n._isPopping=!1,t=!0}};return this.emit("prepop",i),t},popPage:function(t){t=t||{},t.cancelIfRunning&&this._isPopping||this._doorLock.waitUnlock(function(){if(this.pages.length<=1)throw new Error("NavigatorView's page stack is empty.");this._emitPrePopEvent()||(this._isPopping=!1,this._popPage(t))}.bind(this))},_popPage:function(t){var e=this._doorLock.lock(),n=this.pages.pop();this.pages[this.pages.length-1]&&this.pages[this.pages.length-1].element.css("display","block");var i=this.pages[this.pages.length-1],o={leavePage:n,enterPage:this.pages[this.pages.length-1],navigator:this},r=function(){n.destroy(),this._isPopping=!1,e(),this.emit("postpop",o),o.leavePage=null,"function"==typeof t.onTransitionEnd&&t.onTransitionEnd()}.bind(this);this._isPopping=!0,this._getAnimatorOption(t,n.options.animator).pop(i,n,r)},replacePage:function(t,e){e=e||{};var n=e.onTransitionEnd||function(){};e.onTransitionEnd=function(){this.pages.length>1&&this.pages[this.pages.length-2].destroy(),n()}.bind(this),this.pushPage(t,e)},resetToPage:function(t,e){e=e||{},e.animator||e.animation||(e.animation="none");var n=e.onTransitionEnd||function(){},i=this;e.onTransitionEnd=function(){for(;i.pages.length>1;)i.pages.shift().destroy();n()},this.pushPage(t,e)},getCurrentPage:function(){return this.pages[this.pages.length-1]},getPages:function(){return this.pages},canPopPage:function(){return this.pages.length>1}});return p._transitionAnimatorDict={default:r.isAndroid()?new a:new h,slide:r.isAndroid()?new a:new h,simpleslide:new a,lift:new c,fade:new d,none:new u},p.registerTransitionAnimator=function(t,e){if(!(e instanceof l))throw new Error('"animator" param must be an instance of NavigatorTransitionAnimator');this._transitionAnimatorDict[t]=e},MicroEvent.mixin(p),p}])}(),function(){"use strict;";angular.module("onsen").factory("NavigatorTransitionAnimator",function(){return Class.extend({push:function(t,e,n){n()},pop:function(t,e,n){n()}})})}(),function(){"use strict;";angular.module("onsen").factory("NullTransitionAnimator",["NavigatorTransitionAnimator",function(t){return t.extend({})}])}(),function(){"use strict";angular.module("onsen").factory("OverlaySlidingMenuAnimator",["SlidingMenuAnimator",function(t){var e=t.extend({_blackMask:void 0,_isRight:!1,_element:!1,_menuPage:!1,_mainPage:!1,_width:!1,_duration:!1,setup:function(t,e,n,i){i=i||{},this._width=i.width||"90%",this._isRight=!!i.isRight,this._element=t,this._mainPage=e,this._menuPage=n,this._duration=.4,n.css("box-shadow","0px 0 10px 0px rgba(0, 0, 0, 0.2)"),n.css({width:i.width,display:"none",zIndex:2}),n.css("-webkit-transform","translate3d(0px, 0px, 0px)"),e.css({zIndex:1}),this._isRight?n.css({right:"-"+i.width,left:"auto"}):n.css({right:"auto",left:"-"+i.width}),this._blackMask=angular.element("<div></div>").css({backgroundColor:"black",top:"0px",left:"0px",right:"0px",bottom:"0px",position:"absolute",display:"none",zIndex:0}),t.prepend(this._blackMask)},onResized:function(t){if(this._menuPage.css("width",t.width),this._isRight?this._menuPage.css({right:"-"+t.width,left:"auto"}):this._menuPage.css({right:"auto",left:"-"+t.width}),t.isOpened){var e=this._menuPage[0].clientWidth,n=this._generateMenuPageStyle(e);animit(this._menuPage[0]).queue(n).play()}},destroy:function(){this._blackMask&&(this._blackMask.remove(),this._blackMask=null),this._mainPage.removeAttr("style"),this._menuPage.removeAttr("style"),this._element=this._mainPage=this._menuPage=null},openMenu:function(t,e){var n=!0===e?0:this._duration;this._menuPage.css("display","block"),this._blackMask.css("display","block");var i=this._menuPage[0].clientWidth,o=this._generateMenuPageStyle(i),r=this._generateMainPageStyle(i);setTimeout(function(){animit(this._mainPage[0]).queue(r,{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(e){t(),e()}).play(),animit(this._menuPage[0]).queue(o,{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).play()}.bind(this),1e3/60)},closeMenu:function(t,e){var n=!0===e?0:this._duration;this._blackMask.css({display:"block"});var i=this._generateMenuPageStyle(0),o=this._generateMainPageStyle(0);setTimeout(function(){animit(this._mainPage[0]).queue(o,{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(e){this._menuPage.css("display","none"),t(),e()}.bind(this)).play(),animit(this._menuPage[0]).queue(i,{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).play()}.bind(this),1e3/60)},translateMenu:function(t){this._menuPage.css("display","block"),this._blackMask.css({display:"block"});var e=this._generateMenuPageStyle(Math.min(t.maxDistance,t.distance)),n=this._generateMainPageStyle(Math.min(t.maxDistance,t.distance));delete n.opacity,animit(this._menuPage[0]).queue(e).play(),Object.keys(n).length>0&&animit(this._mainPage[0]).queue(n).play()},_generateMenuPageStyle:function(t){return this._menuPage[0].clientWidth,{transform:"translate3d("+(this._isRight?-t:t)+"px, 0, 0)","box-shadow":0===t?"none":"0px 0 10px 0px rgba(0, 0, 0, 0.2)"}},_generateMainPageStyle:function(t){return{opacity:1-.1*t/this._menuPage[0].clientWidth}},copy:function(){return new e}});return e}])}(),function(){"use strict;";angular.module("onsen").factory("PageView",["$onsen","$parse",function(t,e){var n=Class.extend({_registeredToolbarElement:!1,_registeredBottomToolbarElement:!1,_nullElement:window.document.createElement("div"),_toolbarElement:null,_bottomToolbarElement:null,init:function(e,n,i){this._scope=e,this._element=n,this._attrs=i,this._registeredToolbarElement=!1,this._registeredBottomToolbarElement=!1,this._nullElement=window.document.createElement("div"),this._toolbarElement=angular.element(this._nullElement),this._bottomToolbarElement=angular.element(this._nullElement),this._clearListener=e.$on("$destroy",this._destroy.bind(this)),this._userDeviceBackButtonListener=angular.noop,(this._attrs.ngDeviceBackbutton||this._attrs.onDeviceBackbutton)&&(this._deviceBackButtonHandler=t.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this)))},_onDeviceBackButton:function(t){if(this._userDeviceBackButtonListener(t),this._attrs.ngDeviceBackbutton&&e(this._attrs.ngDeviceBackbutton)(this._scope,{$event:t}),this._attrs.onDeviceBackbutton){var n=window.$event;window.$event=t,new Function(this._attrs.onDeviceBackbutton)(),window.$event=n}},setDeviceBackButtonHandler:function(e){this._deviceBackButtonHandler||(this._deviceBackButtonHandler=t.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this))),this._userDeviceBackButtonListener=e},getDeviceBackButtonHandler:function(){return this._deviceBackButtonHandler||null},registerToolbar:function(t){if(this._registeredToolbarElement)throw new Error("This page's toolbar is already registered.");angular.element(this.getContentElement()).attr("no-status-bar-fill",""),t.remove();var e=this._element[0].querySelector(".page__status-bar-fill");e?angular.element(e).after(t):this._element.prepend(t),this._toolbarElement=t,this._registeredToolbarElement=!0},registerBottomToolbar:function(t){if(this._registeredBottomToolbarElement)throw new Error("This page's bottom-toolbar is already registered.");t.remove(),this._bottomToolbarElement=t,this._registeredBottomToolbarElement=!0;var e=angular.element(document.createElement("div"));e.addClass("page__bottom-bar-fill"),e.css({width:"0px",height:"0px"}),this._element.prepend(e),this._element.append(t)},registerExtraElement:function(t){this._extraElement||(this._extraElement=angular.element("<div></div>"),this._extraElement.addClass("page__extra"),this._extraElement.css({"z-index":"10001"}),this._element.append(this._extraElement)),this._extraElement.append(t.remove())},hasToolbarElement:function(){return!!this._registeredToolbarElement},hasBottomToolbarElement:function(){return!!this._registeredBottomToolbarElement},getContentElement:function(){for(var t=0;t<this._element.length;t++)if(this._element[t].querySelector){var e=this._element[t].querySelector(".page__content");if(e)return e}throw Error('fail to get ".page__content" element.')},getBackgroundElement:function(){for(var t=0;t<this._element.length;t++)if(this._element[t].querySelector){var e=this._element[t].querySelector(".page__background");if(e)return e}throw Error('fail to get ".page__background" element.')},getToolbarElement:function(){return this._toolbarElement[0]||this._nullElement},getBottomToolbarElement:function(){return this._bottomToolbarElement[0]||this._nullElement},getToolbarLeftItemsElement:function(){return this._toolbarElement[0].querySelector(".left")||this._nullElement},getToolbarCenterItemsElement:function(){return this._toolbarElement[0].querySelector(".center")||this._nullElement},getToolbarRightItemsElement:function(){return this._toolbarElement[0].querySelector(".right")||this._nullElement},getToolbarBackButtonLabelElement:function(){return this._toolbarElement[0].querySelector("ons-back-button .back-button__label")||this._nullElement},_destroy:function(){this.emit("destroy",{page:this}),this._deviceBackButtonHandler&&(this._deviceBackButtonHandler.destroy(),this._deviceBackButtonHandler=null),this._element=null,this._toolbarElement=null,this._nullElement=null,this._bottomToolbarElement=null,this._extraElement=null,this._scope=null,this._clearListener()}});return MicroEvent.mixin(n),n}])}(),function(){"use strict";angular.module("onsen").factory("PopoverView",["$onsen","PopoverAnimator","FadePopoverAnimator",function(t,e,n){var i=Class.extend({init:function(e,n,o){if(this._element=n,this._scope=e,this._attrs=o,this._mask=angular.element(this._element[0].querySelector(".popover-mask")),this._popover=angular.element(this._element[0].querySelector(".popover")),this._mask.css("z-index",2e4),this._popover.css("z-index",20001),this._element.css("display","none"),o.maskColor&&this._mask.css("background-color",o.maskColor),this._mask.on("click",this._cancel.bind(this)),this._visible=!1,this._doorLock=new DoorLock,this._animation=i._animatorDict[void 0!==o.animation?o.animation:"fade"],!this._animation)throw new Error("No such animation: "+o.animation);this._deviceBackButtonHandler=t.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this)),this._onChange=function(){setImmediate(function(){this._currentTarget&&this._positionPopover(this._currentTarget)}.bind(this))}.bind(this),this._popover[0].addEventListener("DOMNodeInserted",this._onChange,!1),this._popover[0].addEventListener("DOMNodeRemoved",this._onChange,!1),window.addEventListener("resize",this._onChange,!1),this._scope.$on("$destroy",this._destroy.bind(this))},_onDeviceBackButton:function(t){this.isCancelable()?this._cancel.bind(this)():t.callParentHandler()},_setDirection:function(t){if("up"===t)this._scope.direction=t,this._scope.arrowPosition="bottom";else if("left"===t)this._scope.direction=t,this._scope.arrowPosition="right";else if("down"===t)this._scope.direction=t,this._scope.arrowPosition="top";else{if("right"!=t)throw new Error("Invalid direction.");this._scope.direction=t,this._scope.arrowPosition="left"}this._scope.$$phase||this._scope.$apply()},_positionPopoverByDirection:function(t,e){var n=angular.element(this._element[0].querySelector(".popover")),i=t.getBoundingClientRect(),o=n[0].getBoundingClientRect(),r=angular.element(n.children()[1]),s=parseInt(window.getComputedStyle(n[0].querySelector(".popover__content")).borderRadius);r.css({top:"",left:""});var a=function(t){return t/2*Math.sqrt(2)-t/2}(parseInt(window.getComputedStyle(r[0]).width)),l=6+s+a;this._setDirection(e),["left","right"].indexOf(e)>-1?("left"==e?n.css("left",i.right-i.width-o.width-14+"px"):n.css("left",i.right+14+"px"),n.css("top",i.bottom-i.height/2-o.height/2+"px")):("up"==e?n.css("top",i.bottom-i.height-o.height-14+"px"):n.css("top",i.bottom+14+"px"),n.css("left",i.right-i.width/2-o.width/2+"px")),o=n[0].getBoundingClientRect(),["left","right"].indexOf(e)>-1?o.top<6?(r.css("top",Math.max(o.height/2+o.top-6,l)+"px"),n.css("top","6px")):o.bottom>window.innerHeight-6&&(r.css("top",Math.min(o.height/2-(window.innerHeight-o.bottom)+6,o.height-l)+"px"),n.css("top",window.innerHeight-o.height-6+"px")):o.left<6?(r.css("left",Math.max(o.width/2+o.left-6,l)+"px"),n.css("left","6px")):o.right>window.innerWidth-6&&(r.css("left",Math.min(o.width/2-(window.innerWidth-o.right)+6,o.width-l)+"px"),n.css("left",window.innerWidth-o.width-6+"px"))},_positionPopover:function(t){var e;e=this._element.attr("direction")?this._element.attr("direction").split(/\s+/):["up","down","left","right"];for(var n=t.getBoundingClientRect(),i={left:n.left,right:window.innerWidth-n.right,up:n.top,down:window.innerHeight-n.bottom},o=Object.keys(i).sort(function(t,e){return-(i[t]-i[e])}),r=0,s=o.length;r<s;r++){var a=o[r];if(e.indexOf(a)>-1)return void this._positionPopoverByDirection(t,a)}},show:function(t,e){if("string"==typeof t?t=document.querySelector(t):t instanceof Event&&(t=t.target),!t)throw new Error("Target undefined");e=e||{};var n=!1;this.emit("preshow",{popover:this,cancel:function(){n=!0}}),n||this._doorLock.waitUnlock(function(){var n=this._doorLock.lock(),o=this._animation;this._element.css("display","block"),this._currentTarget=t,this._positionPopover(t),e.animation&&(o=i._animatorDict[e.animation]),o.show(this,function(){this._visible=!0,this._positionPopover(t),n(),this.emit("postshow",{popover:this})}.bind(this))}.bind(this))},hide:function(t){t=t||{};var e=!1;this.emit("prehide",{popover:this,cancel:function(){e=!0}}),e||this._doorLock.waitUnlock(function(){var e=this._doorLock.lock(),n=this._animation;t.animation&&(n=i._animatorDict[t.animation]),n.hide(this,function(){this._element.css("display","none"),this._visible=!1,e(),this.emit("posthide",{popover:this})}.bind(this))}.bind(this))},isShown:function(){return this._visible},destroy:function(){this._parentScope?(this._parentScope.$destroy(),this._parentScope=null):this._scope.$destroy()},_destroy:function(){this.emit("destroy"),this._deviceBackButtonHandler.destroy(),this._popover[0].removeEventListener("DOMNodeInserted",this._onChange,!1),this._popover[0].removeEventListener("DOMNodeRemoved",this._onChange,!1),window.removeEventListener("resize",this._onChange,!1),this._mask.off(),this._mask.remove(),this._popover.remove(),this._element.remove(),this._onChange=this._deviceBackButtonHandler=this._mask=this._popover=this._element=this._scope=null},setCancelable:function(t){if("boolean"!=typeof t)throw new Error("Argument must be a boolean.");t?this._element.attr("cancelable",!0):this._element.removeAttr("cancelable")},isCancelable:function(){return this._element[0].hasAttribute("cancelable")},_cancel:function(){this.isCancelable()&&this.hide()}});return i._animatorDict={fade:new n,none:new e},i.registerAnimator=function(t,n){if(!(n instanceof e))throw new Error('"animator" param must be an instance of PopoverAnimator');this._animatorDict[t]=n},MicroEvent.mixin(i),i}])}(),function(){"use strict";angular.module("onsen").factory("PopoverAnimator",function(){return Class.extend({show:function(t,e){e()},hide:function(t,e){e()}})})}(),function(){"use strict";var module=angular.module("onsen");module.factory("PullHookView",["$onsen","$parse",function($onsen,$parse){var PullHookView=Class.extend({STATE_INITIAL:"initial",STATE_PREACTION:"preaction",STATE_ACTION:"action",init:function(t,e,n){if(this._element=e,this._scope=t,this._attrs=n,this._scrollElement=this._createScrollElement(),this._pageElement=this._scrollElement.parent(),!this._pageElement.hasClass("page__content")&&!this._pageElement.hasClass("ons-scroller__content"))throw new Error("<ons-pull-hook> must be a direct descendant of an <ons-page> or an <ons-scroller> element.");this._currentTranslation=0,this._createEventListeners(),this._setState(this.STATE_INITIAL,!0),this._setStyle(),this._scope.$on("$destroy",this._destroy.bind(this))},_createScrollElement:function(){var t=angular.element("<div>").addClass("scroll"),e=this._element.parent(),n=e.children();return e.append(t),t.append(n),t},_setStyle:function(){var t=this._getHeight();this._element.css({top:"-"+t+"px",height:t+"px",lineHeight:t+"px"})},_onScroll:function(t){var e=this._pageElement[0];e.scrollTop<0&&(e.scrollTop=0)},_generateTranslationTransform:function(t){return"translate3d(0px, "+t+"px, 0px)"},_onDrag:function(t){if(!this.isDisabled()&&t.direction!==Hammer.DIRECTION_LEFT&&t.direction!==Hammer.DIRECTION_RIGHT){var e=this._pageElement[0];if(e.scrollTop=this._startScroll-t.deltaY,e.scrollTop<window.innerHeight&&t.direction!==Hammer.DIRECTION_UP&&t.preventDefault(),0===this._currentTranslation&&0===this._getCurrentScroll()){this._transitionDragLength=t.deltaY;t.direction===Hammer.DIRECTION_DOWN?this._transitionDragLength-=1:this._transitionDragLength+=1}var n=t.deltaY-this._startScroll;n=Math.max(n,0),this._thresholdHeightEnabled()&&n>=this._getThresholdHeight()?(this._hammer.stop(),setImmediate(function(){this._setState(this.STATE_ACTION),this._translateTo(this._getHeight(),{animate:!0}),this._waitForAction(this._onDone.bind(this))}.bind(this))):n>=this._getHeight()?this._setState(this.STATE_PREACTION):this._setState(this.STATE_INITIAL),t.srcEvent.stopPropagation(),this._translateTo(n)}},_onDragStart:function(t){this.isDisabled()||(this._startScroll=this._getCurrentScroll())},_onDragEnd:function(t){if(!this.isDisabled()&&this._currentTranslation>0){this._currentTranslation>this._getHeight()?(this._setState(this.STATE_ACTION),this._translateTo(this._getHeight(),{animate:!0}),this._waitForAction(this._onDone.bind(this))):this._translateTo(0,{animate:!0})}},_waitForAction:function(done){this._attrs.ngAction?this._scope.$eval(this._attrs.ngAction,{$done:done}):this._attrs.onAction?eval(this._attrs.onAction):done()},_onDone:function(t){this._element&&(this._translateTo(0,{animate:!0}),this._setState(this.STATE_INITIAL))},_getHeight:function(){return parseInt(this._element[0].getAttribute("height")||"64",10)},setHeight:function(t){this._element[0].setAttribute("height",t+"px"),this._setStyle()},setThresholdHeight:function(t){this._element[0].setAttribute("threshold-height",t+"px")},_getThresholdHeight:function(){return parseInt(this._element[0].getAttribute("threshold-height")||"96",10)},_thresholdHeightEnabled:function(){var t=this._getThresholdHeight();return t>0&&t>=this._getHeight()},_setState:function(t,e){var n=this._getState();this._scope.$evalAsync(function(){this._element[0].setAttribute("state",t),e||n===this._getState()||this.emit("changestate",{state:t,pullHook:this})}.bind(this))},_getState:function(){return this._element[0].getAttribute("state")},getCurrentState:function(){return this._getState()},_getCurrentScroll:function(){return this._pageElement[0].scrollTop},isDisabled:function(){return this._element[0].hasAttribute("disabled")},setDisabled:function(t){t?this._element[0].setAttribute("disabled",""):this._element[0].removeAttribute("disabled")},_translateTo:function(t,e){e=e||{},this._currentTranslation=t,e.animate?animit(this._scrollElement[0]).queue({transform:this._generateTranslationTransform(t)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(e.callback):animit(this._scrollElement[0]).queue({transform:this._generateTranslationTransform(t)}).play(e.callback)},_getMinimumScroll:function(){var t=this._scrollElement[0].getBoundingClientRect().height,e=this._pageElement[0].getBoundingClientRect().height;return t>e?-(t-e):0},_createEventListeners:function(){var t=this._scrollElement.parent();this._hammer=new Hammer(t[0],{dragMinDistance:1,dragDistanceCorrection:!1}),this._bindedOnDrag=this._onDrag.bind(this),this._bindedOnDragStart=this._onDragStart.bind(this),this._bindedOnDragEnd=this._onDragEnd.bind(this),this._bindedOnScroll=this._onScroll.bind(this),this._hammer.on("pan",this._bindedOnDrag),this._hammer.on("panstart",this._bindedOnDragStart),this._hammer.on("panend",this._bindedOnDragEnd),t.on("scroll",this._bindedOnScroll)},_destroyEventListeners:function(){var t=this._scrollElement.parent();this._hammer.off("pan",this._bindedOnDrag),this._hammer.off("panstart",this._bindedOnDragStart),this._hammer.off("panend",this._bindedOnDragEnd),t.off("scroll",this._bindedOnScroll)},_destroy:function(){this.emit("destroy"),this._destroyEventListeners(),this._element=this._scope=this._attrs=null}});return MicroEvent.mixin(PullHookView),PullHookView}])}(),function(){"use strict";angular.module("onsen").factory("PushSlidingMenuAnimator",["SlidingMenuAnimator",function(t){var e=t.extend({_isRight:!1,_element:void 0,_menuPage:void 0,_mainPage:void 0,_width:void 0,_duration:!1,setup:function(t,e,n,i){i=i||{},this._element=t,this._mainPage=e,this._menuPage=n,this._isRight=!!i.isRight,this._width=i.width||"90%",this._duration=.4,n.css({width:i.width,display:"none"}),this._isRight?n.css({right:"-"+i.width,left:"auto"}):n.css({right:"auto",left:"-"+i.width})},onResized:function(t){if(this._menuPage.css("width",t.width),this._isRight?this._menuPage.css({right:"-"+t.width,left:"auto"}):this._menuPage.css({right:"auto",left:"-"+t.width}),t.isOpened){var e=this._menuPage[0].clientWidth,n=this._generateAbovePageTransform(e),i=this._generateBehindPageStyle(e);animit(this._mainPage[0]).queue({transform:n}).play(),animit(this._menuPage[0]).queue(i).play()}},destroy:function(){this._mainPage.removeAttr("style"),this._menuPage.removeAttr("style"),this._element=this._mainPage=this._menuPage=null},openMenu:function(t,e){var n=!0===e?0:this._duration;this._menuPage.css("display","block");var i=this._menuPage[0].clientWidth,o=this._generateAbovePageTransform(i),r=this._generateBehindPageStyle(i);setTimeout(function(){animit(this._mainPage[0]).queue({transform:o},{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(e){t(),e()}).play(),animit(this._menuPage[0]).queue(r,{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).play()}.bind(this),1e3/60)},closeMenu:function(t,e){var n=!0===e?0:this._duration,i=this._generateAbovePageTransform(0),o=this._generateBehindPageStyle(0);setTimeout(function(){animit(this._mainPage[0]).queue({transform:i},{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue({transform:"translate3d(0, 0, 0)"}).queue(function(e){this._menuPage.css("display","none"),t(),e()}.bind(this)).play(),animit(this._menuPage[0]).queue(o,{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(t){t()}).play()}.bind(this),1e3/60)},translateMenu:function(t){this._menuPage.css("display","block");var e=this._generateAbovePageTransform(Math.min(t.maxDistance,t.distance)),n=this._generateBehindPageStyle(Math.min(t.maxDistance,t.distance));animit(this._mainPage[0]).queue({transform:e}).play(),animit(this._menuPage[0]).queue(n).play()},_generateAbovePageTransform:function(t){return"translate3d("+(this._isRight?-t:t)+"px, 0, 0)"},_generateBehindPageStyle:function(t){return this._menuPage[0].clientWidth,{transform:"translate3d("+(this._isRight?-t:t)+"px, 0, 0)"}},copy:function(){return new e}});return e}])}(),function(){"use strict";angular.module("onsen").factory("RevealSlidingMenuAnimator",["SlidingMenuAnimator",function(t){var e=t.extend({_blackMask:void 0,_isRight:!1,_menuPage:void 0,_element:void 0,_mainPage:void 0,_duration:void 0,setup:function(t,e,n,i){this._element=t,this._menuPage=n,this._mainPage=e,this._isRight=!!i.isRight,this._width=i.width||"90%",this._duration=.4,e.css({boxShadow:"0px 0 10px 0px rgba(0, 0, 0, 0.2)"}),n.css({width:i.width,opacity:.9,display:"none"}),this._isRight?n.css({right:"0px",left:"auto"}):n.css({right:"auto",left:"0px"}),this._blackMask=angular.element("<div></div>").css({backgroundColor:"black",top:"0px",left:"0px",right:"0px",bottom:"0px",position:"absolute",display:"none"}),t.prepend(this._blackMask),animit(e[0]).queue({transform:"translate3d(0, 0, 0)"}).play()},onResized:function(t){if(this._width=t.width,this._menuPage.css("width",this._width),t.isOpened){var e=this._menuPage[0].clientWidth,n=this._generateAbovePageTransform(e),i=this._generateBehindPageStyle(e);animit(this._mainPage[0]).queue({transform:n}).play(),animit(this._menuPage[0]).queue(i).play()}},destroy:function(){this._blackMask&&(this._blackMask.remove(),this._blackMask=null),this._mainPage&&this._mainPage.attr("style",""),this._menuPage&&this._menuPage.attr("style",""),this._mainPage=this._menuPage=this._element=void 0},openMenu:function(t,e){var n=!0===e?0:this._duration;this._menuPage.css("display","block"),this._blackMask.css("display","block")
;var i=this._menuPage[0].clientWidth,o=this._generateAbovePageTransform(i),r=this._generateBehindPageStyle(i);setTimeout(function(){animit(this._mainPage[0]).queue({transform:o},{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(e){t(),e()}).play(),animit(this._menuPage[0]).queue(r,{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).play()}.bind(this),1e3/60)},closeMenu:function(t,e){var n=!0===e?0:this._duration;this._blackMask.css("display","block");var i=this._generateAbovePageTransform(0),o=this._generateBehindPageStyle(0);setTimeout(function(){animit(this._mainPage[0]).queue({transform:i},{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue({transform:"translate3d(0, 0, 0)"}).queue(function(e){this._menuPage.css("display","none"),t(),e()}.bind(this)).play(),animit(this._menuPage[0]).queue(o,{duration:n,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(t){t()}).play()}.bind(this),1e3/60)},translateMenu:function(t){this._menuPage.css("display","block"),this._blackMask.css("display","block");var e=this._generateAbovePageTransform(Math.min(t.maxDistance,t.distance)),n=this._generateBehindPageStyle(Math.min(t.maxDistance,t.distance));delete n.opacity,animit(this._mainPage[0]).queue({transform:e}).play(),animit(this._menuPage[0]).queue(n).play()},_generateAbovePageTransform:function(t){return"translate3d("+(this._isRight?-t:t)+"px, 0, 0)"},_generateBehindPageStyle:function(t){var e=this._menuPage[0].getBoundingClientRect().width,n=(t-e)/e*10;return n=isNaN(n)?0:Math.max(Math.min(n,0),-10),{transform:"translate3d("+(this._isRight?-n:n)+"%, 0, 0)",opacity:1+n/100}},copy:function(){return new e}});return e}])}(),function(){"use strict;";angular.module("onsen").factory("SimpleSlideTransitionAnimator",["NavigatorTransitionAnimator",function(t){return t.extend({backgroundMask:angular.element('<div style="z-index: 2; position: absolute; width: 100%;height: 100%; background-color: black; opacity: 0;"></div>'),timing:"cubic-bezier(.1, .7, .4, 1)",duration:.3,blackMaskOpacity:.4,init:function(t){t=t||{},this.timing=t.timing||this.timing,this.duration=void 0!==t.duration?t.duration:this.duration},push:function(t,e,n){var i=this.backgroundMask.remove();e.element[0].parentNode.insertBefore(i[0],e.element[0].nextSibling),animit.runAll(animit(i[0]).queue({opacity:0,transform:"translate3d(0, 0, 0)"}).queue({opacity:this.blackMaskOpacity},{duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){i.remove(),t()}),animit(t.element[0]).queue({css:{transform:"translate3D(100%, 0, 0)"},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).resetStyle(),animit(e.element[0]).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).queue({css:{transform:"translate3D(-45%, 0px, 0px)"},duration:this.duration,timing:this.timing}).resetStyle().wait(.2).queue(function(t){n(),t()}))},pop:function(t,e,n){var i=this.backgroundMask.remove();t.element[0].parentNode.insertBefore(i[0],t.element[0].nextSibling),animit.runAll(animit(i[0]).queue({opacity:this.blackMaskOpacity,transform:"translate3d(0, 0, 0)"}).queue({opacity:0},{duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){i.remove(),t()}),animit(t.element[0]).queue({css:{transform:"translate3D(-45%, 0px, 0px)",opacity:.9},duration:0}).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).resetStyle(),animit(e.element[0]).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(.2).queue(function(t){n(),t()}))}})}])}(),function(){"use strict;";angular.module("onsen").factory("SlideDialogAnimator",["DialogAnimator",function(t){return t.extend({timing:"cubic-bezier(.1, .7, .4, 1)",duration:.2,init:function(t){t=t||{},this.timing=t.timing||this.timing,this.duration=void 0!==t.duration?t.duration:this.duration},show:function(t,e){e=e||function(){},animit.runAll(animit(t._mask[0]).queue({opacity:0}).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(t._dialog[0]).queue({css:{transform:"translate3D(-50%, -350%, 0)"},duration:0}).queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))},hide:function(t,e){e=e||function(){},animit.runAll(animit(t._mask[0]).queue({opacity:1}).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(t._dialog[0]).queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:0}).queue({css:{transform:"translate3D(-50%, -350%, 0)"},duration:this.duration,timing:this.timing}).resetStyle().queue(function(t){e(),t()}))}})}])}(),function(){"use strict";var t=angular.module("onsen"),e=Class.extend({_distance:0,_maxDistance:void 0,init:function(t){if(!angular.isNumber(t.maxDistance))throw new Error("options.maxDistance must be number");this.setMaxDistance(t.maxDistance)},setMaxDistance:function(t){if(t<=0)throw new Error("maxDistance must be greater then zero.");this.isOpened()&&(this._distance=t),this._maxDistance=t},shouldOpen:function(){return!this.isOpened()&&this._distance>=this._maxDistance/2},shouldClose:function(){return!this.isClosed()&&this._distance<this._maxDistance/2},openOrClose:function(t){this.shouldOpen()?this.open(t):this.shouldClose()&&this.close(t)},close:function(t){var e=t.callback||function(){};this.isClosed()?e():(this._distance=0,this.emit("close",t))},open:function(t){var e=t.callback||function(){};this.isOpened()?e():(this._distance=this._maxDistance,this.emit("open",t))},isClosed:function(){return 0===this._distance},isOpened:function(){return this._distance===this._maxDistance},getX:function(){return this._distance},getMaxDistance:function(){return this._maxDistance},translate:function(t){this._distance=Math.max(1,Math.min(this._maxDistance-1,t));var e={distance:this._distance,maxDistance:this._maxDistance};this.emit("translate",e)},toggle:function(){this.isClosed()?this.open():this.close()}});MicroEvent.mixin(e),t.factory("SlidingMenuView",["$onsen","$compile","SlidingMenuAnimator","RevealSlidingMenuAnimator","PushSlidingMenuAnimator","OverlaySlidingMenuAnimator",function(t,n,i,o,r,s){var a=Class.extend({_scope:void 0,_attrs:void 0,_element:void 0,_menuPage:void 0,_mainPage:void 0,_doorLock:void 0,_isRightMenu:!1,init:function(n,i,o){this._scope=n,this._attrs=o,this._element=i,this._menuPage=angular.element(i[0].querySelector(".onsen-sliding-menu__menu")),this._mainPage=angular.element(i[0].querySelector(".onsen-sliding-menu__main")),this._doorLock=new DoorLock,this._isRightMenu="right"===o.side,this._mainPageHammer=new Hammer(this._mainPage[0]),this._bindedOnTap=this._onTap.bind(this);var r=this._normalizeMaxSlideDistanceAttr();this._logic=new e({maxDistance:Math.max(r,1)}),this._logic.on("translate",this._translate.bind(this)),this._logic.on("open",function(t){this._open(t)}.bind(this)),this._logic.on("close",function(t){this._close(t)}.bind(this)),o.$observe("maxSlideDistance",this._onMaxSlideDistanceChanged.bind(this)),o.$observe("swipeable",this._onSwipeableChanged.bind(this)),this._bindedOnWindowResize=this._onWindowResize.bind(this),window.addEventListener("resize",this._bindedOnWindowResize),this._boundHandleEvent=this._handleEvent.bind(this),this._bindEvents(),o.mainPage&&this.setMainPage(o.mainPage),o.menuPage&&this.setMenuPage(o.menuPage),this._deviceBackButtonHandler=t.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this));var s=this._doorLock.lock();window.setTimeout(function(){var t=this._normalizeMaxSlideDistanceAttr();this._logic.setMaxDistance(t),this._menuPage.css({opacity:1}),this._animator=this._getAnimatorOption(),this._animator.setup(this._element,this._mainPage,this._menuPage,{isRight:this._isRightMenu,width:this._attrs.maxSlideDistance||"90%"}),s()}.bind(this),400),n.$on("$destroy",this._destroy.bind(this)),o.swipeable||this.setSwipeable(!0)},getDeviceBackButtonHandler:function(){return this._deviceBackButtonHandler},_onDeviceBackButton:function(t){this.isMenuOpened()?this.closeMenu():t.callParentHandler()},_onTap:function(){this.isMenuOpened()&&this.closeMenu()},_refreshMenuPageWidth:function(){var t="maxSlideDistance"in this._attrs?this._attrs.maxSlideDistance:"90%";this._animator&&this._animator.onResized({isOpened:this._logic.isOpened(),width:t})},_destroy:function(){this.emit("destroy"),this._deviceBackButtonHandler.destroy(),window.removeEventListener("resize",this._bindedOnWindowResize),this._mainPageHammer.off("tap",this._bindedOnTap),this._element=this._scope=this._attrs=null},_getAnimatorOption:function(){var t=a._animatorDict[this._attrs.type];return t instanceof i||(t=a._animatorDict.default),t.copy()},_onSwipeableChanged:function(t){t=""===t||void 0===t||"true"==t,this.setSwipeable(t)},setSwipeable:function(t){t?this._activateHammer():this._deactivateHammer()},_onWindowResize:function(){this._recalculateMAX(),this._refreshMenuPageWidth()},_onMaxSlideDistanceChanged:function(){this._recalculateMAX(),this._refreshMenuPageWidth()},_normalizeMaxSlideDistanceAttr:function(){var t=this._attrs.maxSlideDistance;if("maxSlideDistance"in this._attrs){if("string"!=typeof t)throw new Error("invalid state");-1!==t.indexOf("px",t.length-2)?t=parseInt(t.replace("px",""),10):t.indexOf("%",t.length-1)>0&&(t=t.replace("%",""),t=parseFloat(t)/100*this._mainPage[0].clientWidth)}else t=.9*this._mainPage[0].clientWidth;return t},_recalculateMAX:function(){var t=this._normalizeMaxSlideDistanceAttr();t&&this._logic.setMaxDistance(parseInt(t,10))},_activateHammer:function(){this._hammertime.on("touch panleft panright swipeleft swiperight panend",this._boundHandleEvent)},_deactivateHammer:function(){this._hammertime.off("touch panleft panright swipeleft swiperight panend",this._boundHandleEvent)},_bindEvents:function(){this._hammertime=new Hammer(this._element[0],{dragMinDistance:1})},_appendMainPage:function(t,e){var i=this._scope.$new(),o=angular.element(e),r=n(o);this._mainPage.append(o),this._currentPageElement&&(this._currentPageElement.remove(),this._currentPageScope.$destroy()),r(i),this._currentPageElement=o,this._currentPageScope=i,this._currentPageUrl=t},_appendMenuPage:function(t){var e=this._scope.$new(),i=angular.element(t),o=n(i);this._menuPage.append(i),this._currentMenuPageScope&&(this._currentMenuPageScope.$destroy(),this._currentMenuPageElement.remove()),o(e),this._currentMenuPageElement=i,this._currentMenuPageScope=e},setMenuPage:function(e,n){if(!e)throw new Error("cannot set undefined page");n=n||{},n.callback=n.callback||function(){};var i=this;t.getPageHTMLAsync(e).then(function(t){i._appendMenuPage(angular.element(t)),n.closeMenu&&i.close(),n.callback()},function(){throw new Error("Page is not found: "+e)})},setMainPage:function(e,n){n=n||{},n.callback=n.callback||function(){};var i=function(){n.closeMenu&&this.close(),n.callback()}.bind(this);if(this.currentPageUrl===e)return void i();if(!e)throw new Error("cannot set undefined page");var o=this;t.getPageHTMLAsync(e).then(function(t){o._appendMainPage(e,t),i()},function(){throw new Error("Page is not found: "+page)})},_handleEvent:function(t){if(!this._doorLock.isLocked())switch(this._isInsideIgnoredElement(t.target)&&this._hammer.stop(),t.type){case"panleft":case"panright":if(this._logic.isClosed()&&!this._isInsideSwipeTargetArea(t))return;t.preventDefault();var e=t.deltaX,n=this._isRightMenu?-e:e,i=t.startEvent;if("isOpened"in i||(i.isOpened=this._logic.isOpened()),n<0&&this._logic.isClosed())break;if(n>0&&this._logic.isOpened())break;if(n>0)return;var o=i.isOpened?n+this._logic.getMaxDistance():n;this._logic.translate(o);break;case"swipeleft":if(t.preventDefault(),this._logic.isClosed()&&!this._isInsideSwipeTargetArea(t))return;this._isRightMenu?this.open():this.close(),this._mainPageHammer.stop();break;case"swiperight":if(t.preventDefault(),this._logic.isClosed()&&!this._isInsideSwipeTargetArea(t))return;this._isRightMenu?this.close():this.open(),this._mainPageHammer.stop();break;case"panend":this._lastDistance=null,this._logic.shouldOpen()?this.open():this._logic.shouldClose()&&this.close()}},_isInsideIgnoredElement:function(t){do{if(t.getAttribute&&t.getAttribute("sliding-menu-ignore"))return!0;t=t.parentNode}while(t);return!1},_isInsideSwipeTargetArea:function(t){var e=t.center.pageX||t.center.x;"_swipeTargetWidth"in t.startEvent||(t.startEvent._swipeTargetWidth=this._getSwipeTargetWidth());var n=t.startEvent._swipeTargetWidth;return this._isRightMenu?this._mainPage[0].clientWidth-e<n:e<n},_getSwipeTargetWidth:function(){var t=this._attrs.swipeTargetWidth;"string"==typeof t&&(t=t.replace("px",""));var e=parseInt(t,10);return e<0||!t?this._mainPage[0].clientWidth:e},closeMenu:function(){return this.close.apply(this,arguments)},close:function(t){t=t||{},t="function"==typeof t?{callback:t}:t,this._logic.isClosed()||(this.emit("preclose",{slidingMenu:this}),this._doorLock.waitUnlock(function(){this._logic.close(t)}.bind(this)))},_close:function(t){var e=t.callback||function(){},n=this._doorLock.lock(),i="none"==t.animation;this._animator.closeMenu(function(){n(),this._mainPage.children().css("pointer-events",""),this._mainPageHammer.off("tap",this._bindedOnTap),this.emit("postclose",{slidingMenu:this}),e()}.bind(this),i)},openMenu:function(){return this.open.apply(this,arguments)},open:function(t){t=t||{},t="function"==typeof t?{callback:t}:t,this.emit("preopen",{slidingMenu:this}),this._doorLock.waitUnlock(function(){this._logic.open(t)}.bind(this))},_open:function(t){var e=t.callback||function(){},n=this._doorLock.lock(),i="none"==t.animation;this._animator.openMenu(function(){n(),this._mainPage.children().css("pointer-events","none"),this._mainPageHammer.on("tap",this._bindedOnTap),this.emit("postopen",{slidingMenu:this}),e()}.bind(this),i)},toggle:function(t){this._logic.isClosed()?this.open(t):this.close(t)},toggleMenu:function(){return this.toggle.apply(this,arguments)},isMenuOpened:function(){return this._logic.isOpened()},_translate:function(t){this._animator.translateMenu(t)}});return a._animatorDict={default:new o,overlay:new s,reveal:new o,push:new r},a.registerSlidingMenuAnimator=function(t,e){if(!(e instanceof i))throw new Error('"animator" param must be an instance of SlidingMenuAnimator');this._animatorDict[t]=e},MicroEvent.mixin(a),a}])}(),function(){"use strict";angular.module("onsen").factory("SlidingMenuAnimator",function(){return Class.extend({setup:function(t,e,n,i){},onResized:function(t){},openMenu:function(t){},closeClose:function(t){},destroy:function(){},translateMenu:function(t,e,n){},copy:function(){throw new Error("Override copy method.")}})})}(),function(){"use strict";angular.module("onsen").factory("SplitView",["$compile","RevealSlidingMenuAnimator","$onsen","$onsGlobal",function(t,e,n,i){function o(t){return!isNaN(parseFloat(t))&&isFinite(t)}var r=Class.extend({init:function(t,n,o){n.addClass("onsen-sliding-menu"),this._element=n,this._scope=t,this._attrs=o,this._mainPage=angular.element(n[0].querySelector(".onsen-split-view__main")),this._secondaryPage=angular.element(n[0].querySelector(".onsen-split-view__secondary")),this._max=.9*this._mainPage[0].clientWidth,this._mode=0,this._doorLock=new DoorLock,this._doSplit=!1,this._doCollapse=!1,i.orientation.on("change",this._onResize.bind(this)),this._animator=new e,this._element.css("display","none"),o.mainPage&&this.setMainPage(o.mainPage),o.secondaryPage&&this.setSecondaryPage(o.secondaryPage);var r=this._doorLock.lock();this._considerChangingCollapse(),this._setSize(),setTimeout(function(){this._element.css("display","block"),r()}.bind(this),1e3/60*2),t.$on("$destroy",this._destroy.bind(this))},_appendSecondPage:function(e){var n=this._scope.$new(),i=t(e)(n);this._secondaryPage.append(i),this._currentSecondaryPageElement&&(this._currentSecondaryPageElement.remove(),this._currentSecondaryPageScope.$destroy()),this._currentSecondaryPageElement=i,this._currentSecondaryPageScope=n},_appendMainPage:function(e){var n=this._scope.$new(),i=t(e)(n);this._mainPage.append(i),this._currentPage&&(this._currentPage.remove(),this._currentPageScope.$destroy()),this._currentPage=i,this._currentPageScope=n},setSecondaryPage:function(t){if(!t)throw new Error("cannot set undefined page");n.getPageHTMLAsync(t).then(function(t){this._appendSecondPage(angular.element(t.trim()))}.bind(this),function(){throw new Error("Page is not found: "+t)})},setMainPage:function(t){if(!t)throw new Error("cannot set undefined page");n.getPageHTMLAsync(t).then(function(t){this._appendMainPage(angular.element(t.trim()))}.bind(this),function(){throw new Error("Page is not found: "+t)})},_onResize:function(){var t=this._mode;this._considerChangingCollapse(),1===t&&1===this._mode&&this._animator.onResized({isOpened:!1,width:"90%"}),this._max=.9*this._mainPage[0].clientWidth},_considerChangingCollapse:function(){var t=this._shouldCollapse();t&&1!==this._mode?(this._fireUpdateEvent(),this._doSplit?this._activateSplitMode():this._activateCollapseMode()):t||1!==this._mode||(this._fireUpdateEvent(),this._doCollapse?this._activateCollapseMode():this._activateSplitMode()),this._doCollapse=this._doSplit=!1},update:function(){this._fireUpdateEvent();var t=this._shouldCollapse();this._doSplit?this._activateSplitMode():this._doCollapse?this._activateCollapseMode():t?this._activateCollapseMode():t||this._activateSplitMode(),this._doSplit=this._doCollapse=!1},_getOrientation:function(){return i.orientation.isPortrait()?"portrait":"landscape"},getCurrentMode:function(){return 1===this._mode?"collapse":"split"},_shouldCollapse:function(){var t="portrait";if("string"==typeof this._attrs.collapse&&(t=this._attrs.collapse.trim()),"portrait"==t)return i.orientation.isPortrait();if("landscape"==t)return i.orientation.isLandscape();if("width"==t.substr(0,5)){var e=t.split(" ")[1];e.indexOf("px")>=0&&(e=e.substr(0,e.length-2));var n=window.innerWidth;return o(e)&&n<e}return window.matchMedia(t).matches},_setSize:function(){if(0===this._mode){this._attrs.mainPageWidth||(this._attrs.mainPageWidth="70");var t=100-this._attrs.mainPageWidth.replace("%","");this._secondaryPage.css({width:t+"%",opacity:1}),this._mainPage.css({width:this._attrs.mainPageWidth+"%"}),this._mainPage.css("left",t+"%")}},_fireEvent:function(t){this.emit(t,{splitView:this,width:window.innerWidth,orientation:this._getOrientation()})},_fireUpdateEvent:function(){var t=this;this.emit("update",{splitView:this,shouldCollapse:this._shouldCollapse(),currentMode:this.getCurrentMode(),split:function(){t._doSplit=!0,t._doCollapse=!1},collapse:function(){t._doSplit=!1,t._doCollapse=!0},width:window.innerWidth,orientation:this._getOrientation()})},_activateCollapseMode:function(){1!==this._mode&&(this._fireEvent("precollapse"),this._secondaryPage.attr("style",""),this._mainPage.attr("style",""),this._mode=1,this._animator.setup(this._element,this._mainPage,this._secondaryPage,{isRight:!1,width:"90%"}),this._fireEvent("postcollapse"))},_activateSplitMode:function(){0!==this._mode&&(this._fireEvent("presplit"),this._animator.destroy(),this._secondaryPage.attr("style",""),this._mainPage.attr("style",""),this._mode=0,this._setSize(),this._fireEvent("postsplit"))},_destroy:function(){this.emit("destroy"),this._element=null,this._scope=null}});return MicroEvent.mixin(r),r}])}(),function(){"use strict";angular.module("onsen").factory("SwitchView",["$onsen",function(t){var e=Class.extend({init:function(t,e,n){this._element=t,this._checkbox=angular.element(t[0].querySelector("input[type=checkbox]")),this._scope=e,n.$observe("disabled",function(e){t.attr("disabled")?this._checkbox.attr("disabled","disabled"):this._checkbox.removeAttr("disabled")}.bind(this)),this._checkbox.on("change",function(t){this.emit("change",{switch:this,value:this._checkbox[0].checked,isInteractive:!0})}.bind(this))},isChecked:function(){return this._checkbox[0].checked},setChecked:function(t){t=!!t,this._checkbox[0].checked!=t&&(this._scope.model=t,this._checkbox[0].checked=t,this._scope.$evalAsync(),this.emit("change",{switch:this,value:t,isInteractive:!1}))},getCheckboxElement:function(){return this._checkbox[0]}});return MicroEvent.mixin(e),e}])}(),function(){"use strict;";var t=angular.module("onsen");t.factory("TabbarAnimator",function(){return Class.extend({apply:function(t,e,n){throw new Error("This method must be implemented.")}})}),t.factory("TabbarNoneAnimator",["TabbarAnimator",function(t){return t.extend({apply:function(t,e,n){n()}})}]),t.factory("TabbarFadeAnimator",["TabbarAnimator",function(t){return t.extend({apply:function(t,e,n){animit.runAll(animit(t[0]).queue({transform:"translate3D(0, 0, 0)",opacity:0}).queue({transform:"translate3D(0, 0, 0)",opacity:1},{duration:.4,timing:"linear"}).resetStyle().queue(function(t){n(),t()}),animit(e[0]).queue({transform:"translate3D(0, 0, 0)",opacity:1}).queue({transform:"translate3D(0, 0, 0)",opacity:0},{duration:.4,timing:"linear"}))}})}]),t.factory("TabbarView",["$onsen","$compile","TabbarAnimator","TabbarNoneAnimator","TabbarFadeAnimator",function(t,e,n,i,o){var r=Class.extend({_tabbarId:void 0,_tabItems:void 0,init:function(t,e,n){this._scope=t,this._element=e,this._attrs=n,this._tabbarId=Date.now(),this._tabItems=[],this._contentElement=angular.element(e[0].querySelector(".ons-tab-bar__content")),this._tabbarElement=angular.element(e[0].querySelector(".ons-tab-bar__footer")),this._scope.$on("$destroy",this._destroy.bind(this)),this._hasTopTabbar()&&this._prepareForTopTabbar()},_prepareForTopTabbar:function(){this._contentElement.attr("no-status-bar-fill",""),setImmediate(function(){this._contentElement.addClass("tab-bar--top__content"),this._tabbarElement.addClass("tab-bar--top")}.bind(this));var e=ons.findParentComponentUntil("ons-page",this._element[0]);if(e&&this._element.css("top",window.getComputedStyle(e.getContentElement(),null).getPropertyValue("padding-top")),t.shouldFillStatusBar(this._element[0])){var n=angular.element(document.createElement("div"));n.addClass("tab-bar__status-bar-fill"),n.css({width:"0px",height:"0px"}),this._element.prepend(n)}},_hasTopTabbar:function(){return"top"===this._attrs.position},setActiveTab:function(t,e){e=e||{};var n=this._tabItems[this.getActiveTabIndex()],i=this._tabItems[t];if((void 0!==i.noReload||i.isPersistent())&&t===this.getActiveTabIndex())return this.emit("reactive",{index:t,tabItem:i}),!1;var o=i.page&&!e.keepPage;if(!i)return!1;var r=!1;if(this.emit("prechange",{index:t,tabItem:i,cancel:function(){r=!0}}),r)return i.setInactive(),n&&n.setActive(),!1;if(i.setActive(),o){var s=!0;n&&n.isPersistent()&&(s=!1,n._pageElement=this._currentPageElement);var a={callback:function(){this.emit("postchange",{index:t,tabItem:i})}.bind(this),_removeElement:s};e.animation&&(a.animation=e.animation),i.isPersistent()&&i._pageElement?this._loadPersistentPageDOM(i._pageElement,a):this._loadPage(i.page,a)}for(var l=0;l<this._tabItems.length;l++)this._tabItems[l]!=i?this._tabItems[l].setInactive():o||this.emit("postchange",{index:t,tabItem:i});return!0},setTabbarVisibility:function(t){this._scope.hideTabs=!t,this._onTabbarVisibilityChanged()},_onTabbarVisibilityChanged:function(){this._hasTopTabbar()?this._scope.hideTabs?this._contentElement.css("top","0px"):this._contentElement.css("top",""):this._scope.hideTabs?this._contentElement.css("bottom","0px"):this._contentElement.css("bottom","")},addTabItem:function(t){this._tabItems.push(t)},getActiveTabIndex:function(){for(var t,e=0;e<this._tabItems.length;e++)if(t=this._tabItems[e],t.isActive())return e;return-1},loadPage:function(t,e){return this._loadPage(t,e)},_loadPage:function(e,n){t.getPageHTMLAsync(e).then(function(t){var e=angular.element(t.trim());this._loadPageDOM(e,n)}.bind(this),function(){throw new Error("Page is not found: "+e)})},_switchPage:function(t,e){if(this._currentPageElement){var n=this._currentPageElement,i=this._currentPageScope;this._currentPageElement=t,this._currentPageScope=t.data("_scope"),this._getAnimatorOption(e).apply(t,n,function(){e._removeElement?(n.remove(),i.$destroy()):n.css("display","none"),e.callback instanceof Function&&e.callback()})}else this._currentPageElement=t,this._currentPageScope=t.data("_scope"),e.callback instanceof Function&&e.callback()},_loadPageDOM:function(t,n){n=n||{};var i=this._scope.$new(),o=e(t);this._contentElement.append(t);var r=o(i);i.$evalAsync(),this._switchPage(r,n)},_loadPersistentPageDOM:function(t,e){e=e||{},t.css("display","block"),this._switchPage(t,e)},_getAnimatorOption:function(t){var e=this._element.attr("animation")||"default";return r._animatorDict[t.animation||e]||r._animatorDict.default},_destroy:function(){this.emit("destroy"),this._element=this._scope=this._attrs=null}});return MicroEvent.mixin(r),r._animatorDict={default:new i,none:new i,fade:new o},r.registerAnimator=function(t,e){if(!(e instanceof n))throw new Error('"animator" param must be an instance of TabbarAnimator');this._animatorDict[t]=e},r}])}(),function(){"use strict";angular.module("onsen").directive("onsAlertDialog",["$onsen","AlertDialogView",function(t,e){return{restrict:"E",replace:!1,scope:!0,transclude:!1,compile:function(n,i){var o=t.generateModifierTemplater(i);n.addClass("alert-dialog "+o("alert-dialog--*"));var r=angular.element(n[0].querySelector(".alert-dialog-title")),s=angular.element(n[0].querySelector(".alert-dialog-content"));return r.length&&r.addClass(o("alert-dialog-title--*")),s.length&&s.addClass(o("alert-dialog-content--*")),{pre:function(n,i,o){var a=new e(n,i,o);t.declareVarAttribute(o,a),t.registerEventHandlers(a,"preshow prehide postshow posthide destroy"),t.addModifierMethods(a,"alert-dialog--*",i),r.length&&t.addModifierMethods(a,"alert-dialog-title--*",r),s.length&&t.addModifierMethods(a,"alert-dialog-content--*",s),t.isAndroid()&&a.addModifier("android"),i.data("ons-alert-dialog",a),n.$on("$destroy",function(){a._events=void 0,t.removeModifierMethods(a),i.data("ons-alert-dialog",void 0),i=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsBackButton",["$onsen","$compile","GenericView","ComponentCleaner",function(t,e,n,i){return{restrict:"E",replace:!1,templateUrl:t.DIRECTIVE_TEMPLATE_URL+"/back_button.tpl",transclude:!0,scope:!0,link:{pre:function(e,o,r,s,a){var l=new n(e,o,r);t.declareVarAttribute(r,l),o.data("ons-back-button",l),e.$on("$destroy",function(){l._events=void 0,t.removeModifierMethods(l),o.data("ons-back-button",void 0),o=null}),e.modifierTemplater=t.generateModifierTemplater(r);var c=ons.findParentComponentUntil("ons-navigator",o);e.$watch(function(){return c.pages.length},function(t){e.showBackButton=t>1}),t.addModifierMethods(l,"toolbar-button--*",o.children()),a(e,function(t){t[0]&&o[0].querySelector(".back-button__label").appendChild(t[0])}),i.onDestroy(e,function(){i.destroyScope(e),i.destroyAttributes(r),o=null,e=null,r=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsBottomToolbar",["$onsen","GenericView",function(t,e){return{restrict:"E",replace:!1,transclude:!1,scope:!1,compile:function(n,i){var o=t.generateModifierTemplater(i),r=void 0!==i.inline;return n.addClass("bottom-bar"),n.addClass(o("bottom-bar--*")),n.css({"z-index":0}),r&&n.css("position","static"),{pre:function(n,i,o){var s=new e(n,i,o);t.declareVarAttribute(o,s),i.data("ons-bottomToolbar",s),n.$on("$destroy",function(){s._events=void 0,t.removeModifierMethods(s),i.data("ons-bottomToolbar",void 0),i=null}),t.addModifierMethods(s,"bottom-bar--*",i);var a=i.inheritedData("ons-page");a&&!r&&a.registerBottomToolbar(i)},post:function(e,n,i){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsButton",["$onsen","ButtonView",function(t,e){return{restrict:"E",replace:!1,transclude:!0,scope:{animation:"@"},templateUrl:t.DIRECTIVE_TEMPLATE_URL+"/button.tpl",link:function(n,i,o,r,s){var a=new e(n,i,o);if(t.declareVarAttribute(o,a),i.data("ons-button",a),n.$on("$destroy",function(){a._events=void 0,t.removeModifierMethods(a),i.data("ons-button",void 0),i=null}),n.modifierTemplater=t.generateModifierTemplater(o),i.addClass("button effeckt-button"),i.addClass(n.modifierTemplater("button--*")),i.addClass("slide-left"),t.addModifierMethods(a,"button--*",i),s(n.$parent,function(t){angular.element(i[0].querySelector(".ons-button-inner")).append(t)}),o.ngController)throw new Error("This element can't accept ng-controller directive.");n.item={},n.item.animation="slide-left",n.$watch("animation",function(t){t&&(n.item.animation&&i.removeClass(n.item.animation),n.item.animation=t,i.addClass(n.item.animation))}),o.$observe("shouldSpin",function(t){"true"===t?i.attr("data-loading",!0):i.removeAttr("data-loading")}),t.cleaner.onDestroy(n,function(){t.clearComponent({scope:n,attrs:o,element:i}),n=i=o=null}),t.fireComponentEvent(i[0],"init")}}}])}(),function(){"use strict";var t=angular.module("onsen");t.directive("onsCarousel",["$onsen","CarouselView",function(t,e){return{restrict:"E",replace:!1,scope:!1,transclude:!1,compile:function(n,i){var o=t.generateModifierTemplater(i);return n.addClass(o("carousel--*")),function(n,i,o){var r=new e(n,i,o);i.data("ons-carousel",r),t.registerEventHandlers(r,"postchange refresh overscroll destroy"),t.declareVarAttribute(o,r),n.$on("$destroy",function(){r._events=void 0,i.data("ons-carousel",void 0),i=null}),i[0].hasAttribute("auto-refresh")&&n.$watch(function(){return i[0].childNodes.length},function(){setImmediate(function(){r.refresh()})}),setImmediate(function(){r.refresh()}),t.fireComponentEvent(i[0],"init")}}}}]),t.directive("onsCarouselItem",["$onsen",function(t){return{restrict:"E",replace:!1,scope:!1,transclude:!1,compile:function(e,n){var i=t.generateModifierTemplater(n);return e.addClass(i("carousel-item--*")),e.css("width","100%"),function(t,e,n){}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsCol",["$timeout","$onsen",function(t,e){return{restrict:"E",replace:!1,transclude:!1,scope:!1,compile:function(t,n,i){return t.addClass("col ons-col-inner"),function(t,n,i){function o(t){"top"===t||"center"===t||"bottom"===t?(n.removeClass("col-top col-center col-bottom"),n.addClass("col-"+t)):n.removeClass("col-top col-center col-bottom")}function r(t){"string"==typeof t?(t=(""+t).trim(),t=t.match(/^\d+$/)?t+"%":t,n.css({"-webkit-box-flex":"0","-webkit-flex":"0 0 "+t,"-moz-box-flex":"0","-moz-flex":"0 0 "+t,"-ms-flex":"0 0 "+t,flex:"0 0 "+t,"max-width":t})):n.removeAttr("style")}i.$observe("align",function(t){o(t)}),i.$observe("width",function(t){r(t)}),i.$observe("size",function(t){i.width||r(t)}),o(i.align),r(i.size&&!i.width?i.size:i.width),e.cleaner.onDestroy(t,function(){e.clearComponent({scope:t,element:n,attrs:i}),n=i=t=null}),e.fireComponentEvent(n[0],"init")}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsDialog",["$onsen","DialogView",function(t,e){return{restrict:"E",replace:!1,scope:!0,transclude:!0,templateUrl:t.DIRECTIVE_TEMPLATE_URL+"/dialog.tpl",compile:function(n,i,o){return n[0].setAttribute("no-status-bar-fill",""),{pre:function(n,i,r){o(n,function(t){angular.element(i[0].querySelector(".dialog")).append(t)});var s=new e(n,i,r);n.modifierTemplater=t.generateModifierTemplater(r),t.addModifierMethods(s,"dialog--*",angular.element(i[0].querySelector(".dialog"))),t.declareVarAttribute(r,s),t.registerEventHandlers(s,"preshow prehide postshow posthide destroy"),i.data("ons-dialog",s),n.$on("$destroy",function(){s._events=void 0,t.removeModifierMethods(s),i.data("ons-dialog",void 0),i=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsDummyForInit",["$rootScope",function(t){var e=!1;return{restrict:"E",replace:!1,link:{post:function(n,i){e||(e=!0,t.$broadcast("$ons-ready")),i.remove()}}}}])}(),function(){
"use strict";var t="pan panstart panmove panend pancancel panleft panright panup pandown press pressup swipe swipeleft swiperight swipeup swipedown tap pinch pinchstart pinchmove pinchend pinchcancel pinchin pinchout rotate rotatestart rotatemove rotateend rotatecancel".split(/ +/);angular.module("onsen").directive("onsGestureDetector",["$onsen",function(e){function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}var i=t.reduce(function(t,e){return t["ng"+n(e)]="&",t},{});return{restrict:"E",scope:i,replace:!1,transclude:!0,compile:function(o,r){return function(o,r,s,a,l){function c(t){var e="ng"+n(t.type);e in i&&o[e]({$event:t})}l(o.$parent,function(t){r.append(t)});var u=new Hammer(r[0]);u.get("pinch").set({enable:!0}),u.get("rotate").set({enable:!0}),u.on(t.join(" "),c),e.cleaner.onDestroy(o,function(){u.off(t.join(" "),c),e.clearComponent({scope:o,element:r,attrs:s}),u.element=o=r=s=null}),e.fireComponentEvent(r[0],"init")}}}}])}(),function(){"use strict";function t(t){var e=(""+t.attr("class")).split(/ +/).filter(function(t){return"fa"!==t&&"fa-"!==t.substring(0,3)&&"ion-"!==t.substring(0,4)});t.attr("class",e.join(" "))}function e(t){var e=["ons-icon"],n={};0===t.icon.indexOf("ion-")?(e.push(t.icon),e.push("ons-icon--ion")):0===t.icon.indexOf("fa-")?(e.push(t.icon),e.push("fa")):(e.push("fa"),e.push("fa-"+t.icon));var i=""+t.size;return i.match(/^[1-5]x|lg$/)?e.push("fa-"+i):"string"==typeof t.size?n["font-size"]=i:e.push("fa-lg"),{class:e.join(" "),style:n}}angular.module("onsen").directive("onsIcon",["$onsen",function(n){return{restrict:"E",replace:!1,transclude:!1,link:function(i,o,r){if(r.ngController)throw new Error("This element can't accept ng-controller directive.");var s=function(){t(o);var n=e(r);o.css(n.style),o.addClass(n.class)},a=e(r);o.css(a.style),o.addClass(a.class),r.$observe("icon",s),r.$observe("size",s),r.$observe("fixedWidth",s),r.$observe("rotate",s),r.$observe("flip",s),r.$observe("spin",s),n.cleaner.onDestroy(i,function(){n.clearComponent({scope:i,element:o,attrs:r}),o=i=r=null}),n.fireComponentEvent(o[0],"init")}}}])}(),function(){"use strict";angular.module("onsen").directive("onsIfOrientation",["$onsen","$onsGlobal",function(t,e){return{restrict:"A",replace:!1,transclude:!1,scope:!1,compile:function(n){return n.css("display","none"),function(n,i,o){function r(){var t=(""+o.onsIfOrientation).toLowerCase(),e=s();"portrait"!==t&&"landscape"!==t||(t===e?i.css("display",""):i.css("display","none"))}function s(){return e.orientation.isPortrait()?"portrait":"landscape"}i.addClass("ons-if-orientation-inner"),o.$observe("onsIfOrientation",r),e.orientation.on("change",r),r(),t.cleaner.onDestroy(n,function(){e.orientation.off("change",r),t.clearComponent({element:i,scope:n,attrs:o}),i=n=o=null})}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsIfPlatform",["$onsen",function(t){return{restrict:"A",replace:!1,transclude:!1,scope:!1,compile:function(e){e.addClass("ons-if-platform-inner"),e.css("display","none");var n=function(){if(navigator.userAgent.match(/Android/i))return"android";if(navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/RIM Tablet OS/i)||navigator.userAgent.match(/BB10/i))return"blackberry";if(navigator.userAgent.match(/iPhone|iPad|iPod/i))return"ios";if(navigator.userAgent.match(/IEMobile/i))return"windows";var t=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;return t?"opera":"undefined"!=typeof InstallTrigger?"firefox":Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0?"safari":!window.chrome||t?document.documentMode?"ie":"unknown":"chrome"}();return function(e,i,o){function r(){o.onsIfPlatform.toLowerCase()===n.toLowerCase()?i.css("display","block"):i.css("display","none")}o.$observe("onsIfPlatform",function(t){t&&r()}),r(),t.cleaner.onDestroy(e,function(){t.clearComponent({element:i,scope:e,attrs:o}),i=e=o=null})}}}}])}(),function(){"use strict";var t=angular.module("onsen"),e=function(t,e){return function(n){return function(n,i,o){var r=t?"block":"none",s=t?"none":"block",a=function(){i.css("display",r)},l=function(){i.css("display",s)},c=function(t){t.visible?a():l()};ons.softwareKeyboard.on("show",a),ons.softwareKeyboard.on("hide",l),ons.softwareKeyboard.on("init",c),ons.softwareKeyboard._visible?a():l(),e.cleaner.onDestroy(n,function(){ons.softwareKeyboard.off("show",a),ons.softwareKeyboard.off("hide",l),ons.softwareKeyboard.off("init",c),e.clearComponent({element:i,scope:n,attrs:o}),i=n=o=null})}}};t.directive("onsKeyboardActive",["$onsen",function(t){return{restrict:"A",replace:!1,transclude:!1,scope:!1,compile:e(!0,t)}}]),t.directive("onsKeyboardInactive",["$onsen",function(t){return{restrict:"A",replace:!1,transclude:!1,scope:!1,compile:e(!1,t)}}])}(),function(){"use strict";angular.module("onsen").directive("onsLazyRepeat",["$onsen","LazyRepeatView",function(t,e){return{restrict:"A",replace:!1,priority:1e3,transclude:"element",compile:function(t,n,i){return function(t,n,o){new e(t,n,o,i),t.$on("$destroy",function(){t=n=o=i=null})}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsList",["$onsen","GenericView",function(t,e){return{restrict:"E",scope:!1,replace:!1,transclude:!1,compile:function(n,i){return function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("ons-list",r),n.$on("$destroy",function(){r._events=void 0,t.removeModifierMethods(r),i.data("ons-list",void 0),i=null});var s=t.generateModifierTemplater(o);i.addClass("list ons-list-inner"),i.addClass(s("list--*")),t.addModifierMethods(r,"list--*",i),t.fireComponentEvent(i[0],"init")}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsListHeader",["$onsen","GenericView",function(t,e){return{restrict:"E",replace:!1,transclude:!1,compile:function(){return function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("ons-listHeader",r),n.$on("$destroy",function(){r._events=void 0,t.removeModifierMethods(r),i.data("ons-listHeader",void 0),i=null});var s=t.generateModifierTemplater(o);i.addClass("list__header ons-list-header-inner"),i.addClass(s("list__header--*")),t.addModifierMethods(r,"list__header--*",i),t.fireComponentEvent(i[0],"init")}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsListItem",["$onsen","GenericView",function(t,e){return{restrict:"E",replace:!1,transclude:!1,compile:function(){return function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("ons-list-item",r),n.$on("$destroy",function(){r._events=void 0,t.removeModifierMethods(r),i.data("ons-list-item",void 0),i=null});var s=t.generateModifierTemplater(o);i.addClass("list__item ons-list-item-inner"),i.addClass(s("list__item--*")),t.addModifierMethods(r,"list__item--*",i),t.fireComponentEvent(i[0],"init")}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsLoadingPlaceholder",["$onsen","$compile",function(t,e){return{restrict:"A",replace:!1,transclude:!1,scope:!1,link:function(n,i,o){if(!o.onsLoadingPlaceholder.length)throw Error("Must define page to load.");setImmediate(function(){t.getPageHTMLAsync(o.onsLoadingPlaceholder).then(function(t){t=t.trim().replace(/^<ons-page>/,"").replace(/<\/ons-page>$/,"");var o=document.createElement("div");o.innerHTML=t;var r=angular.element(o);r.css("display","none"),i.append(r),e(r)(n);for(var s=i[0].childNodes.length-1;s>=0;s--){var a=i[0].childNodes[s];a!==o&&i[0].removeChild(a)}r.css("display","block")})})}}}])}(),function(){"use strict";angular.module("onsen").directive("onsModal",["$onsen","ModalView",function(t,e){function n(e,n){var i=t.generateModifierTemplater(n),o=e[0].innerHTML;e[0].innerHTML="";var r=angular.element("<div></div>");r.addClass("modal__content"),r.addClass(i("modal--*__content")),e.css("display","none"),e.addClass("modal"),e.addClass(i("modal--*")),r[0].innerHTML=o,e.append(r)}return{restrict:"E",replace:!1,scope:!1,transclude:!1,compile:function(i,o){return n(i,o),{pre:function(n,i,o){var r=i.inheritedData("ons-page");r&&r.registerExtraElement(i);var s=new e(n,i);t.addModifierMethods(s,"modal--*",i),t.addModifierMethods(s,"modal--*__content",i.children()),t.declareVarAttribute(o,s),i.data("ons-modal",s),n.$on("$destroy",function(){s._events=void 0,t.removeModifierMethods(s),i.data("ons-modal",void 0)})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsNavigator",["$compile","NavigatorView","$onsen",function(t,e,n){return{restrict:"E",transclude:!1,scope:!0,compile:function(i){var o=n.normalizePageHTML(i.html());return i.contents().remove(),{pre:function(i,r,s,a){var l=new e(i,r,s);if(n.declareVarAttribute(s,l),n.registerEventHandlers(l,"prepush prepop postpush postpop destroy"),s.page)l.pushPage(s.page,{});else{var c=l._createPageScope(),u=angular.element(o),h=t(u),d=function(){h(c)};l._pushPageDOM("",u,d,c,{}),u=null}r.data("ons-navigator",l),r.data("_scope",i),i.$on("$destroy",function(){r.data("_scope",void 0),l._events=void 0,r.data("ons-navigator",void 0),r=null})},post:function(t,e,i){n.fireComponentEvent(e[0],"init")}}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsPage",["$onsen","PageView",function(t,e){function n(e){var n=0,s=function(){if(!(n++<5))throw new Error('Fail to fire "pageinit" event. Attach "ons-page" element to the document after initialization.');r(e)?(o(e),t.fireComponentEvent(e,"init"),i(e)):setImmediate(s)};s()}function i(t){var e=document.createEvent("HTMLEvents");e.initEvent("pageinit",!0,!0),t.dispatchEvent(e)}function o(e){if(t.shouldFillStatusBar(e)){var n=angular.element(document.createElement("div"));n.addClass("page__status-bar-fill"),n.css({width:"0px",height:"0px"}),angular.element(e).prepend(n)}}function r(t){return document.documentElement===t||!!t.parentNode&&r(t.parentNode)}function s(n,i,o,r,s){var a=new e(n,i,o);t.declareVarAttribute(o,a),i.data("ons-page",a);var l=t.generateModifierTemplater(o);i.addClass("page "+l("page--*")),t.addModifierMethods(a,"page--*",i);var c=angular.element(i[0].querySelector(".page__content"));c.addClass(l("page--*__content")),c=null;var u=angular.element(i[0].querySelector(".page__background"));u.addClass(l("page--*__background")),u=null,i.data("_scope",n),t.cleaner.onDestroy(n,function(){i.data("_scope",void 0),a._events=void 0,t.removeModifierMethods(a),i.data("ons-page",void 0),t.clearComponent({element:i,scope:n,attrs:o}),n=i=o=null})}function a(t,e,i){n(e[0])}return{restrict:"E",transclude:!1,scope:!1,compile:function(t){var e=t.children().remove(),n=angular.element('<div class="page__content ons-page-inner"></div>').append(e),i=angular.element('<div class="page__background"></div>');if(t.attr("style")&&(i.attr("style",t.attr("style")),t.attr("style","")),t.append(i),Modernizr.csstransforms3d)t.append(n);else{n.css("overflow","visible");var o=angular.element("<div></div>");o.append(e),n.append(o),t.append(n),o=null;var r=new IScroll(n[0],{momentum:!0,bounce:!0,hScrollbar:!1,vScrollbar:!1,preventDefault:!1});r.on("scrollStart",function(t){r.y-10<r.maxScrollY+40&&r.refresh()})}return n=null,i=null,e=null,{pre:s,post:a}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsPopover",["$onsen","PopoverView",function(t,e){return{restrict:"E",replace:!1,transclude:!0,scope:!0,templateUrl:t.DIRECTIVE_TEMPLATE_URL+"/popover.tpl",compile:function(n,i,o){return{pre:function(n,i,r){o(n,function(t){angular.element(i[0].querySelector(".popover__content")).append(t)});var s=new e(n,i,r);t.declareVarAttribute(r,s),t.registerEventHandlers(s,"preshow prehide postshow posthide destroy"),i.data("ons-popover",s),n.$on("$destroy",function(){s._events=void 0,t.removeModifierMethods(s),i.data("ons-popover",void 0),i=null}),n.modifierTemplater=t.generateModifierTemplater(r),t.addModifierMethods(s,"popover--*",angular.element(i[0].querySelector(".popover"))),t.addModifierMethods(s,"popover__content--*",angular.element(i[0].querySelector(".popover__content"))),t.isAndroid()&&setImmediate(function(){s.addModifier("android")}),n.direction="up",n.arrowPosition="bottom"},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsPullHook",["$onsen","PullHookView",function(t,e){return{restrict:"E",replace:!1,scope:!0,compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),t.registerEventHandlers(r,"changestate destroy"),i.data("ons-pull-hook",r),n.$on("$destroy",function(){r._events=void 0,i.data("ons-pull-hook",void 0),n=i=o=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsRow",["$onsen","$timeout",function(t,e){return{restrict:"E",replace:!1,transclude:!1,scope:!1,compile:function(e,n){return e.addClass("row ons-row-inner"),function(e,n,i){function o(){var t=(""+i.align).trim();"top"!==t&&"center"!==t&&"bottom"!==t||(n.removeClass("row-bottom row-center row-top"),n.addClass("row-"+t))}i.$observe("align",function(t){o()}),o(),t.fireComponentEvent(n[0],"init")}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsScroller",["$onsen","$timeout",function(t,e){return{restrict:"E",replace:!1,transclude:!0,scope:{onScrolled:"&",infinitScrollEnable:"="},compile:function(n,i){return n.addClass("ons-scroller").children().remove(),function(n,i,o,r,s){if(o.ngController)throw new Error('"ons-scroller" can\'t accept "ng-controller" directive.');var a=angular.element("<div></div>");a.addClass("ons-scroller__content ons-scroller-inner"),i.append(a),s(n.$parent,function(t){a.append(t),a=null});var l;l=i[0];var c=parseInt(o.threshold)||10;n.onScrolled&&l.addEventListener("scroll",function(){n.infinitScrollEnable&&l.scrollTop+l.offsetHeight>=l.scrollHeight-c&&n.onScrolled()}),Modernizr.csstransforms3d||e(function(){var t=new IScroll(l,{momentum:!0,bounce:!0,hScrollbar:!1,vScrollbar:!1,preventDefault:!1});t.on("scrollStart",function(e){t.y-c<t.maxScrollY+40&&t.refresh()}),n.onScrolled&&t.on("scrollEnd",function(e){t.y-c<t.maxScrollY&&n.onScrolled()})},500),t.fireComponentEvent(i[0],"init")}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsSlidingMenu",["$compile","SlidingMenuView","$onsen",function(t,e,n){return{restrict:"E",replace:!1,transclude:!1,scope:!0,compile:function(t,i){var o=t[0].querySelector(".main"),r=t[0].querySelector(".menu");if(o)var s=angular.element(o).remove().html().trim();if(r)var a=angular.element(r).remove().html().trim();return function(t,i,o){if(o.ngController)throw new Error("This element can't accept ng-controller directive.");i.append(angular.element("<div></div>").addClass("onsen-sliding-menu__menu ons-sliding-menu-inner")),i.append(angular.element("<div></div>").addClass("onsen-sliding-menu__main ons-sliding-menu-inner"));var r=new e(t,i,o);n.registerEventHandlers(r,"preopen preclose postopen postclose destroy"),s&&!o.mainPage&&r._appendMainPage(null,s),a&&!o.menuPage&&r._appendMenuPage(a),n.declareVarAttribute(o,r),i.data("ons-sliding-menu",r),i.data("_scope",t),t.$on("$destroy",function(){i.data("_scope",void 0),r._events=void 0,i.data("ons-sliding-menu",void 0)}),n.fireComponentEvent(i[0],"init")}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsSplitView",["$compile","SplitView","$onsen",function(t,e,n){return{restrict:"E",replace:!1,transclude:!1,scope:!0,compile:function(t,i){var o=t[0].querySelector(".main-page"),r=t[0].querySelector(".secondary-page");if(o)var s=angular.element(o).remove().html().trim();if(r)var a=angular.element(r).remove().html().trim();return function(t,i,o){if(o.ngController)throw new Error("This element can't accept ng-controller directive.");i.append(angular.element("<div></div>").addClass("onsen-split-view__secondary full-screen ons-split-view-inner")),i.append(angular.element("<div></div>").addClass("onsen-split-view__main full-screen ons-split-view-inner"));var r=new e(t,i,o);s&&!o.mainPage&&r._appendMainPage(s),a&&!o.secondaryPage&&r._appendSecondPage(a),n.declareVarAttribute(o,r),n.registerEventHandlers(r,"update presplit precollapse postsplit postcollapse destroy"),i.data("ons-split-view",r),i.data("_scope",t),t.$on("$destroy",function(){i.data("_scope",void 0),r._events=void 0,i.data("ons-split-view",void 0)}),n.fireComponentEvent(i[0],"init")}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsSwitch",["$onsen","$parse","SwitchView",function(t,e,n){return{restrict:"E",replace:!1,transclude:!1,scope:!0,templateUrl:t.DIRECTIVE_TEMPLATE_URL+"/switch.tpl",compile:function(i){return function(i,o,r){if(r.ngController)throw new Error("This element can't accept ng-controller directive.");var s=new n(o,i,r),a=angular.element(o[0].querySelector("input[type=checkbox]"));i.modifierTemplater=t.generateModifierTemplater(r);var l=o.children(),c=angular.element(l.children()[0]),u=angular.element(l.children()[1]);if(t.addModifierMethods(s,"switch--*",l),t.addModifierMethods(s,"switch--*__input",c),t.addModifierMethods(s,"switch--*__toggle",u),r.$observe("checked",function(t){i.model=!!o.attr("checked")}),r.$observe("name",function(t){o.attr("name")&&a.attr("name",t)}),r.ngModel){var h=e(r.ngModel).assign;i.$parent.$watch(r.ngModel,function(t){i.model=t}),i.$watch("model",function(t,e){h(i.$parent,t),t!==e&&i.$eval(r.ngChange)})}t.declareVarAttribute(r,s),o.data("ons-switch",s),t.cleaner.onDestroy(i,function(){s._events=void 0,t.removeModifierMethods(s),o.data("ons-switch",void 0),t.clearComponent({element:o,scope:i,attrs:r}),a=o=r=i=null}),t.fireComponentEvent(o[0],"init")}}}}])}(),function(){"use strict";function t(t,e){return{restrict:"E",transclude:!0,scope:{page:"@",active:"@",icon:"@",activeIcon:"@",label:"@",noReload:"@",persistent:"@"},templateUrl:t.DIRECTIVE_TEMPLATE_URL+"/tab.tpl",compile:function(i,o){return i.addClass("tab-bar__item"),function(i,o,r,s,a){var l=o.inheritedData("ons-tabbar");if(!l)throw new Error("This ons-tab element is must be child of ons-tabbar element.");o.addClass(l._scope.modifierTemplater("tab-bar--*__item")),o.addClass(l._scope.modifierTemplater("tab-bar__item--*")),a(i.$parent,function(t){var s=angular.element(o[0].querySelector(".tab-bar-inner"));if(r.icon||r.label||!t[0]){var a=angular.element("<div>"+n+"</div>").children();s.append(a),e(a)(i)}else s.append(t)});var c=o[0].querySelector("input");i.tabbarModifierTemplater=l._scope.modifierTemplater,i.modifierTemplater=t.generateModifierTemplater(r),i.tabbarId=l._tabbarId,i.tabIcon=i.icon,l.addTabItem(i),i.setActive=function(){o.addClass("active"),c.checked=!0,i.activeIcon&&(i.tabIcon=i.activeIcon),angular.element(o[0].querySelectorAll("[ons-tab-inactive]")).css("display","none"),angular.element(o[0].querySelectorAll("[ons-tab-active]")).css("display","inherit")},i.setInactive=function(){o.removeClass("active"),c.checked=!1,i.tabIcon=i.icon,angular.element(o[0].querySelectorAll("[ons-tab-inactive]")).css("display","inherit"),angular.element(o[0].querySelectorAll("[ons-tab-active]")).css("display","none")},i.isPersistent=function(){return void 0!==i.persistent},i.isActive=function(){return o.hasClass("active")},i.tryToChange=function(){l.setActiveTab(l._tabItems.indexOf(i))},i.active&&l.setActiveTab(l._tabItems.indexOf(i)),t.fireComponentEvent(o[0],"init")}}}}var e=angular.module("onsen");e.directive("onsTab",t),e.directive("onsTabbarItem",t);var n='<div ng-if="icon != undefined" class="tab-bar__icon"><ons-icon icon="{{tabIcon}}" style="font-size: 28px; line-height: 34px; vertical-align: top;"></ons-icon></div><div ng-if="label" class="tab-bar__label">{{label}}</div>';t.$inject=["$onsen","$compile"]}(),function(){"use strict";angular.module("onsen").directive("onsTabbar",["$onsen","$compile","TabbarView",function(t,e,n){return{restrict:"E",replace:!1,transclude:!0,scope:!0,templateUrl:t.DIRECTIVE_TEMPLATE_URL+"/tab_bar.tpl",link:function(e,i,o,r,s){e.modifierTemplater=t.generateModifierTemplater(o),e.selectedTabItem={source:""},o.$observe("hideTabs",function(t){var e="true"!==t;a.setTabbarVisibility(e)});var a=new n(e,i,o);t.addModifierMethods(a,"tab-bar--*",angular.element(i.children()[1])),t.registerEventHandlers(a,"reactive prechange postchange destroy"),e.tabbarId=a._tabbarId,i.data("ons-tabbar",a),t.declareVarAttribute(o,a),s(e,function(t){angular.element(i[0].querySelector(".ons-tabbar-inner")).append(t)}),e.$on("$destroy",function(){a._events=void 0,t.removeModifierMethods(a),i.data("ons-tabbar",void 0)}),t.fireComponentEvent(i[0],"init")}}}])}(),function(){"use strict";angular.module("onsen").directive("onsTemplate",["$onsen","$templateCache",function(t,e){return{restrict:"E",transclude:!1,priority:1e3,terminal:!0,compile:function(n){e.put(n.attr("id"),n.remove().html()),t.fireComponentEvent(n[0],"init")}}}])}(),function(){"use strict";function t(t,e){var n=t[0].querySelector(".left");return n||(n=document.createElement("div"),n.setAttribute("class","left"),n.innerHTML="&nbsp;"),""===n.innerHTML.trim()&&(n.innerHTML="&nbsp;"),angular.element(n).addClass("navigation-bar__left").addClass(e("navigation-bar--*__left")),n}function e(t,e){var n=t[0].querySelector(".center");return n||(n=document.createElement("div"),n.setAttribute("class","center")),""===n.innerHTML.trim()&&(n.innerHTML="&nbsp;"),angular.element(n).addClass("navigation-bar__title navigation-bar__center").addClass(e("navigation-bar--*__center")),n}function n(t,e){var n=t[0].querySelector(".right");return n||(n=document.createElement("div"),n.setAttribute("class","right"),n.innerHTML="&nbsp;"),""===n.innerHTML.trim()&&(n.innerHTML="&nbsp;"),angular.element(n).addClass("navigation-bar__right").addClass(e("navigation-bar--*__right")),n}function i(t){for(var e,n=!1,i=!1,o=t.contents(),r=0;r<o.length;r++)e=angular.element(o[r]),e.hasClass("center")?n=!0:(e.hasClass("left")||e.hasClass("right"))&&(i=!0);return n&&!i}function o(o,r){var s;if(i(o))s=e(o,r),o.contents().remove(),o.append(s);else{s=e(o,r);var a=t(o,r),l=n(o,r);o.contents().remove(),o.append(angular.element([a,s,l]))}}angular.module("onsen").directive("onsToolbar",["$onsen","GenericView",function(t,e){return{restrict:"E",replace:!1,scope:!1,transclude:!1,compile:function(n,i){var r=ons.platform.isAndroid()&&!n[0].hasAttribute("fixed-style"),s=t.generateModifierTemplater(i,r?["android"]:[]),a=void 0!==i.inline;return n.addClass("navigation-bar"),n.addClass(s("navigation-bar--*")),a||n.css({position:"absolute","z-index":"10000",left:"0px",right:"0px",top:"0px"}),o(n,s),{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),n.$on("$destroy",function(){r._events=void 0,t.removeModifierMethods(r),i.data("ons-toolbar",void 0),i=null}),t.addModifierMethods(r,"navigation-bar--*",i),angular.forEach(["left","center","right"],function(e){var n=i[0].querySelector(".navigation-bar__"+e);n&&t.addModifierMethods(r,"navigation-bar--*__"+e,angular.element(n))});var s=i.inheritedData("ons-page");s&&!a&&s.registerToolbar(i),i.data("ons-toolbar",r)},post:function(e,n,i){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";angular.module("onsen").directive("onsToolbarButton",["$onsen","GenericView",function(t,e){return{restrict:"E",transclude:!0,scope:{},templateUrl:t.DIRECTIVE_TEMPLATE_URL+"/toolbar_button.tpl",link:{pre:function(n,i,o){var r=new e(n,i,o),s=i[0].querySelector(".toolbar-button");t.declareVarAttribute(o,r),i.data("ons-toolbar-button",r),n.$on("$destroy",function(){r._events=void 0,t.removeModifierMethods(r),i.data("ons-toolbar-button",void 0),i=null});var a=t.generateModifierTemplater(o);if(o.ngController)throw new Error("This element can't accept ng-controller directive.");o.$observe("disabled",function(t){!1===t||void 0===t?s.removeAttribute("disabled"):s.setAttribute("disabled","disabled")}),n.modifierTemplater=t.generateModifierTemplater(o),t.addModifierMethods(r,"toolbar-button--*",i.children()),i.children("span").addClass(a("toolbar-button--*")),t.cleaner.onDestroy(n,function(){t.clearComponent({scope:n,attrs:o,element:i}),n=i=o=null})},post:function(e,n,i){t.fireComponentEvent(n[0],"init")}}}}])}(),function(){"use strict";var t=angular.module("onsen"),e={decomposeNode:function(t){for(var n=t.remove().children(),i=0;i<n.length;i++)e.decomposeNode(angular.element(n[i]))},destroyAttributes:function(t){t.$$element=null,t.$$observers=null},destroyElement:function(t){t.remove()},destroyScope:function(t){t.$$listeners={},t.$$watchers=null,t=null},onDestroy:function(t,e){var n=t.$on("$destroy",function(){n(),e.apply(null,arguments)})}};t.factory("ComponentCleaner",function(){return e}),function(){var n={};"click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" ").forEach(function(t){var i=function(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}("ng-"+t);n[i]=["$parse",function(n){return{compile:function(o,r){var s=n(r[i]);return function(n,i,o){var r=function(t){n.$apply(function(){s(n,{$event:t})})};i.on(t,r),e.onDestroy(n,function(){i.off(t,r),i=null,e.destroyScope(n),n=null,e.destroyAttributes(o),o=null})}}}}]}),t.config(["$provide",function(t){var e=function(t){return t.shift(),t};Object.keys(n).forEach(function(n){t.decorator(n+"Directive",["$delegate",e])})}]),Object.keys(n).forEach(function(e){t.directive(e,n[e])})}()}(),function(){"use strict";var t={init:function(){this.ready=!1},addBackButtonListener:function(t){this._ready?window.document.addEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.addEventListener("backbutton",t,!1)})},removeBackButtonListener:function(t){this._ready?window.document.removeEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.removeEventListener("backbutton",t,!1)})}};t.init(),angular.module("onsen").service("DeviceBackButtonHandler",function(){this._init=function(){window.ons.isWebView()?window.document.addEventListener("deviceready",function(){t._ready=!0},!1):t._ready=!0,this._bindedCallback=this._callback.bind(this),this.enable()},this._isEnabled=!1,this.enable=function(){this._isEnabled||(t.addBackButtonListener(this._bindedCallback),this._isEnabled=!0)},this.disable=function(){this._isEnabled&&(t.removeBackButtonListener(this._bindedCallback),this._isEnabled=!1)},this.fireDeviceBackButtonEvent=function(){var t=document.createEvent("Event");t.initEvent("backbutton",!0,!0),document.dispatchEvent(t)},this._callback=function(){this._dispatchDeviceBackButtonEvent()},this.create=function(t,e){if(!(t instanceof angular.element().constructor))throw new Error("element must be an instance of jqLite");if(!(e instanceof Function))throw new Error("callback must be an instance of Function");var n={_callback:e,_element:t,disable:function(){this._element.data("device-backbutton-handler",null)},setListener:function(t){this._callback=t},enable:function(){this._element.data("device-backbutton-handler",this)},isEnabled:function(){return this._element.data("device-backbutton-handler")===this},destroy:function(){this._element.data("device-backbutton-handler",null),this._callback=this._element=null}};return n.enable(),n},this._dispatchDeviceBackButtonEvent=function(t){function e(t){return{_element:t,callParentHandler:function(){for(var t=this._element.parent();t[0];){if(o=t.data("device-backbutton-handler"))return o._callback(e(t));t=t.parent()}}}}var n=this._captureTree(),i=this._findHandlerLeafElement(n),o=i.data("device-backbutton-handler");o._callback(e(i))},this._dumpParents=function(t){for(;t[0];)console.log(t[0].nodeName.toLowerCase()+"."+t.attr("class")),t=t.parent()},this._captureTree=function(){function t(e){return{element:e,children:Array.prototype.concat.apply([],Array.prototype.map.call(e.children(),function(e){if(e=angular.element(e),"none"===e[0].style.display)return[];if(0===e.children().length&&!e.data("device-backbutton-handler"))return[];var n=t(e);return 0!==n.children.length||e.data("device-backbutton-handler")?[n]:[]}))}}return t(angular.element(document.body))},this._dumpTree=function(t){function e(t,n){var i=new Array(n+1).join("  ");console.log(i+t.element[0].nodeName.toLowerCase()),t.children.forEach(function(t){e(t,n+1)})}e(t,0)},this._findHandlerLeafElement=function(t){function e(t){return 0===t.children.length?t.element:1===t.children.length?e(t.children[0]):t.children.map(function(t){return t.element}).reduce(function(t,e){if(null===t)return e;var n=parseInt(window.getComputedStyle(t[0],"").zIndex,10),i=parseInt(window.getComputedStyle(e[0],"").zIndex,10);if(!isNaN(n)&&!isNaN(i))return n>i?t:e;throw new Error("Capturing backbutton-handler is failure.")},null)}return e(t)},this._init()})}(),function(){"use strict";angular.module("onsen").factory("$onsen",["$rootScope","$window","$cacheFactory","$document","$templateCache","$http","$q","$onsGlobal","ComponentCleaner","DeviceBackButtonHandler",function(t,e,n,i,o,r,s,a,l,c){var u=function(){return{_unlockersDict:{},_unlockedVarDict:{},_addVarLock:function(t,e){if(!(e instanceof Function))throw new Error("unlocker argument must be an instance of Function.");this._unlockersDict[t]?this._unlockersDict[t].push(e):this._unlockersDict[t]=[e]},unlockVarName:function(t){var e=this._unlockersDict[t];e&&e.forEach(function(t){t()}),this._unlockedVarDict[t]=!0},addCallback:function(t,e){if(!(e instanceof Function))throw new Error("callback argument must be an instance of Function.");var n=new DoorLock,i=this;t.forEach(function(t){if(!i._unlockedVarDict[t]){var e=n.lock();i._addVarLock(t,e)}}),n.isLocked()?n.waitUnlock(e):e()}}}(),h=function(){return{instances:[],pendings:{},componentRegister:function(t,e){function n(){var e=i.instances.indexOf(t);-1!==e&&i.instances.splice(e,1)}if(!e)return angular.noop;var i=this;return t.$$hyHandle=e,this.instances.push(t),function(){var n=i.pendings[e];n&&(n.forEach(function(e){e.resolve(t)}),delete i.pendings[e])}(),n},componentWhen:function(t){if(t&&""!==t){var e=s.defer(),n=this.componentGet(t);return n?e.resolve(n):(void 0===this.pendings[t]&&(this.pendings[t]=[]),this.pendings[t].push(e)),e.promise}return s.reject("Invalid `hy-component-id` value.")},componentGet:function(t){if(t&&""!==t)return null;var e,n,i;for(e=0,n=this.instances.length;e<n;e++)if(i=this.instances[e],i.$$hyHandle===t)return i;return null},DIRECTIVE_TEMPLATE_URL:"templates",cleaner:l,DeviceBackButtonHandler:c,_defaultDeviceBackButtonHandler:c.create(angular.element(document.body),function(){navigator.app.exitApp()}),getDefaultDeviceBackButtonHandler:function(){return this._defaultDeviceBackButtonHandler},isEnabledAutoStatusBarFill:function(){return!!a._config.autoStatusBarFill},shouldFillStatusBar:function(t){if(this.isEnabledAutoStatusBarFill()&&this.isWebView()&&this.isIOS7Above()){if(!(t instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");for(var e="ONS-TABBAR"===t.tagName?console.log.bind(console):angular.noop;;){if(t.hasAttribute("no-status-bar-fill"))return!1;if(t=t.parentNode,e(t),!t||!t.hasAttribute)return!0}}return!1},clearComponent:function(t){t.scope&&l.destroyScope(t.scope),t.attrs&&l.destroyAttributes(t.attrs),t.element&&l.destroyElement(t.element),t.elements&&t.elements.forEach(function(t){l.destroyElement(t)})},upTo:function(t,e){e=e.toLowerCase();do{if(!t)return null;if(t=t.parentNode,t.tagName.toLowerCase()==e)return t}while(t.parentNode);return null},waitForVariables:function(t,e){u.addCallback(t,e)},findElementeObject:function(t,e){return t.inheritedData(e)},getPageHTMLAsync:function(t){var e=o.get(t);if(e){var n=s.defer(),i="string"==typeof e?e:e[1];return n.resolve(this.normalizePageHTML(i)),n.promise}return r({url:t,method:"GET"}).then(function(t){var e=t.data;return this.normalizePageHTML(e)}.bind(this))},normalizePageHTML:function(t){return t=(""+t).trim(),t.match(/^<(ons-page|ons-navigator|ons-tabbar|ons-sliding-menu|ons-split-view)/)||(t="<ons-page>"+t+"</ons-page>"),t},
generateModifierTemplater:function(t,e){var n=t&&"string"==typeof t.modifier?t.modifier.trim().split(/ +/):[];return e=angular.isArray(e)?n.concat(e):n,function(t){return e.map(function(e){return t.replace("*",e)}).join(" ")}},addModifierMethods:function(t,e,n){var i=function(t){return e.replace("*",t)},o={hasModifier:function(t){return n.hasClass(i(t))},removeModifier:function(t){n.removeClass(i(t))},addModifier:function(t){n.addClass(i(t))},setModifier:function(t){for(var o=n.attr("class").split(/\s+/),r=e.replace("*","."),s=0;s<o.length;s++){var a=o[s];a.match(r)&&n.removeClass(a)}n.addClass(i(t))},toggleModifier:function(t){var e=i(t);n.hasClass(e)?n.removeClass(e):n.addClass(e)}},r=function(t,e){return void 0!==t?function(){return t.apply(null,arguments)||e.apply(null,arguments)}:e};t.hasModifier=r(t.hasModifier,o.hasModifier),t.removeModifier=r(t.removeModifier,o.removeModifier),t.addModifier=r(t.addModifier,o.addModifier),t.setModifier=r(t.setModifier,o.setModifier),t.toggleModifier=r(t.toggleModifier,o.toggleModifier)},removeModifierMethods:function(t){t.hasModifier=t.removeModifier=t.addModifier=t.setModifier=t.toggleModifier=void 0},declareVarAttribute:function(t,e){if("string"==typeof t.var){var n=t.var;this._defineVar(n,e),this.componentRegister(e,n),u.unlockVarName(n)}},_registerEventHandler:function(t,e){var n=e.charAt(0).toUpperCase()+e.slice(1);t.on(e,function(i){h.fireComponentEvent(t._element[0],e,i);var o=t._attrs["ons"+n];o&&(t._scope.$eval(o,{$event:i}),t._scope.$evalAsync())})},registerEventHandlers:function(t,e){e=e.trim().split(/\s+/);for(var n=0,i=e.length;n<i;n++){var o=e[n];this._registerEventHandler(t,o)}},isAndroid:function(){return!!window.navigator.userAgent.match(/android/i)},isIOS:function(){return!!window.navigator.userAgent.match(/(ipad|iphone|ipod touch)/i)},isWebView:function(){return window.ons.isWebView()},isIOS7Above:function(){var t=window.navigator.userAgent,e=t.match(/(iPad|iPhone|iPod touch);.*CPU.*OS (\d+)_(\d+)/i),n=!!e&&parseFloat(e[2]+"."+e[3])>=7&&parseFloat(e[2]+"."+e[3])<11;return function(){return n}}(),fireComponentEvent:function(t,e,n){n=n||{};var i=document.createEvent("HTMLEvents");for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);i.component=t?angular.element(t).data(t.nodeName.toLowerCase())||null:null,i.initEvent(t.nodeName.toLowerCase()+":"+e,!0,!0),t.dispatchEvent(i)},_defineVar:function(e,n){function i(t,e,n){for(var i,o=0;o<e.length-1;o++)i=e[o],void 0!==t[i]&&null!==t[i]||(t[i]={}),t=t[i];if(t[e[e.length-1]]=n,t==window){var r=document.createEvent("CustomEvent");r.initCustomEvent(e[e.length-1]+"init",!1,!1,""),document.dispatchEvent(r)}if(t[e[e.length-1]]!==n)throw new Error('Cannot set var="'+n._attrs.var+'" because it will overwrite a read-only variable.')}var o=e.split(/\./);ons.componentBase&&i(ons.componentBase,o,n),i(t,o,n)}}}();return h}])}(),window.animit=function(){"use strict";var t=function(e){if(!(this instanceof t))return new t(e);if(e instanceof HTMLElement)this.elements=[e];else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("First argument must be an array or an instance of HTMLElement.");this.elements=e}this.transitionQueue=[],this.lastStyleAttributeDict=[];var n=this;this.elements.forEach(function(t,e){t.hasAttribute("data-animit-orig-style")?n.lastStyleAttributeDict[e]=t.getAttribute("data-animit-orig-style"):(n.lastStyleAttributeDict[e]=t.getAttribute("style"),t.setAttribute("data-animit-orig-style",n.lastStyleAttributeDict[e]||""))})};t.prototype={transitionQueue:void 0,element:void 0,play:function(t){return"function"==typeof t&&this.transitionQueue.push(function(e){t(),e()}),this.startAnimation(),this},queue:function(e,n){var i=this.transitionQueue;if(e&&n&&(n.css=e,e=new t.Transition(n)),e instanceof Function||e instanceof t.Transition||(e=e.css?new t.Transition(e):new t.Transition({css:e})),e instanceof Function)i.push(e);else{if(!(e instanceof t.Transition))throw new Error("Invalid arguments");i.push(e.build())}return this},wait:function(t){return this.transitionQueue.push(function(e){setTimeout(e,1e3*t)}),this},resetStyle:function(n){function i(){o.elements.forEach(function(e,n){e.style[t.prefix+"Transition"]="none",e.style.transition="none",o.lastStyleAttributeDict[n]?e.setAttribute("style",o.lastStyleAttributeDict[n]):(e.setAttribute("style",""),e.removeAttribute("style"))})}n=n||{};var o=this;if(n.transition&&!n.duration)throw new Error('"options.duration" is required when "options.transition" is enabled.');if(n.transition||n.duration&&n.duration>0){var r=n.transition||"all "+n.duration+"s "+(n.timing||"linear"),s="transition: "+r+"; -"+t.prefix+"-transition: "+r+";";this.transitionQueue.push(function(a){var l=this.elements;l.forEach(function(e,n){e.style[t.prefix+"Transition"]=r,e.style.transition=r;var i=(o.lastStyleAttributeDict[n]?o.lastStyleAttributeDict[n]+"; ":"")+s;e.setAttribute("style",i)});var c=e.addOnTransitionEnd(l[0],function(){clearTimeout(u),i(),a()}),u=setTimeout(function(){c(),i(),a()},1e3*n.duration*1.4)})}else this.transitionQueue.push(function(t){i(),t()});return this},startAnimation:function(){return this._dequeueTransition(),this},_dequeueTransition:function(){var t=this.transitionQueue.shift();if(this._currentTransition)throw new Error("Current transition exists.");this._currentTransition=t;var e=this,n=!1,i=function(){if(n)throw new Error("Invalid state: This callback is called twice.");n=!0,e._currentTransition=void 0,e._dequeueTransition()};t&&t.call(this,i)}},t.cssPropertyDict=function(){var t=window.getComputedStyle(document.documentElement,""),e={},n="A".charCodeAt(0),i="z".charCodeAt(0);for(var o in t)if(t.hasOwnProperty(o)){o.charCodeAt(0);n<=o.charCodeAt(0)&&i>=o.charCodeAt(0)&&"cssText"!==o&&"parentText"!==o&&"length"!==o&&(e[o]=!0)}return e}(),t.hasCssProperty=function(e){return!!t.cssPropertyDict[e]},t.prefix=function(){var t=window.getComputedStyle(document.documentElement,"");return(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1]}(),t.runAll=function(){for(var t=0;t<arguments.length;t++)arguments[t].play()},t.Transition=function(t){this.options=t||{},this.options.duration=this.options.duration||0,this.options.timing=this.options.timing||"linear",this.options.css=this.options.css||{},this.options.property=this.options.property||"all"},t.Transition.prototype={build:function(){if(0===Object.keys(this.options.css).length)throw new Error("options.css is required.");var n=function(n){var i={};return Object.keys(n).forEach(function(o){var r=n[o];o=e.normalizeStyleName(o);var s=t.prefix+e.capitalize(o);t.cssPropertyDict[o]?i[o]=r:t.cssPropertyDict[s]?i[s]=r:(i[s]=r,i[o]=r)}),i}(this.options.css);if(this.options.duration>0){var i=e.buildTransitionValue(this.options),o=this;return function(r){var s=this.elements,a=1e3*o.options.duration*1.4,l=e.addOnTransitionEnd(s[0],function(){clearTimeout(c),r()}),c=setTimeout(function(){l(),r()},a);s.forEach(function(e,o){e.style[t.prefix+"Transition"]=i,e.style.transition=i,Object.keys(n).forEach(function(t){e.style[t]=n[t]})})}}if(this.options.duration<=0)return function(e){var i=this.elements;i.forEach(function(e,i){e.style[t.prefix+"Transition"]="none",e.transition="none",Object.keys(n).forEach(function(t){e.style[t]=n[t]})}),i.length&&i[0].offsetHeight,window.requestAnimationFrame?requestAnimationFrame(e):setTimeout(e,1e3/30)}}};var e={normalizeStyleName:function(t){return t=t.replace(/-[a-zA-Z]/g,function(t){return t.slice(1).toUpperCase()}),t.charAt(0).toLowerCase()+t.slice(1)},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},buildTransitionValue:function(t){return t.property=t.property||"all",t.duration=t.duration||.4,t.timing=t.timing||"linear",t.property.split(/ +/).map(function(e){return e+" "+t.duration+"s "+t.timing}).join(", ")},addOnTransitionEnd:function(t,n){if(!t)return function(){};var i=function(e){t==e.target&&(e.stopPropagation(),o(),n())},o=function(){e._transitionEndEvents.forEach(function(e){t.removeEventListener(e,i)})};return e._transitionEndEvents.forEach(function(e){t.addEventListener(e,i,!1)}),o},_transitionEndEvents:function(){return"webkit"===t.prefix||"o"===t.prefix||"moz"===t.prefix||"ms"===t.prefix?[t.prefix+"TransitionEnd","transitionend"]:["transitionend"]}()};return t}(),window.ons.notification=function(){var t=function(t,e,n,i,o,r,s,a,l,c,u,h){var d,p=angular.element("<ons-alert-dialog>"),f=angular.element("<div>").addClass("alert-dialog-title").text(t),m=angular.element("<div>").addClass("alert-dialog-content"),g=angular.element("<div>").addClass("alert-dialog-footer");o&&p.attr("modifier",o),p.attr("animation",r),a?m.html(e):m.text(e),p.append(f).append(m),c&&(d=angular.element("<input>").addClass("text-input").attr("placeholder",h).css({width:"100%",marginTop:"10px"}),m.append(d)),p.append(g),angular.element(document.body).append(p),ons.$compile(p)(p.injector().get("$rootScope"));var _=p.data("ons-alert-dialog");n.length<=2&&g.addClass("alert-dialog-footer--one");for(var v=0;v<n.length;v++)!function(t){var e=angular.element("<button>").addClass("alert-dialog-button").text(n[t]);t==i&&e.addClass("alert-dialog-button--primal"),n.length<=2&&e.addClass("alert-dialog-button--one"),e.on("click",function(){e.off("click"),_.hide({callback:function(){s(c?d.val():t),_.destroy(),_=d=e=null}})}),g.append(e)}(v);l&&(_.setCancelable(l),_.on("cancel",function(){s(c?null:-1),setTimeout(function(){_.destroy(),_=null,d=null})})),_.show({callback:function(){c&&u&&d[0].focus()}}),p=f=m=g=null};return{alert:function(e){var n={buttonLabel:"OK",animation:"default",title:"Alert",callback:function(){}};if(e=angular.extend({},n,e),!e.message&&!e.messageHTML)throw new Error("Alert dialog must contain a message.");t(e.title,e.message||e.messageHTML,[e.buttonLabel],0,e.modifier,e.animation,e.callback,!e.message,!1,!1,!1)},confirm:function(e){var n={buttonLabels:["Cancel","OK"],primaryButtonIndex:1,animation:"default",title:"Confirm",callback:function(){},cancelable:!1};if(e=angular.extend({},n,e),!e.message&&!e.messageHTML)throw new Error("Confirm dialog must contain a message.");t(e.title,e.message||e.messageHTML,e.buttonLabels,e.primaryButtonIndex,e.modifier,e.animation,e.callback,!e.message,e.cancelable,!1,!1)},prompt:function(e){var n={buttonLabel:"OK",animation:"default",title:"Alert",placeholder:"",callback:function(){},cancelable:!1,autofocus:!0};if(e=angular.extend({},n,e),!e.message&&!e.messageHTML)throw new Error("Prompt dialog must contain a message.");t(e.title,e.message||e.messageHTML,[e.buttonLabel],0,e.modifier,e.animation,e.callback,!e.message,e.cancelable,!0,e.autofocus,e.placeholder)}}}(),window.ons.orientation=function(){return function(){var t={_isPortrait:!1,isPortrait:function(){return this._isPortrait()},isLandscape:function(){return!this.isPortrait()},_init:function(){return document.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this),!1),"orientation"in window?window.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.addEventListener("resize",this._onResize.bind(this),!1),this._isPortrait=function(){return window.innerHeight>window.innerWidth},this},_onDOMContentLoaded:function(){this._installIsPortraitImplementation(),this.emit("change",{isPortrait:this.isPortrait()})},_installIsPortraitImplementation:function(){var t=window.innerWidth<window.innerHeight;"orientation"in window?window.orientation%180==0?this._isPortrait=function(){return 0===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return 90===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return window.innerHeight>window.innerWidth}},_onOrientationChange:function(){var t=this._isPortrait(),e=0,n=setInterval(function(){e++;var i=window.innerWidth,o=window.innerHeight;t&&i<=o||!t&&i>=o?(this.emit("change",{isPortrait:t}),clearInterval(n)):50===e&&(this.emit("change",{isPortrait:t}),clearInterval(n))}.bind(this),20)},_onResize:function(){this.emit("change",{isPortrait:this.isPortrait()})}};return MicroEvent.mixin(t),t}()._init()}(),function(){"use strict";window.ons.platform={isWebView:function(){return ons.isWebView()},isIOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},isAndroid:function(){return/Android/i.test(navigator.userAgent)},isIPhone:function(){return/iPhone/i.test(navigator.userAgent)},isIPad:function(){return/iPad/i.test(navigator.userAgent)},isBlackBerry:function(){return/BlackBerry|RIM Tablet OS|BB10/i.test(navigator.userAgent)},isOpera:function(){return!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0},isFirefox:function(){return"undefined"!=typeof InstallTrigger},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0},isChrome:function(){return!!window.chrome&&!(window.opera||navigator.userAgent.indexOf(" OPR/")>=0)},isIE:function(){return!!document.documentMode},isIOS7above:function(){if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var t=(navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,".");return parseInt(t.split(".")[0])>=7}return!1}}}(),function(){"use strict";window.addEventListener("load",function(){FastClick.attach(document.body)},!1),(new Viewport).setup(),Modernizr.testStyles("#modernizr { -webkit-overflow-scrolling:touch }",function(t,e){Modernizr.addTest("overflowtouch",window.getComputedStyle&&"touch"==window.getComputedStyle(t).getPropertyValue("-webkit-overflow-scrolling"))}),window.jQuery&&angular.element===window.jQuery&&console.warn("Onsen UI require jqLite. Load jQuery after loading AngularJS to fix this error. jQuery may break Onsen UI behavior.")}(),function(){"use strict";angular.module("onsen").run(["$templateCache",function(t){for(var e=window.document.querySelectorAll('script[type="text/ons-template"]'),n=0;n<e.length;n++){var i=angular.element(e[n]),o=i.attr("id");"string"==typeof o&&t.put(o,i.text())}}])}(),function(t,e,n){"use strict";function i(t,e){if(void 0===t||void 0===e||void 0===e.type)return null;var i;return i=e.type.indexOf("pan")>-1?new n.Pan(e):e.type.indexOf("pinch")>-1?new n.Pinch(e):e.type.indexOf("press")>-1?new n.Press(e):e.type.indexOf("rotate")>-1?new n.Rotate(e):e.type.indexOf("swipe")>-1?new n.Swipe(e):"doubletap"===e.type?new n.Tap({event:e.type,taps:2}):new n.Tap(e),t.add(i),i}function o(t,e){return t&&(e.preventGhosts=t.preventGhosts),e}function r(t){return t.indexOf("pan")>-1?"pan":t.indexOf("pinch")>-1?"pinch":t.indexOf("press")>-1?"press":t.indexOf("rotate")>-1?"rotate":t.indexOf("swipe")>-1?"swipe":"tap"}function s(t,e,n){if(t&&e){var o=t.get(e.type);o||(o=i(t,e)),e.directions||("pan"===e.type||"swipe"===e.type?e.directions="DIRECTION_ALL":e.type.indexOf("left")>-1?e.directions="DIRECTION_LEFT":e.type.indexOf("right")>-1?e.directions="DIRECTION_RIGHT":e.type.indexOf("up")>-1?e.directions="DIRECTION_UP":e.type.indexOf("down")>-1?e.directions="DIRECTION_DOWN":e.directions=""),e.direction=a(e.directions),o.set(e),"string"==typeof e.recognizeWith&&(null==t.get(e.recognizeWith)&&i(t,{type:e.recognizeWith}),o.recognizeWith(t.get(e.recognizeWith))),"string"==typeof e.dropRecognizeWith&&null!=t.get(e.dropRecognizeWith)&&o.dropRecognizeWith(t.get(e.dropRecognizeWith)),"string"==typeof e.requireFailure&&(null==t.get(e.requireFailure)&&i(t,{type:e.requireFailure}),o.requireFailure(t.get(e.requireFailure))),"string"==typeof e.dropRequireFailure&&null!=t.get(e.dropRequireFailure)&&o.dropRequireFailure(t.get(e.dropRequireFailure)),!0===e.preventGhosts&&null!=n&&l(n)}}function a(t){var i=0;return e.forEach(t.split("|"),function(t){n.hasOwnProperty(t)&&(i|=n[t])}),i}function l(e){function n(t){for(var e=0;e<s.length;e++){var n=s[e][0],i=s[e][1];if(Math.abs(t.clientX-n)<a&&Math.abs(t.clientY-i)<a){t.stopPropagation(),t.preventDefault();break}}}function i(){s=[]}function o(){s.splice(0,1)}function r(t){if(t.touches.length-t.changedTouches.length<=0){var e=t.changedTouches[0];s.push([e.clientX,e.clientY]),setTimeout(o,l)}}if(e){var s=[],a=25,l=2500;"ontouchstart"in t&&(e[0].addEventListener("touchstart",i,!0),e[0].addEventListener("touchend",r,!0),e[0].addEventListener("click",n,!0),e[0].addEventListener("mouseup",n,!0))}}if(void 0===e)if("undefined"!=typeof require&&require)try{e=require("angular")}catch(t){return console.log("ERROR: Angular Hammer could not require() a reference to angular")}else{if(void 0===t.angular)return console.log("ERROR: Angular Hammer could not find or require() a reference to angular");e=t.angular}if(void 0===n)if("undefined"!=typeof require&&require)try{n=require("hammerjs")}catch(t){return console.log("ERROR: Angular Hammer could not require() a reference to Hammer")}else{if(void 0===t.Hammer)return console.log("ERROR: Angular Hammer could not find or require() a reference to Hammer");n=t.Hammer}var c=["hmCustom:custom","hmSwipe:swipe","hmSwipeleft:swipeleft","hmSwiperight:swiperight","hmSwipeup:swipeup","hmSwipedown:swipedown","hmPan:pan","hmPanstart:panstart","hmPanmove:panmove","hmPanend:panend","hmPancancel:pancancel","hmPanleft:panleft","hmPanright:panright","hmPanup:panup","hmPandown:pandown","hmPress:press","hmPressup:pressup","hmRotate:rotate","hmRotatestart:rotatestart","hmRotatemove:rotatemove","hmRotateend:rotateend","hmRotatecancel:rotatecancel","hmPinch:pinch","hmPinchstart:pinchstart","hmPinchmove:pinchmove","hmPinchend:pinchend","hmPinchcancel:pinchcancel","hmPinchin:pinchin","hmPinchout:pinchout","hmTap:tap","hmDoubletap:doubletap"];e.module("hmTouchEvents",[]),e.forEach(c,function(t){var i=t.split(":"),a=i[0],l=i[1];e.module("hmTouchEvents").directive(a,["$parse","$window",function(t,i){return{restrict:"A",link:function(c,u,h){if(!n||!i.addEventListener)return"hmTap"===a&&u.bind("click",_),void("hmDoubletap"===a&&u.bind("dblclick",_));var d=u.data("hammer"),p=e.fromJson(h.hmManagerOptions),f=e.fromJson(h.hmRecognizerOptions);d||(d=new n.Manager(u[0],p),u.data("hammer",d),c.$on("$destroy",function(){d.destroy()}));var m=h[a],g=t(m),_=function(t){function e(){var e=g(c,{$event:t});e&&e.call(c,t)}var n=c.$root.$$phase,i=d.get(t.type);t.element=u,i&&(i.options.preventDefault&&t.preventDefault(),i.options.stopPropagation&&t.srcEvent.stopPropagation()),"$apply"===n||"$digest"===n?e():c.$apply(e)};e.isArray(f)?e.forEach(f,function(t){"hmCustom"===a?l=t.event:(t.type||(t.type=r(l)),t.event&&delete t.event),("hmCustom"===a||l.indexOf(t.type)>-1)&&s(d,o(p,t),u)}):e.isObject(f)?("hmCustom"===a?l=f.event:(f.type||(f.type=r(l)),f.event&&delete f.event),("hmCustom"===a||l.indexOf(f.type)>-1)&&s(d,o(p,f),u)):"hmCustom"!==a?(f={type:r(l)},"hmDoubletap"===a&&(f.event=l,f.taps=2,d.get("tap")&&(f.recognizeWith="tap")),f.type.indexOf("pan")>-1&&d.get("swipe")&&(f.recognizeWith="swipe"),f.type.indexOf("pinch")>-1&&d.get("rotate")&&(f.recognizeWith="rotate"),s(d,o(p,f),u)):l=null,l&&d.on(l,_)}}}])})}(window,window.angular,window.Hammer),function(){"use strict";angular.module("haiyiMobile",["onsen","hmTouchEvents"])}(),window.hyMui=function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}var e=function(){return{_hyMuiService:null,_appConfig:null,_config:{mainUrl:"main.html",mainNavi:"mainNavi",appUrl:void 0,appId:void 0,moduleName:"myHyApp",isNative:!0},_init:!0,_naviInit:!1,_onload:!1,_mainNavi:null,_launcherNaviConfig:{show:!1,params:{}},_loginConfig:{show:!1,params:{}},bootstrap:function(t,e,n){function i(t){function e(t){return/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(t)[7]}window.navigator.userAgent.match(/MicroMessenger/i)&&t&&(t.on("postpush",function(t){var e=t.navigator.pages,n=t.enterPage.page,i={index:e?e.length:0,page:n};window.location.hash=window.btoa(angular.toJson(i))}),t.on("postpop",function(t){var e=t.navigator.pages,n=t.enterPage.page,i={index:e?e.length:0,page:n};window.location.hash=window.btoa(angular.toJson(i))}),angular.element(window).on("hashchange",function(t){var n=s._mainNavi.pages[s._mainNavi.pages.length-1].page,i=e(t.newURL),o=e(t.oldURL);if(i&&o){var r=angular.fromJson(window.atob(i)),a=angular.fromJson(window.atob(o));n!=r.page&&(a.index>r.index&&s._mainNavi.pages.length>1?s._mainNavi.popPage():s._mainNavi.pushPage(r.page))}}))}angular.isString(t)||angular.isArray(t)||(n=t,e=void 0,t=void 0),angular.isArray(t)&&(n=e,e=t,t=void 0),angular.isString(t)&&!angular.isArray(e)&&(n=e,e=void 0),t||(t="myHyApp");var o={mainUrl:"main.html",mainNavi:"mainNavi",appUrl:void 0,appId:void 0,moduleName:"myHyApp"};n=n||{};for(var r in o)void 0===n[r]&&(n[r]=o[r]);this._config=n,this._config.moduleName=t,e=["haiyiMobile"].concat(angular.isArray(e)?e:[]);var s=this;return window.addEventListener("load",function(){if(s._onload=!0,s._onload&&s._naviInit&&s._init){if(s._init=!1,s._mainNavi=window[s._config.mainNavi],!s._mainNavi)return void console.error("window can not find "+s._config.mainNavi+" attribute");s._appConfig.mainNavi=s._mainNavi,i(s._mainNavi),s._hyMuiService.run(s._config.debug)}}),document.addEventListener(s._config.mainNavi+"init",function(){if(s._naviInit=!0,s._onload&&s._naviInit&&s._init){if(s._init=!1,s._mainNavi=window[s._config.mainNavi],!s._mainNavi)return void console.error("window can not find "+s._config.mainNavi+" attribute");s._appConfig.mainNavi=s._mainNavi,i(s._mainNavi),s._hyMuiService.run(s._config.debug)}},!1),ons.bootstrap(t,e)},launcherNavi:function(t){this._launcherNaviConfig.show=!0,this._launcherNaviConfig.params=t},launcherNaviShow:function(){this._hyMuiService.launcherNaviShow(!0)},initLogin:function(t){this._loginConfig.show=!0,this._loginConfig.params=t},isLogin:function(){this._hyMuiService.isLogin()},showLogin:function(t){this._hyMuiService.showLogin(t)},login:function(t){this._hyMuiService.login(t)},loginOff:function(){this._hyMuiService.loginOff()},createDB:function(t,e,n){window.sqlitePlugin?persistence.store.cordovasql.config(persistence,t,"1.0.0",e,n,0,null):persistence.store.websql.config(persistence,t,e,n)},alert:function(t,e,n,i){t=t||" ",i=i||"",n=n||"",e=e||function(){},navigator.notification&&this._config.isNative?navigator.notification.alert(t,e,n,i):ons.notification.alert({message:t,title:n,buttonLabel:i,callback:e})},confirm:function(t){function e(e){t.callback(e-1)}navigator.notification&&this._config.isNative?navigator.notification.confirm(t.message,e,t.title,t.buttonLabels):ons.notification.confirm(t)},logger:function(){var t=this._config.isDev;return{info:function(t){this._log("log",t)},error:function(t){this._log("error",t)},_log:function(e,n){t&&(angular.isArray(n)?n.forEach(function(t){console[e](t)}):console[e](n))}}}}}();return function(){t.run(["$hymui","$appConfig",function(t,n){n.initAppAttribute(e),e._appConfig=n,e._hyMuiService=t,e._launcherNaviConfig.show&&e._hyMuiService.launcherNavi(e._launcherNaviConfig.params),e._loginConfig.show&&e._hyMuiService.initLogin(e._loginConfig.params)}])}(),e}(),function(t,e){"object"==typeof exports?module.exports=exports=e():"function"==typeof define&&define.amd?define([],e):t.CryptoJS=e()}(this,function(){var t=t||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),i={},o=i.lib={},r=o.Base=function(){return{extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=o.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,o=t.sigBytes;if(this.clamp(),i%4)for(var r=0;r<o;r++){var s=n[r>>>2]>>>24-r%4*8&255;e[i+r>>>2]|=s<<24-(i+r)%4*8}else for(var r=0;r<o;r+=4)e[i+r>>>2]=n[r>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,i=[],o=0;o<e;o+=4){var r=function(e){var e=e,n=987654321,i=4294967295;return function(){n=36969*(65535&n)+(n>>16)&i,e=18e3*(65535&e)+(e>>16)&i;var o=(n<<16)+e&i;return o/=4294967296,(o+=.5)*(t.random()>.5?1:-1)}}(4294967296*(n||t.random()));n=987654071*r(),i.push(4294967296*r()|0)}return new s.init(i,e)}}),a=i.enc={},l=a.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],o=0;o<n;o++){var r=e[o>>>2]>>>24-o%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new s.init(n,e/2)}},c=a.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],o=0;o<n;o++){var r=e[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new s.init(n,e)}},u=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},h=o.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,o=n.sigBytes,r=this.blockSize,a=4*r,l=o/a;l=e?t.ceil(l):t.max((0|l)-this._minBufferSize,0);var c=l*r,u=t.min(4*c,o);if(c){for(var h=0;h<c;h+=r)this._doProcessBlock(i,h);var d=i.splice(0,c);n.sigBytes-=u}return new s.init(d,u)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(o.Hasher=h.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}}),i.algo={});return i}(Math);/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
return function(){function e(t,e,n){for(var i=[],r=0,s=0;s<e;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2,l=n[t.charCodeAt(s)]>>>6-s%4*2;i[r>>>2]|=(a|l)<<24-r%4*8,r++}return o.create(i,r)}var n=t,i=n.lib,o=i.WordArray,r=n.enc;r.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var o=[],r=0;r<n;r+=3)for(var s=e[r>>>2]>>>24-r%4*8&255,a=e[r+1>>>2]>>>24-(r+1)%4*8&255,l=e[r+2>>>2]>>>24-(r+2)%4*8&255,c=s<<16|a<<8|l,u=0;u<4&&r+.75*u<n;u++)o.push(i.charAt(c>>>6*(3-u)&63));var h=i.charAt(64);if(h)for(;o.length%4;)o.push(h);return o.join("")},parse:function(t){var n=t.length,i=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var r=0;r<i.length;r++)o[i.charCodeAt(r)]=r}var s=i.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(n=a)}return e(t,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function n(t,e,n,i,o,r,s){var a=t+(e&n|~e&i)+o+s;return(a<<r|a>>>32-r)+e}function i(t,e,n,i,o,r,s){var a=t+(e&i|n&~i)+o+s;return(a<<r|a>>>32-r)+e}function o(t,e,n,i,o,r,s){var a=t+(e^n^i)+o+s;return(a<<r|a>>>32-r)+e}function r(t,e,n,i,o,r,s){var a=t+(n^(e|~i))+o+s;return(a<<r|a>>>32-r)+e}var s=t,a=s.lib,l=a.WordArray,c=a.Hasher,u=s.algo,h=[];!function(){for(var t=0;t<64;t++)h[t]=4294967296*e.abs(e.sin(t+1))|0}();var d=u.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var s=0;s<16;s++){var a=e+s,l=t[a];t[a]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var c=this._hash.words,u=t[e+0],d=t[e+1],p=t[e+2],f=t[e+3],m=t[e+4],g=t[e+5],_=t[e+6],v=t[e+7],y=t[e+8],b=t[e+9],w=t[e+10],$=t[e+11],x=t[e+12],S=t[e+13],C=t[e+14],T=t[e+15],E=c[0],k=c[1],M=c[2],D=c[3];E=n(E,k,M,D,u,7,h[0]),D=n(D,E,k,M,d,12,h[1]),M=n(M,D,E,k,p,17,h[2]),k=n(k,M,D,E,f,22,h[3]),E=n(E,k,M,D,m,7,h[4]),D=n(D,E,k,M,g,12,h[5]),M=n(M,D,E,k,_,17,h[6]),k=n(k,M,D,E,v,22,h[7]),E=n(E,k,M,D,y,7,h[8]),D=n(D,E,k,M,b,12,h[9]),M=n(M,D,E,k,w,17,h[10]),k=n(k,M,D,E,$,22,h[11]),E=n(E,k,M,D,x,7,h[12]),D=n(D,E,k,M,S,12,h[13]),M=n(M,D,E,k,C,17,h[14]),k=n(k,M,D,E,T,22,h[15]),E=i(E,k,M,D,d,5,h[16]),D=i(D,E,k,M,_,9,h[17]),M=i(M,D,E,k,$,14,h[18]),k=i(k,M,D,E,u,20,h[19]),E=i(E,k,M,D,g,5,h[20]),D=i(D,E,k,M,w,9,h[21]),M=i(M,D,E,k,T,14,h[22]),k=i(k,M,D,E,m,20,h[23]),E=i(E,k,M,D,b,5,h[24]),D=i(D,E,k,M,C,9,h[25]),M=i(M,D,E,k,f,14,h[26]),k=i(k,M,D,E,y,20,h[27]),E=i(E,k,M,D,S,5,h[28]),D=i(D,E,k,M,p,9,h[29]),M=i(M,D,E,k,v,14,h[30]),k=i(k,M,D,E,x,20,h[31]),E=o(E,k,M,D,g,4,h[32]),D=o(D,E,k,M,y,11,h[33]),M=o(M,D,E,k,$,16,h[34]),k=o(k,M,D,E,C,23,h[35]),E=o(E,k,M,D,d,4,h[36]),D=o(D,E,k,M,m,11,h[37]),M=o(M,D,E,k,v,16,h[38]),k=o(k,M,D,E,w,23,h[39]),E=o(E,k,M,D,S,4,h[40]),D=o(D,E,k,M,u,11,h[41]),M=o(M,D,E,k,f,16,h[42]),k=o(k,M,D,E,_,23,h[43]),E=o(E,k,M,D,b,4,h[44]),D=o(D,E,k,M,x,11,h[45]),M=o(M,D,E,k,T,16,h[46]),k=o(k,M,D,E,p,23,h[47]),E=r(E,k,M,D,u,6,h[48]),D=r(D,E,k,M,v,10,h[49]),M=r(M,D,E,k,C,15,h[50]),k=r(k,M,D,E,g,21,h[51]),E=r(E,k,M,D,x,6,h[52]),D=r(D,E,k,M,f,10,h[53]),M=r(M,D,E,k,w,15,h[54]),k=r(k,M,D,E,d,21,h[55]),E=r(E,k,M,D,y,6,h[56]),D=r(D,E,k,M,T,10,h[57]),M=r(M,D,E,k,_,15,h[58]),k=r(k,M,D,E,S,21,h[59]),E=r(E,k,M,D,m,6,h[60]),D=r(D,E,k,M,$,10,h[61]),M=r(M,D,E,k,p,15,h[62]),k=r(k,M,D,E,b,21,h[63]),c[0]=c[0]+E|0,c[1]=c[1]+k|0,c[2]=c[2]+M|0,c[3]=c[3]+D|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var r=e.floor(i/4294967296),s=i;n[15+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,l=a.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t}});s.MD5=c._createHelper(d),s.HmacMD5=c._createHmacHelper(d)}(Math),function(){var e=t,n=e.lib,i=n.WordArray,o=n.Hasher,r=e.algo,s=[],a=r.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],a=n[3],l=n[4],c=0;c<80;c++){if(c<16)s[c]=0|t[e+c];else{var u=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=u<<1|u>>>31}var h=(i<<5|i>>>27)+l+s[c];h+=c<20?1518500249+(o&r|~o&a):c<40?1859775393+(o^r^a):c<60?(o&r|o&a|r&a)-1894007588:(o^r^a)-899497514,l=a,a=r,r=o<<30|o>>>2,o=i,i=h}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA1=o._createHelper(a),e.HmacSHA1=o._createHmacHelper(a)}(),function(e){var n=t,i=n.lib,o=i.WordArray,r=i.Hasher,s=n.algo,a=[],l=[];!function(){function t(t){return 4294967296*(t-(0|t))|0}for(var n=2,i=0;i<64;)(function(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0})(n)&&(i<8&&(a[i]=t(e.pow(n,.5))),l[i]=t(e.pow(n,1/3)),i++),n++}();var c=[],u=s.SHA256=r.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],s=n[3],a=n[4],u=n[5],h=n[6],d=n[7],p=0;p<64;p++){if(p<16)c[p]=0|t[e+p];else{var f=c[p-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=c[p-2],_=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[p]=m+c[p-7]+_+c[p-16]}var v=a&u^~a&h,y=i&o^i&r^o&r,b=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),w=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),$=d+w+v+l[p]+c[p],x=b+y;d=h,h=u,u=a,a=s+$|0,s=r,r=o,o=i,i=$+x|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(i/4294967296),n[15+(o+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});n.SHA256=r._createHelper(u),n.HmacSHA256=r._createHmacHelper(u)}(Math),function(){function e(t){return t<<8&4278255360|t>>>8&16711935}var n=t,i=n.lib,o=i.WordArray,r=n.enc;r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],o=0;o<n;o+=2){var r=e[o>>>2]>>>16-o%4*8&65535;i.push(String.fromCharCode(r))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return o.create(n,2*e)}};r.Utf16LE={stringify:function(t){for(var n=t.words,i=t.sigBytes,o=[],r=0;r<i;r+=2){var s=e(n[r>>>2]>>>16-r%4*8&65535);o.push(String.fromCharCode(s))}return o.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r++)i[r>>>1]|=e(t.charCodeAt(r)<<16-r%2*16);return o.create(i,2*n)}}}(),function(){if("function"==typeof ArrayBuffer){var e=t,n=e.lib,i=n.WordArray,o=i.init;(i.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,n=[],i=0;i<e;i++)n[i>>>2]|=t[i]<<24-i%4*8;o.call(this,n,e)}else o.apply(this,arguments)}).prototype=i}}(),function(e){function n(t,e,n){return t^e^n}function i(t,e,n){return t&e|~t&n}function o(t,e,n){return(t|~e)^n}function r(t,e,n){return t&n|e&~n}function s(t,e,n){return t^(e|~n)}function a(t,e){return t<<e|t>>>32-e}var l=t,c=l.lib,u=c.WordArray,h=c.Hasher,d=l.algo,p=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),_=u.create([0,1518500249,1859775393,2400959708,2840853838]),v=u.create([1352829926,1548603684,1836072691,2053994217,0]),y=d.RIPEMD160=h.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var l=0;l<16;l++){var c=e+l,u=t[c];t[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var h,d,y,b,w,$,x,S,C,T,E=this._hash.words,k=_.words,M=v.words,D=p.words,A=f.words,I=m.words,P=g.words;$=h=E[0],x=d=E[1],S=y=E[2],C=b=E[3],T=w=E[4];for(var L,l=0;l<80;l+=1)L=h+t[e+D[l]]|0,L+=l<16?n(d,y,b)+k[0]:l<32?i(d,y,b)+k[1]:l<48?o(d,y,b)+k[2]:l<64?r(d,y,b)+k[3]:s(d,y,b)+k[4],L|=0,L=a(L,I[l]),L=L+w|0,h=w,w=b,b=a(y,10),y=d,d=L,L=$+t[e+A[l]]|0,L+=l<16?s(x,S,C)+M[0]:l<32?r(x,S,C)+M[1]:l<48?o(x,S,C)+M[2]:l<64?i(x,S,C)+M[3]:n(x,S,C)+M[4],L|=0,L=a(L,P[l]),L=L+T|0,$=T,T=C,C=a(S,10),S=x,x=L;L=E[1]+y+C|0,E[1]=E[2]+b+T|0,E[2]=E[3]+w+$|0,E[3]=E[4]+h+x|0,E[4]=E[0]+d+S|0,E[0]=L},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var o=this._hash,r=o.words,s=0;s<5;s++){var a=r[s];r[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return o},clone:function(){var t=h.clone.call(this);return t._hash=this._hash.clone(),t}});l.RIPEMD160=h._createHelper(y),l.HmacRIPEMD160=h._createHmacHelper(y)}(Math),function(){var e=t,n=e.lib,i=n.Base,o=e.enc,r=o.Utf8,s=e.algo;s.HMAC=i.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),s=this._iKey=e.clone(),a=o.words,l=s.words,c=0;c<n;c++)a[c]^=1549556828,l[c]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})}(),function(){var e=t,n=e.lib,i=n.Base,o=n.WordArray,r=e.algo,s=r.SHA1,a=r.HMAC,l=r.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=a.create(n.hasher,t),r=o.create(),s=o.create([1]),l=r.words,c=s.words,u=n.keySize,h=n.iterations;l.length<u;){var d=i.update(e).finalize(s);i.reset();for(var p=d.words,f=p.length,m=d,g=1;g<h;g++){m=i.finalize(m),i.reset();for(var _=m.words,v=0;v<f;v++)p[v]^=_[v]}r.concat(d),c[0]++}return r.sigBytes=4*u,r}});e.PBKDF2=function(t,e,n){return l.create(n).compute(t,e)}}(),function(){var e=t,n=e.lib,i=n.Base,o=n.WordArray,r=e.algo,s=r.MD5,a=r.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=n.hasher.create(),r=o.create(),s=r.words,a=n.keySize,l=n.iterations;s.length<a;){c&&i.update(c);var c=i.update(t).finalize(e);i.reset();for(var u=1;u<l;u++)c=i.finalize(c),i.reset();r.concat(c)}return r.sigBytes=4*a,r}});e.EvpKDF=function(t,e,n){return a.create(n).compute(t,e)}}(),function(){var e=t,n=e.lib,i=n.WordArray,o=e.algo,r=o.SHA256,s=o.SHA224=r.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=4,t}});e.SHA224=r._createHelper(s),e.HmacSHA224=r._createHmacHelper(s)}(),function(e){var n=t,i=n.lib,o=i.Base,r=i.WordArray,s=n.x64={};s.Word=o.extend({init:function(t,e){this.high=t,this.low=e}}),s.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],i=0;i<e;i++){var o=t[i];n.push(o.high),n.push(o.low)}return r.create(n,this.sigBytes)},clone:function(){for(var t=o.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}})}(),function(e){var n=t,i=n.lib,o=i.WordArray,r=i.Hasher,s=n.x64,a=s.Word,l=n.algo,c=[],u=[],h=[];!function(){for(var t=1,e=0,n=0;n<24;n++){c[t+5*e]=(n+1)*(n+2)/2%64;var i=e%5,o=(2*t+3*e)%5;t=i,e=o}for(var t=0;t<5;t++)for(var e=0;e<5;e++)u[t+5*e]=e+(2*t+3*e)%5*5;for(var r=1,s=0;s<24;s++){for(var l=0,d=0,p=0;p<7;p++){if(1&r){var f=(1<<p)-1;f<32?d^=1<<f:l^=1<<f-32}128&r?r=r<<1^113:r<<=1}h[s]=a.create(l,d)}}();var d=[];!function(){for(var t=0;t<25;t++)d[t]=a.create()}();var p=l.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,i=this.blockSize/2,o=0;o<i;o++){var r=t[e+2*o],s=t[e+2*o+1];r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);var a=n[o];a.high^=s,a.low^=r}for(var l=0;l<24;l++){for(var p=0;p<5;p++){for(var f=0,m=0,g=0;g<5;g++){var a=n[p+5*g];f^=a.high,m^=a.low}var _=d[p];_.high=f,_.low=m}for(var p=0;p<5;p++)for(var v=d[(p+4)%5],y=d[(p+1)%5],b=y.high,w=y.low,f=v.high^(b<<1|w>>>31),m=v.low^(w<<1|b>>>31),g=0;g<5;g++){var a=n[p+5*g];a.high^=f,a.low^=m}for(var $=1;$<25;$++){var a=n[$],x=a.high,S=a.low,C=c[$];if(C<32)var f=x<<C|S>>>32-C,m=S<<C|x>>>32-C;else var f=S<<C-32|x>>>64-C,m=x<<C-32|S>>>64-C;var T=d[u[$]];T.high=f,T.low=m}var E=d[0],k=n[0];E.high=k.high,E.low=k.low;for(var p=0;p<5;p++)for(var g=0;g<5;g++){var $=p+5*g,a=n[$],M=d[$],D=d[(p+1)%5+5*g],A=d[(p+2)%5+5*g];a.high=M.high^~D.high&A.high,a.low=M.low^~D.low&A.low}var a=n[0],I=h[l];a.high^=I.high,a.low^=I.low}},_doFinalize:function(){var t=this._data,n=t.words,i=(this._nDataBytes,8*t.sigBytes),r=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(e.ceil((i+1)/r)*r>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,l=a/8,c=[],u=0;u<l;u++){var h=s[u],d=h.high,p=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),c.push(p),c.push(d)}return new o.init(c,a)},clone:function(){for(var t=r.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});n.SHA3=r._createHelper(p),n.HmacSHA3=r._createHmacHelper(p)}(Math),function(){function e(){return s.create.apply(s,arguments)}var n=t,i=n.lib,o=i.Hasher,r=n.x64,s=r.Word,a=r.WordArray,l=n.algo,c=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],u=[];!function(){for(var t=0;t<80;t++)u[t]=e()}();var h=l.SHA512=o.extend({_doReset:function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],s=n[3],a=n[4],l=n[5],h=n[6],d=n[7],p=i.high,f=i.low,m=o.high,g=o.low,_=r.high,v=r.low,y=s.high,b=s.low,w=a.high,$=a.low,x=l.high,S=l.low,C=h.high,T=h.low,E=d.high,k=d.low,M=p,D=f,A=m,I=g,P=_,L=v,O=y,N=b,V=w,H=$,B=x,R=S,F=C,z=T,q=E,j=k,Y=0;Y<80;Y++){var U=u[Y];if(Y<16)var W=U.high=0|t[e+2*Y],X=U.low=0|t[e+2*Y+1];else{var G=u[Y-15],J=G.high,K=G.low,Z=(J>>>1|K<<31)^(J>>>8|K<<24)^J>>>7,Q=(K>>>1|J<<31)^(K>>>8|J<<24)^(K>>>7|J<<25),tt=u[Y-2],et=tt.high,nt=tt.low,it=(et>>>19|nt<<13)^(et<<3|nt>>>29)^et>>>6,ot=(nt>>>19|et<<13)^(nt<<3|et>>>29)^(nt>>>6|et<<26),rt=u[Y-7],st=rt.high,at=rt.low,lt=u[Y-16],ct=lt.high,ut=lt.low,X=Q+at,W=Z+st+(X>>>0<Q>>>0?1:0),X=X+ot,W=W+it+(X>>>0<ot>>>0?1:0),X=X+ut,W=W+ct+(X>>>0<ut>>>0?1:0);U.high=W,U.low=X}var ht=V&B^~V&F,dt=H&R^~H&z,pt=M&A^M&P^A&P,ft=D&I^D&L^I&L,mt=(M>>>28|D<<4)^(M<<30|D>>>2)^(M<<25|D>>>7),gt=(D>>>28|M<<4)^(D<<30|M>>>2)^(D<<25|M>>>7),_t=(V>>>14|H<<18)^(V>>>18|H<<14)^(V<<23|H>>>9),vt=(H>>>14|V<<18)^(H>>>18|V<<14)^(H<<23|V>>>9),yt=c[Y],bt=yt.high,wt=yt.low,$t=j+vt,xt=q+_t+($t>>>0<j>>>0?1:0),$t=$t+dt,xt=xt+ht+($t>>>0<dt>>>0?1:0),$t=$t+wt,xt=xt+bt+($t>>>0<wt>>>0?1:0),$t=$t+X,xt=xt+W+($t>>>0<X>>>0?1:0),St=gt+ft,Ct=mt+pt+(St>>>0<gt>>>0?1:0);q=F,j=z,F=B,z=R,B=V,R=H,H=N+$t|0,V=O+xt+(H>>>0<N>>>0?1:0)|0,O=P,N=L,P=A,L=I,A=M,I=D,D=$t+St|0,M=xt+Ct+(D>>>0<$t>>>0?1:0)|0}f=i.low=f+D,i.high=p+M+(f>>>0<D>>>0?1:0),g=o.low=g+I,o.high=m+A+(g>>>0<I>>>0?1:0),v=r.low=v+L,r.high=_+P+(v>>>0<L>>>0?1:0),b=s.low=b+N,s.high=y+O+(b>>>0<N>>>0?1:0),$=a.low=$+H,a.high=w+V+($>>>0<H>>>0?1:0),S=l.low=S+R,l.high=x+B+(S>>>0<R>>>0?1:0),T=h.low=T+z,h.high=C+F+(T>>>0<z>>>0?1:0),k=d.low=k+j,d.high=E+q+(k>>>0<j>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(i+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});n.SHA512=o._createHelper(h),n.HmacSHA512=o._createHmacHelper(h)}(),function(){var e=t,n=e.x64,i=n.Word,o=n.WordArray,r=e.algo,s=r.SHA512,a=r.SHA384=s.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var t=s._doFinalize.call(this);return t.sigBytes-=16,t}});e.SHA384=s._createHelper(a),e.HmacSHA384=s._createHmacHelper(a)}(),t.lib.Cipher||function(e){var n=t,i=n.lib,o=i.Base,r=i.WordArray,s=i.BufferedBlockAlgorithm,a=n.enc,l=(a.Utf8,a.Base64),c=n.algo,u=c.EvpKDF,h=i.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?x:b}return function(e){return{encrypt:function(n,i,o){return t(i).encrypt(e,n,i,o)},decrypt:function(n,i,o){return t(i).decrypt(e,n,i,o)}}}}()}),d=(i.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),n.mode={}),p=i.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),f=d.CBC=function(){function t(t,n,i){var o=this._iv;if(o){var r=o;this._iv=e}else var r=this._prevBlock;for(var s=0;s<i;s++)t[n+s]^=r[s]}var n=p.extend();return n.Encryptor=n.extend({processBlock:function(e,n){var i=this._cipher,o=i.blockSize;t.call(this,e,n,o),i.encryptBlock(e,n),this._prevBlock=e.slice(n,n+o)}}),n.Decryptor=n.extend({processBlock:function(e,n){var i=this._cipher,o=i.blockSize,r=e.slice(n,n+o);i.decryptBlock(e,n),t.call(this,e,n,o),this._prevBlock=r}}),n}(),m=n.pad={},g=m.Pkcs7={pad:function(t,e){for(var n=4*e,i=n-t.sigBytes%n,o=i<<24|i<<16|i<<8|i,s=[],a=0;a<i;a+=4)s.push(o);var l=r.create(s,i);t.concat(l)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},_=(i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:f,padding:g}),reset:function(){h.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=n.createEncryptor;else{var i=n.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==i?this._mode.init(this,e&&e.words):(this._mode=i.call(n,this,e&&e.words),this._mode.__creator=i)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{var e=this._process(!0);t.unpad(e)}return e},blockSize:4}),i.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),v=n.format={},y=v.OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var i=r.create([1398893684,1701076831]).concat(n).concat(e);else var i=e;return i.toString(l)},parse:function(t){var e=l.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var i=r.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return _.create({ciphertext:e,salt:i})}},b=i.SerializableCipher=o.extend({cfg:o.extend({format:y}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var o=t.createEncryptor(n,i),r=o.finalize(e),s=o.cfg;return _.create({ciphertext:r,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),w=n.kdf={},$=w.OpenSSL={execute:function(t,e,n,i){i||(i=r.random(8));var o=u.create({keySize:e+n}).compute(t,i),s=r.create(o.words.slice(e),4*n);return o.sigBytes=4*e,_.create({key:o,iv:s,salt:i})}},x=i.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:$}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var o=i.kdf.execute(n,t.keySize,t.ivSize);i.iv=o.iv;var r=b.encrypt.call(this,t,e,o.key,i);return r.mixIn(o),r},decrypt:function(t,e,n,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var o=i.kdf.execute(n,t.keySize,t.ivSize,e.salt);return i.iv=o.iv,b.decrypt.call(this,t,e,o.key,i)}})}(),t.mode.CFB=function(){function e(t,e,n,i){var o=this._iv;if(o){var r=o.slice(0);this._iv=void 0}else var r=this._prevBlock;i.encryptBlock(r,0);for(var s=0;s<n;s++)t[e+s]^=r[s]}var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize;e.call(this,t,n,o,i),this._prevBlock=t.slice(n,n+o)}}),n.Decryptor=n.extend({processBlock:function(t,n){var i=this._cipher,o=i.blockSize,r=t.slice(n,n+o);e.call(this,t,n,o,i),this._prevBlock=r}}),n}(),t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),e.Decryptor=e.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),e}(),t.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,i=4*e,o=i-n%i,r=n+o-1;t.clamp(),t.words[r>>>2]|=o<<24-r%4*8,t.sigBytes+=o},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Iso10126={pad:function(e,n){var i=4*n,o=i-e.sigBytes%i;e.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Iso97971={pad:function(e,n){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,n)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=this._iv,r=this._keystream;o&&(r=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(r,0);for(var s=0;s<i;s++)t[e+s]^=r[s]}});return e.Decryptor=n,e}(),t.pad.NoPadding={pad:function(){},unpad:function(){}},function(e){var n=t,i=n.lib,o=i.CipherParams,r=n.enc,s=r.Hex,a=n.format;a.Hex={stringify:function(t){return t.ciphertext.toString(s)},parse:function(t){var e=s.parse(t);return o.create({ciphertext:e})}}}(),function(){var e=t,n=e.lib,i=n.BlockCipher,o=e.algo,r=[],s=[],a=[],l=[],c=[],u=[],h=[],d=[],p=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=0,i=0,e=0;e<256;e++){var o=i^i<<1^i<<2^i<<3^i<<4;o=o>>>8^255&o^99,r[n]=o,s[o]=n;var m=t[n],g=t[m],_=t[g],v=257*t[o]^16843008*o;a[n]=v<<24|v>>>8,l[n]=v<<16|v>>>16,c[n]=v<<8|v>>>24,u[n]=v;var v=16843009*_^65537*g^257*m^16843008*n;h[o]=v<<24|v>>>8,d[o]=v<<16|v>>>16,p[o]=v<<8|v>>>24,f[o]=v,n?(n=m^t[t[t[_^m]]],i^=t[t[i]]):n=i=1}}();var m=[0,1,2,4,8,16,32,64,128,27,54],g=o.AES=i.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,i=this._nRounds=n+6,o=4*(i+1),s=this._keySchedule=[],a=0;a<o;a++)if(a<n)s[a]=e[a];else{var l=s[a-1];a%n?n>6&&a%n==4&&(l=r[l>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l]):(l=l<<8|l>>>24,l=r[l>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l],l^=m[a/n|0]<<24),s[a]=s[a-n]^l}for(var c=this._invKeySchedule=[],u=0;u<o;u++){var a=o-u;if(u%4)var l=s[a];else var l=s[a-4];c[u]=u<4||a<=4?l:h[r[l>>>24]]^d[r[l>>>16&255]]^p[r[l>>>8&255]]^f[r[255&l]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,l,c,u,r)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,h,d,p,f,s);var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,o,r,s,a){for(var l=this._nRounds,c=t[e]^n[0],u=t[e+1]^n[1],h=t[e+2]^n[2],d=t[e+3]^n[3],p=4,f=1;f<l;f++){var m=i[c>>>24]^o[u>>>16&255]^r[h>>>8&255]^s[255&d]^n[p++],g=i[u>>>24]^o[h>>>16&255]^r[d>>>8&255]^s[255&c]^n[p++],_=i[h>>>24]^o[d>>>16&255]^r[c>>>8&255]^s[255&u]^n[p++],v=i[d>>>24]^o[c>>>16&255]^r[u>>>8&255]^s[255&h]^n[p++];c=m,u=g,h=_,d=v}var m=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^n[p++],g=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&c])^n[p++],_=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^n[p++],v=(a[d>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^n[p++];t[e]=m,t[e+1]=g,t[e+2]=_,t[e+3]=v},keySize:8});e.AES=i._createHelper(g)}(),function(){function e(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function n(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}var i=t,o=i.lib,r=o.WordArray,s=o.BlockCipher,a=i.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,
327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=s.extend({_doReset:function(){for(var t=this._key,e=t.words,n=[],i=0;i<56;i++){var o=l[i]-1;n[i]=e[o>>>5]>>>31-o%32&1}for(var r=this._subKeys=[],s=0;s<16;s++){for(var a=r[s]=[],h=u[s],i=0;i<24;i++)a[i/6|0]|=n[(c[i]-1+h)%28]<<31-i%6,a[4+(i/6|0)]|=n[28+(c[i+24]-1+h)%28]<<31-i%6;a[0]=a[0]<<1|a[0]>>>31;for(var i=1;i<7;i++)a[i]=a[i]>>>4*(i-1)+3;a[7]=a[7]<<5|a[7]>>>27}for(var d=this._invSubKeys=[],i=0;i<16;i++)d[i]=r[15-i]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,i,o){this._lBlock=t[i],this._rBlock=t[i+1],e.call(this,4,252645135),e.call(this,16,65535),n.call(this,2,858993459),n.call(this,8,16711935),e.call(this,1,1431655765);for(var r=0;r<16;r++){for(var s=o[r],a=this._lBlock,l=this._rBlock,c=0,u=0;u<8;u++)c|=h[u][((l^s[u])&d[u])>>>0];this._lBlock=l,this._rBlock=a^c}var p=this._lBlock;this._lBlock=this._rBlock,this._rBlock=p,e.call(this,1,1431655765),n.call(this,8,16711935),n.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),t[i]=this._lBlock,t[i+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});i.DES=s._createHelper(p);var f=a.TripleDES=s.extend({_doReset:function(){var t=this._key,e=t.words;this._des1=p.createEncryptor(r.create(e.slice(0,2))),this._des2=p.createEncryptor(r.create(e.slice(2,4))),this._des3=p.createEncryptor(r.create(e.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});i.TripleDES=s._createHelper(f)}(),function(){function e(){for(var t=this._S,e=this._i,n=this._j,i=0,o=0;o<4;o++){e=(e+1)%256,n=(n+t[e])%256;var r=t[e];t[e]=t[n],t[n]=r,i|=t[(t[e]+t[n])%256]<<24-8*o}return this._i=e,this._j=n,i}var n=t,i=n.lib,o=i.StreamCipher,r=n.algo,s=r.RC4=o.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,i=this._S=[],o=0;o<256;o++)i[o]=o;for(var o=0,r=0;o<256;o++){var s=o%n,a=e[s>>>2]>>>24-s%4*8&255;r=(r+i[o]+a)%256;var l=i[o];i[o]=i[r],i[r]=l}this._i=this._j=0},_doProcessBlock:function(t,n){t[n]^=e.call(this)},keySize:8,ivSize:0});n.RC4=o._createHelper(s);var a=r.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)e.call(this)}});n.RC4Drop=o._createHelper(a)}(),t.mode.CTRGladman=function(){function e(t){if(255==(t>>24&255)){var e=t>>16&255,n=t>>8&255,i=255&t;255===e?(e=0,255===n?(n=0,255===i?i=0:++i):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=i}else t+=1<<24;return t}function n(t){return 0===(t[0]=e(t[0]))&&(t[1]=e(t[1])),t}var i=t.lib.BlockCipherMode.extend(),o=i.Encryptor=i.extend({processBlock:function(t,e){var i=this._cipher,o=i.blockSize,r=this._iv,s=this._counter;r&&(s=this._counter=r.slice(0),this._iv=void 0),n(s);var a=s.slice(0);i.encryptBlock(a,0);for(var l=0;l<o;l++)t[e+l]^=a[l]}});return i.Decryptor=o,i}(),function(){function e(){for(var t=this._X,e=this._C,n=0;n<8;n++)a[n]=e[n];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<a[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<a[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<a[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<a[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<a[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<a[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<a[6]>>>0?1:0)|0,this._b=e[7]>>>0<a[7]>>>0?1:0;for(var n=0;n<8;n++){var i=t[n]+e[n],o=65535&i,r=i>>>16,s=((o*o>>>17)+o*r>>>15)+r*r,c=((4294901760&i)*i|0)+((65535&i)*i|0);l[n]=s^c}t[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,t[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,t[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,t[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,t[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,t[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,t[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,t[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}var n=t,i=n.lib,o=i.StreamCipher,r=n.algo,s=[],a=[],l=[],c=r.Rabbit=o.extend({_doReset:function(){for(var t=this._key.words,n=this.cfg.iv,i=0;i<4;i++)t[i]=16711935&(t[i]<<8|t[i]>>>24)|4278255360&(t[i]<<24|t[i]>>>8);var o=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)e.call(this);for(var i=0;i<8;i++)r[i]^=o[i+4&7];if(n){var s=n.words,a=s[0],l=s[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;r[0]^=c,r[1]^=h,r[2]^=u,r[3]^=d,r[4]^=c,r[5]^=h,r[6]^=u,r[7]^=d;for(var i=0;i<4;i++)e.call(this)}},_doProcessBlock:function(t,n){var i=this._X;e.call(this),s[0]=i[0]^i[5]>>>16^i[3]<<16,s[1]=i[2]^i[7]>>>16^i[5]<<16,s[2]=i[4]^i[1]>>>16^i[7]<<16,s[3]=i[6]^i[3]>>>16^i[1]<<16;for(var o=0;o<4;o++)s[o]=16711935&(s[o]<<8|s[o]>>>24)|4278255360&(s[o]<<24|s[o]>>>8),t[n+o]^=s[o]},blockSize:4,ivSize:2});n.Rabbit=o._createHelper(c)}(),t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=this._iv,r=this._counter;o&&(r=this._counter=o.slice(0),this._iv=void 0);var s=r.slice(0);n.encryptBlock(s,0),r[i-1]=r[i-1]+1|0;for(var a=0;a<i;a++)t[e+a]^=s[a]}});return e.Decryptor=n,e}(),function(){function e(){for(var t=this._X,e=this._C,n=0;n<8;n++)a[n]=e[n];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<a[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<a[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<a[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<a[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<a[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<a[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<a[6]>>>0?1:0)|0,this._b=e[7]>>>0<a[7]>>>0?1:0;for(var n=0;n<8;n++){var i=t[n]+e[n],o=65535&i,r=i>>>16,s=((o*o>>>17)+o*r>>>15)+r*r,c=((4294901760&i)*i|0)+((65535&i)*i|0);l[n]=s^c}t[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,t[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,t[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,t[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,t[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,t[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,t[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,t[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}var n=t,i=n.lib,o=i.StreamCipher,r=n.algo,s=[],a=[],l=[],c=r.RabbitLegacy=o.extend({_doReset:function(){var t=this._key.words,n=this.cfg.iv,i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],o=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var r=0;r<4;r++)e.call(this);for(var r=0;r<8;r++)o[r]^=i[r+4&7];if(n){var s=n.words,a=s[0],l=s[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;o[0]^=c,o[1]^=h,o[2]^=u,o[3]^=d,o[4]^=c,o[5]^=h,o[6]^=u,o[7]^=d;for(var r=0;r<4;r++)e.call(this)}},_doProcessBlock:function(t,n){var i=this._X;e.call(this),s[0]=i[0]^i[5]>>>16^i[3]<<16,s[1]=i[2]^i[7]>>>16^i[5]<<16,s[2]=i[4]^i[1]>>>16^i[7]<<16,s[3]=i[6]^i[3]>>>16^i[1]<<16;for(var o=0;o<4;o++)s[o]=16711935&(s[o]<<8|s[o]>>>24)|4278255360&(s[o]<<24|s[o]>>>8),t[n+o]^=s[o]},blockSize:4,ivSize:2});n.RabbitLegacy=o._createHelper(c)}(),t.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},t}),function(){function initPersistence(t){if(t.isImmutable)return t;t.isImmutable=function(t){return"id"==t},t.defineProp=function(t,e,n,i){"function"==typeof t.__defineSetter__&&"function"==typeof t.__defineGetter__?(t.__defineSetter__(e,function(t){n(t)}),t.__defineGetter__(e,function(){return i()})):Object.defineProperty(t,e,{get:i,set:function(t){n(t)},enumerable:!0,configurable:!0})},t.set=function(e,n,i){if(t.isImmutable(n))throw new Error("immutable field: "+n);e[n]=i},t.get=function(t,e){return 1==arguments.length?t:t[e]},function(){function n(t){return b[t]}function i(t){this.trackedObjects={},this.objectsToRemove={},this.objectsRemoved=[],this.globalPropertyListeners={},this.queryCollectionCache={},this.conn=t}function o(i){function r(n,o,r){var a=e.getArgs(arguments,[{name:"session",optional:!0,check:t.isSession,defaultValue:t},{name:"obj",optional:!0,check:function(t){return t},defaultValue:{}}]);if(l.isMixin)throw new Error("Cannot instantiate mixin");n=a.session,o=a.obj;var c=this;this.id=o.id||t.createUUID(),this._new=!0,this._type=i,this._dirtyProperties={},this._data={},this._data_obj={},this._session=n||t,this.subscribers={};for(var u in l.fields)!function(){if(l.fields.hasOwnProperty(u)){var e=u;t.defineProp(c,e,function(t){var i=c._data[e];(i!==t||i&&t&&i.getTime&&t.getTime)&&(c._data[e]=t,c._dirtyProperties[e]=i,c.triggerEvent("set",c,e,t),c.triggerEvent("change",c,e,t),n.propertyChanged(c,e,i,t))},function(){return c._data[e]}),c._data[u]=s(l.fields[u])}}();for(var h in l.hasOne)l.hasOne.hasOwnProperty(h)&&function(){var e=h,i=l.hasOne[h].type.meta.isMixin?e+"_class":null;t.defineProp(c,e,function(t){var o=c._data[e],r=c._data_obj[e]||n.trackedObjects[c._data[e]];if(null==t?(c._data[e]=null,c._data_obj[e]=void 0,i&&(c[i]="")):t.id?(c._data[e]=t.id,c._data_obj[e]=t,i&&(c[i]=t._type),n.add(t),n.add(c)):c._data[e]=t,c._dirtyProperties[e]=o,c.triggerEvent("set",c,e,t),c.triggerEvent("change",c,e,t),l.hasOne[e].inverseProperty){var s=c[e];if(s){var a=s[l.hasOne[e].inverseProperty];a.list&&a._filter&&a.triggerEvent("change",c,e,t)}if(r){var a=r[l.hasOne[e].inverseProperty];a.list&&a._filter&&a.triggerEvent("change",c,e,t)}}},function(){if(c._data[e]){if(void 0!==c._data_obj[e])return c._data_obj[e];if(c._data[e]&&n.trackedObjects[c._data[e]])return c._data_obj[e]=n.trackedObjects[c._data[e]],c._data_obj[e];throw new Error("Property '"+e+"' of '"+l.name+"' with id: "+c._data[e]+" not fetched, either prefetch it or fetch it manually.")}return null})}();for(var h in l.hasMany)l.hasMany.hasOwnProperty(h)&&function(){var e=h;l.hasMany[e].manyToMany?t.defineProp(c,e,function(n){if(!n||!n._items)throw new Error("Not yet supported.");for(var i=n._items,o=0;o<i.length;o++)t.get(c,e).add(i[o])},function(){if(c._data[e])return c._data[e];var i=l.hasMany[e],o=i.type.meta,r=o.hasMany[i.inverseProperty],s=i.mixin?i.mixin.meta.name:l.name,a=r.mixin?r.mixin.meta.name:o.name,u=new t.ManyToManyDbQueryCollection(n,o.name);return u.initManyToMany(c,e),u._manyToManyFetch={table:i.tableName,prop:s+"_"+e,inverseProp:a+"_"+i.inverseProperty,id:c.id},c._data[e]=u,n.uniqueQueryCollection(u)}):t.defineProp(c,e,function(n){if(!n||!n._items)throw new Error("Not yet supported.");for(var i=n._items,o=0;o<i.length;o++)t.get(c,e).add(i[o])},function(){if(c._data[e])return c._data[e];var i=n.uniqueQueryCollection(new t.DbQueryCollection(n,l.hasMany[e].type.meta.name).filter(l.hasMany[e].inverseProperty,"=",c));return c._data[e]=i,i})}();this.initialize&&this.initialize();for(var d in o)o.hasOwnProperty(d)&&"id"!==d&&t.set(c,d,o[d])}function a(e,i,o,r){var s=(e._session,[]),l=n(e._type),c=l.fields;for(var u in o)o.hasOwnProperty(u)&&s.push(u);var h=[],d=[];s.forEach(function(t){!0!==o[t]||l.hasMany[t]?d.push(t):h.push(t)});var p=e._data,f={};h.forEach(function(n){"id"===n?f.id=e.id:l.hasOne[n]?f[n]=p[n]?{id:p[n]}:null:f[n]=t.entityValToJson(p[n],c[n])}),s=d.slice(),t.asyncForEach(s,function(n,r){l.hasOne[n]?e.fetch(i,n,function(t){t?a(t,i,o[n],function(t){f[n]=t,r()}):(f[n]=null,r())}):l.hasMany[n]&&t.get(e,n).list(function(e){f[n]=[],t.asyncForEach(e,function(t,r){var t=e.pop();!0===o[n]?(f[n].push({id:t.id}),r()):a(t,i,o[n],function(t){f[n].push(t),r()})},r)})},function(){r(f)})}if(w[i])return w[i];var l=b[i];r.prototype=new u,r.meta=l,r.prototype.equals=function(t){return this.id==t.id},r.prototype.toJSON=function(){var t={id:this.id};for(var e in this._data)this._data.hasOwnProperty(e)&&("object"==typeof this._data[e]&&null!=this._data[e]?void 0!=this._data[e].toJSON&&(t[e]=this._data[e].toJSON()):t[e]=this._data[e]);return t},r.prototype.selectJSON=function(n,i,o){var r=this,s=e.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"props",optional:!1},{name:"callback",optional:!1}]);if(n=s.tx,i=s.props,o=s.callback,!n)return void this._session.transaction(function(t){r.selectJSON(t,i,o)});var c={};i.forEach(function(t){for(var e=c,n=t.split("."),i=0;i<n.length;i++){var o=n[i];if(i===n.length-1)if("*"===o){e.id=!0;for(var r in l.fields)l.fields.hasOwnProperty(r)&&(e[r]=!0);for(var r in l.hasOne)l.hasOne.hasOwnProperty(r)&&(e[r]=!0);for(var r in l.hasMany)l.hasMany.hasOwnProperty(r)&&(e[r]=!0)}else if("["===o[0]){o=o.substring(1,o.length-1);var s=o.split(/,\s*/);s.forEach(function(t){e[t]=!0})}else e[o]=!0;else e[o]=e[o]||{},e=e[o]}}),a(this,n,c,o)},r.prototype.fetch=function(n,i,r){var s=e.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"rel",optional:!1,check:e.hasType("string")},{name:"callback",optional:!1,check:e.isCallback()}]);n=s.tx,i=s.rel,r=s.callback;var a=this,c=this._session;if(!n)return void c.transaction(function(t){a.fetch(t,i,r)});if(this._data[i])if(this._data_obj[i])r&&r(this._data_obj[i]);else{var u=l.hasOne[i].type;u.meta.isMixin&&(u=o(this._data[i+"_class"])),u.load(c,n,this._data[i],function(t){a._data_obj[i]=t,r&&r(t)})}else r&&r(null)},r.prototype.markDirty=function(t){this._dirtyProperties[t]=!0},r.all=function(n){return n=e.getArgs(arguments,[{name:"session",optional:!0,check:t.isSession,defaultValue:t}]).session,n.uniqueQueryCollection(new _(n,i))},r.fromSelectJSON=function(n,i,o,s){function a(e){e||(e=new r(n),o.id&&(e.id=o.id)),n.add(e);var a=[];for(var c in o)if(o.hasOwnProperty(c)){if("id"===c)continue;l.fields[c]?t.set(e,c,t.jsonToEntityVal(o[c],l.fields[c])):(l.hasOne[c]||l.hasMany[c])&&a.push(c)}t.asyncForEach(a,function(r,s){if(l.hasOne[r])l.hasOne[r].type.fromSelectJSON(n,i,o[r],function(n){t.set(e,r,n),s()});else if(l.hasMany[r]){var a=t.get(e,r),c=o[r].slice(0),u=l.hasMany[r].type;a.list(i,function(e){t.asyncForEach(c,function(t,o){u.fromSelectJSON(n,i,t,function(t){for(var n=0;n<e.length;n++)if(e[n].id===t.id)return void o();a.add(t),o()})},function(){s()})})}},function(){s(e)})}var c=e.getArgs(arguments,[{name:"session",optional:!0,check:t.isSession,defaultValue:t},{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"jsonObj",optional:!1},{name:"callback",optional:!1,check:e.isCallback()}]);return n=c.session,i=c.tx,o=c.jsonObj,s=c.callback,i?("string"==typeof o&&(o=JSON.parse(o)),o?void(o.id?r.load(n,i,o.id,a):a(new r(n))):void s(null)):void n.transaction(function(t){r.fromSelectJSON(n,t,o,s)})},r.load=function(n,i,o,s){var a=e.getArgs(arguments,[{name:"session",optional:!0,check:t.isSession,defaultValue:t},{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"id",optional:!1,check:e.hasType("string")},{name:"callback",optional:!0,check:e.isCallback(),defaultValue:function(){}}]);r.findBy(a.session,a.tx,"id",a.id,a.callback)},r.findBy=function(n,i,o,s,a){var l=e.getArgs(arguments,[{name:"session",optional:!0,check:t.isSession,defaultValue:t},{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"property",optional:!1,check:e.hasType("string")},{name:"value",optional:!1},{name:"callback",optional:!0,check:e.isCallback(),defaultValue:function(){}}]);return n=l.session,i=l.tx,o=l.property,s=l.value,a=l.callback,"id"===o&&s in n.trackedObjects?void a(n.trackedObjects[s]):i?void r.all(n).filter(o,"=",s).one(i,function(t){a(t)}):void n.transaction(function(t){r.findBy(n,t,o,s,a)})},r.index=function(t,e){var n=e||{};"string"==typeof t&&(t=[t]),n.columns=t,l.indexes.push(n)},r.hasMany=function(e,n,i){var o=n.meta;if(o.hasMany[i]){var s=l.name+"_"+e+"_"+o.name,a=o.name+"_"+i+"_"+l.name;s>a&&(s=a),l.hasMany[e]={type:n,inverseProperty:i,manyToMany:!0,tableName:s},o.hasMany[i]={type:r,inverseProperty:e,manyToMany:!0,tableName:s},delete l.hasOne[e],delete l.fields[e+"_class"]}else l.hasMany[e]={type:n,inverseProperty:i},o.hasOne[i]={type:r,inverseProperty:e},l.isMixin&&(o.fields[i+"_class"]=t.typeMapper?t.typeMapper.classNameType:"TEXT")},r.hasOne=function(e,n,i){l.hasOne[e]={type:n,inverseProperty:i},n.meta.isMixin&&(l.fields[e+"_class"]=t.typeMapper?t.typeMapper.classNameType:"TEXT")},r.is=function(t){var e=t.meta;if(!e.isMixin)throw new Error("not a mixin: "+t);t.meta.mixedIns=t.meta.mixedIns||[],t.meta.mixedIns.push(l);for(var n in e.fields)e.fields.hasOwnProperty(n)&&(l.fields[n]=e.fields[n]);for(var i in e.hasOne)e.hasOne.hasOwnProperty(i)&&(l.hasOne[i]=e.hasOne[i]);for(var i in e.hasMany)e.hasMany.hasOwnProperty(i)&&(e.hasMany[i].mixin=t,l.hasMany[i]=e.hasMany[i])};for(var c=t.entityDecoratorHooks,h=0;h<c.length;h++)c[h](r);return w[i]=r,r}function r(){if(t.typeMapper&&t.typeMapper.newUuid)return t.typeMapper.newUuid();for(var e=[],n="0123456789ABCDEF",i=0;i<32;i++)e[i]=n.substr(Math.floor(16*Math.random()),1);return e[12]="4",e[16]=n.substr(3&e[16]|8,1),e.join("")}function s(e){if(t.typeMapper&&t.typeMapper.defaultValue)return t.typeMapper.defaultValue(e);switch(e){case"TEXT":return"";case"BOOL":return!1;default:return-1!==e.indexOf("INT")?0:-1!==e.indexOf("CHAR")?"":null}}function a(t,e){for(var n=t.length,i=0;i<n;i++){var o=t[i];if(o.equals&&o.equals(e))return!0;if(o===e)return!0}return!1}function l(t,e){for(var n=t.length,i=0;i<n;i++){var o=t[i];if(o.equals&&o.equals(e))return void t.splice(i,1);if(o===e)return void t.splice(i,1)}}function c(t,e,n){this.obj=t,this.eventType=e,this.fn=n}function u(){this.subscribers={}}function h(){}function d(t,e){this.left=t,this.right=e}function p(t,e){this.left=t,this.right=e}function f(t,e,n){this.property=t,this.operator=e.toLowerCase(),this.value=n}function m(){}function g(t,e){this.init(t,e,g)}function _(t,e){this.init(t,e,_)}function v(e,n){this.init(e,n,t.ManyToManyDbQueryCollection),this._localAdded=[],this._localRemoved=[]}function y(e){this.init(t,null,y),this._items=e||[]}var b={},w={};t.getEntityMeta=function(){return b},t.trackedObjects={},t.objectsToRemove={},t.objectsRemoved=[],t.globalPropertyListeners={},t.queryCollectionCache={},t.getObjectsToRemove=function(){return this.objectsToRemove},t.getTrackedObjects=function(){return this.trackedObjects},t.entityDecoratorHooks=[],t.flushHooks=[],t.schemaSyncHooks=[],t.debug=!0,t.subscribeToGlobalPropertyListener=function(t,e,n){var i=e+"__"+n;if(i in this.globalPropertyListeners){for(var o=this.globalPropertyListeners[i],r=0;r<o.length;r++)if(o[r]===t)return;this.globalPropertyListeners[i].push(t)}else this.globalPropertyListeners[i]=[t]},t.unsubscribeFromGlobalPropertyListener=function(t,e,n){for(var i=e+"__"+n,o=this.globalPropertyListeners[i],r=0;r<o.length;r++)if(o[r]===t)return void o.splice(r,1)},t.propertyChanged=function(t,e,n,i){if(this.trackedObjects[t.id]){var o=t._type,r=o+"__"+e;if(r in this.globalPropertyListeners)for(var s=this.globalPropertyListeners[r],a=0;a<s.length;a++){var l=s[a],c=t._data;c[e]=n;var u=l._filter.match(c);c[e]=i;var h=l._filter.match(c);u!=h&&l.triggerEvent("change",l,t)}}},t.objectRemoved=function(t){var e=t._type;if(this.queryCollectionCache[e]){var n=this.queryCollectionCache[e];for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];o._filter.match(t)&&o.triggerEvent("change",o,t)}}},t.getMeta=n,i.prototype=t,t.Session=i,t.define=function(t,e){if(b[t])return o(t);var n={name:t,fields:e,isMixin:!1,indexes:[],hasMany:{},hasOne:{}};return b[t]=n,o(t)},t.isDefined=function(t){return!!b[t]},t.defineMixin=function(t,e){var n=this.define(t,e);return n.meta.isMixin=!0,n},t.isTransaction=function(t){return!t||t&&t.executeSql},t.isSession=function(t){return!t||t&&t.schemaSync},t.add=function(t){if(t){if(!this.trackedObjects[t.id]&&(this.trackedObjects[t.id]=t,t._new))for(var e in t._data)t._data.hasOwnProperty(e)&&this.propertyChanged(t,e,void 0,t._data[e]);return this}},t.remove=function(t){return t._new?delete this.trackedObjects[t.id]:(this.objectsToRemove[t.id]||(this.objectsToRemove[t.id]=t),this.objectsRemoved.push({id:t.id,entity:t._type})),this.objectRemoved(t),this},t.clean=function(){this.trackedObjects={},this.objectsToRemove={},this.objectsRemoved=[],this.globalPropertyListeners={},this.queryCollectionCache={}},t.asyncForEach=function(t,e,n){function i(){var o=t.pop();e(o,function(e,o){t.length>0?i():n(e,o)})}t=t.slice(0),t.length>0?i():n()},t.asyncParForEach=function(t,e,n){var i=0,o=t.length;0===o&&n();for(var r=0;r<o;r++)e(t[r],function(t,e){++i===o&&n(t,e)})},t.jsonToEntityVal=function(t,e){if(!e)return t;switch(e){case"DATE":return"number"==typeof t?t>1e12?new Date(t):new Date(1e3*t):null;default:return t}},t.entityValToJson=function(t,e){if(!e)return t;switch(e){case"DATE":return t?(t=new Date(t),Math.round(t.getTime()/1e3)):null;default:return t}},t.dump=function(n,i,o){var r=e.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"entities",optional:!0,check:function(t){return!t||t&&t.length&&!t.apply},defaultValue:null},{name:"callback",optional:!1,check:e.isCallback(),defaultValue:function(){}}]);if(n=r.tx,i=r.entities,o=r.callback,!i){i=[];for(var s in w)w.hasOwnProperty(s)&&i.push(w[s])}var a={};t.asyncParForEach(i,function(e,i){e.all().list(n,function(o){var r=[];t.asyncParForEach(o,function(i,o){var s={},a=e.meta.fields;for(var l in a)a.hasOwnProperty(l)&&(s[l]=t.entityValToJson(i._data[l],a[l]));var c=e.meta.hasOne;for(var u in c)c.hasOwnProperty(u)&&(s[u]=i._data[u]);var h=e.meta.hasMany,d=[];for(var p in h)h.hasOwnProperty(p)&&d.push(p);t.asyncParForEach(d,function(e,o){t.get(i,e).list(n,function(t){s[e]=t.map(function(t){return t.id}),o()})},function(){s.id=i.id,r.push(s),o()})},function(){a[e.meta.name]=r,i()})})},function(){o(a)})},t.load=function(n,i,r){var s=e.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"dump",optional:!1},{name:"callback",optional:!0,check:e.isCallback(),defaultValue:function(){}}]);n=s.tx,i=s.dump,r=s.callback;var a=[],l=this;for(var c in i)if(i.hasOwnProperty(c))for(var u=o(c),h=u.meta.fields,d=i[c],p=0;p<d.length;p++){var f=d[p],m=new u;m.id=f.id;for(var g in f)if(f.hasOwnProperty(g))if(t.isImmutable(g))m[g]=f[g];else if(u.meta.hasMany[g]){var _=u.meta.hasMany[g];if(_.manyToMany&&u.meta.name<_.type.meta.name)continue;var v=t.get(m,g);f[g].length>0&&f[g].forEach(function(t){a.push({Entity:u,coll:v,id:t})})}else t.set(m,g,t.jsonToEntityVal(f[g],h[g]));this.add(m)}l.flush(n,function(){t.asyncForEach(a,function(t,e){t.Entity.load(l,n,t.id,function(n){t.coll.add(n),e()})},function(){l.flush(n,r)})})},t.dumpToJson=function(n,i,o){var r=e.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"entities",optional:!0,check:function(t){return t&&t.length&&!t.apply},defaultValue:null},{name:"callback",optional:!1,check:e.isCallback(),defaultValue:function(){}}]);n=r.tx,i=r.entities,o=r.callback,this.dump(n,i,function(t){o(JSON.stringify(t))})},t.loadFromJson=function(n,i,o){var r=e.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"jsonDump",optional:!1},{name:"callback",optional:!0,check:e.isCallback(),defaultValue:function(){}}]);n=r.tx,i=r.jsonDump,o=r.callback,this.load(n,JSON.parse(i),o)},t.createUUID=r,c.prototype.unsubscribe=function(){this.obj.removeEventListener(this.eventType,this.fn)},u.prototype.addEventListener=function(t,e){return this.subscribers[t]||(this.subscribers[t]=[]),this.subscribers[t].push(e),new c(this,t,e)},u.prototype.removeEventListener=function(t,e){for(var n=this.subscribers[t],i=0;i<n.length;i++)if(n[i]==e)return this.subscribers[t].splice(i,1),!0;return!1},u.prototype.triggerEvent=function(t){if(this.subscribers[t])for(var e=this.subscribers[t].slice(0),n=0;n<e.length;n++)e[n].apply(null,arguments)},h.prototype.match=function(t){return!0},h.prototype.makeFit=function(t){},h.prototype.makeNotFit=function(t){},h.prototype.toUniqueString=function(){return"NULL"},h.prototype.subscribeGlobally=function(){},h.prototype.unsubscribeGlobally=function(){},d.prototype.match=function(t){return this.left.match(t)&&this.right.match(t)},d.prototype.makeFit=function(t){this.left.makeFit(t),this.right.makeFit(t)},d.prototype.makeNotFit=function(t){this.left.makeNotFit(t),this.right.makeNotFit(t)},d.prototype.toUniqueString=function(){return this.left.toUniqueString()+" AND "+this.right.toUniqueString()},d.prototype.subscribeGlobally=function(t,e){this.left.subscribeGlobally(t,e),this.right.subscribeGlobally(t,e)},d.prototype.unsubscribeGlobally=function(t,e){this.left.unsubscribeGlobally(t,e),this.right.unsubscribeGlobally(t,e)},p.prototype.match=function(t){return this.left.match(t)||this.right.match(t)},p.prototype.makeFit=function(t){this.left.makeFit(t),this.right.makeFit(t)},p.prototype.makeNotFit=function(t){this.left.makeNotFit(t),this.right.makeNotFit(t)},p.prototype.toUniqueString=function(){return this.left.toUniqueString()+" OR "+this.right.toUniqueString()},p.prototype.subscribeGlobally=function(t,e){this.left.subscribeGlobally(t,e),this.right.subscribeGlobally(t,e)},p.prototype.unsubscribeGlobally=function(t,e){this.left.unsubscribeGlobally(t,e),this.right.unsubscribeGlobally(t,e)},f.prototype.match=function(e){var n=this.value,i=t.get(e,this.property);switch(n&&n.getTime&&(n=1e3*Math.round(n.getTime()/1e3),i&&i.getTime&&(i=1e3*Math.round(i.getTime()/1e3))),this.operator){case"=":return i===n;case"!=":return i!==n;case"<":return i<n;case"<=":return i<=n;case">":return i>n;case">=":return i>=n;case"in":return a(n,i);case"not in":return!a(n,i)}},f.prototype.makeFit=function(e){if("="!==this.operator)throw new Error("Sorry, can't perform makeFit for other filters than =");t.set(e,this.property,this.value)},f.prototype.makeNotFit=function(e){if("="!==this.operator)throw new Error("Sorry, can't perform makeNotFit for other filters than =");t.set(e,this.property,null)},f.prototype.subscribeGlobally=function(e,n){t.subscribeToGlobalPropertyListener(e,n,this.property)},f.prototype.unsubscribeGlobally=function(e,n){t.unsubscribeFromGlobalPropertyListener(e,n,this.property)},f.prototype.toUniqueString=function(){var t=this.value;return t&&t._type&&(t=t.id),this.property+this.operator+t},t.NullFilter=h,t.AndFilter=d,t.OrFilter=p,t.PropertyFilter=f,t.uniqueQueryCollection=function(t){var e=t._entityName;if(t._items)return t;this.queryCollectionCache[e]||(this.queryCollectionCache[e]={});var n=t.toUniqueString();return this.queryCollectionCache[e][n]||(this.queryCollectionCache[e][n]=t),this.queryCollectionCache[e][n]},m.prototype=new u,m.prototype.oldAddEventListener=m.prototype.addEventListener,m.prototype.setupSubscriptions=function(){this._filter.subscribeGlobally(this,this._entityName)},m.prototype.teardownSubscriptions=function(){this._filter.unsubscribeGlobally(this,this._entityName)},m.prototype.addEventListener=function(t,e){var n=this,i=this.oldAddEventListener(t,e);return 1===this.subscribers[t].length&&this.setupSubscriptions(),i.oldUnsubscribe=i.unsubscribe,i.unsubscribe=function(){this.oldUnsubscribe(),0===n.subscribers[t].length&&n.teardownSubscriptions()},i},m.prototype.persistQueries=function(){return[]},
m.prototype.init=function(e,n,i){this._filter=new h,this._orderColumns=[],this._prefetchFields=[],this._entityName=n,this._constructor=i,this._limit=-1,this._skip=0,this._reverse=!1,this._session=e||t,this.subscribers={}},m.prototype.toUniqueString=function(){var t=this._constructor.name+": "+this._entityName;t+="|Filter:";var e=[];t+=this._filter.toUniqueString(),t+="|Values:";for(var n=0;n<e.length;n++)t+=e+"|^|";t+="|Order:";for(var n=0;n<this._orderColumns.length;n++){var i=this._orderColumns[n];t+=i[0]+", "+i[1]+", "+i[2]}t+="|Prefetch:";for(var n=0;n<this._prefetchFields.length;n++)t+=this._prefetchFields[n];return t+="|Limit:",t+=this._limit,t+="|Skip:",t+=this._skip,t+="|Reverse:",t+=this._reverse},m.prototype.clone=function(t){var e=new this._constructor(this._session,this._entityName);if(e._filter=this._filter,e._prefetchFields=this._prefetchFields.slice(0),e._orderColumns=this._orderColumns.slice(0),e._limit=this._limit,e._skip=this._skip,e._reverse=this._reverse,t){var n={};for(var i in this.subscribers)this.subscribers.hasOwnProperty(i)&&(n[i]=this.subscribers[i].slice(0));e.subscribers=n}else e.subscribers=this.subscribers;return e},m.prototype.filter=function(t,e,n){var i=this.clone(!0);i._filter=new d(this._filter,new f(t,e,n));var o=this._session;return i=o.uniqueQueryCollection(i),o.uniqueQueryCollection(i)},m.prototype.or=function(t){var e=this.clone(!0);return e._filter=new p(this._filter,t),this._session.uniqueQueryCollection(e)},m.prototype.and=function(t){var e=this.clone(!0);return e._filter=new d(this._filter,t),this._session.uniqueQueryCollection(e)},m.prototype.order=function(t,e,n){e=void 0===e||e,n=void 0===n||n;var i=this.clone();return i._orderColumns.push([t,e,n]),this._session.uniqueQueryCollection(i)},m.prototype.limit=function(t){var e=this.clone();return e._limit=t,this._session.uniqueQueryCollection(e)},m.prototype.skip=function(t){var e=this.clone();return e._skip=t,this._session.uniqueQueryCollection(e)},m.prototype.reverse=function(){var t=this.clone();return t._reverse=!0,this._session.uniqueQueryCollection(t)},m.prototype.prefetch=function(t){var e=this.clone();return e._prefetchFields.push(t),this._session.uniqueQueryCollection(e)},m.prototype.selectJSON=function(n,i,r){var s=e.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"props",optional:!1},{name:"callback",optional:!1}]),a=this._session,l=this;if(n=s.tx,i=s.props,r=s.callback,!n)return void a.transaction(function(t){l.selectJSON(t,i,r)});o(this._entityName);this.list(function(e){var o=[];t.asyncForEach(e,function(t,e){t.selectJSON(n,i,function(t){o.push(t),e()})},function(){r(o)})})},m.prototype.add=function(t){if(!t.id||!t._type)throw new Error("Cannot add object of non-entity type onto collection.");this._session.add(t),this._filter.makeFit(t),this.triggerEvent("add",this,t),this.triggerEvent("change",this,t)},m.prototype.addAll=function(t){for(var e=0;e<t.length;e++){var n=t[e];this._session.add(n),this._filter.makeFit(n),this.triggerEvent("add",this,n)}this.triggerEvent("change",this)},m.prototype.remove=function(t){if(!t.id||!t._type)throw new Error("Cannot remove object of non-entity type from collection.");this._filter.makeNotFit(t),this.triggerEvent("remove",this,t),this.triggerEvent("change",this,t)},m.prototype.each=function(n,i){var o=e.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"eachFn",optional:!0,check:e.isCallback()}]);n=o.tx,i=o.eachFn,this.list(n,function(t){for(var e=0;e<t.length;e++)i(t[e])})},m.prototype.forEach=m.prototype.each,m.prototype.one=function(n,i){var o=e.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"oneFn",optional:!1,check:e.isCallback()}]);n=o.tx,i=o.oneFn;this.limit(1).list(n,function(t){i(0===t.length?null:t[0])})},g.prototype=new m,_.prototype=new g,_.prototype.add=function(t){this._session.add(t),this.triggerEvent("add",this,t),this.triggerEvent("change",this,t)},_.prototype.remove=function(t){this._session.remove(t),this.triggerEvent("remove",this,t),this.triggerEvent("change",this,t)},v.prototype=new g,v.prototype.initManyToMany=function(t,e){this._obj=t,this._coll=e},v.prototype.add=function(t){a(this._localAdded,t)||(this._session.add(t),this._localAdded.push(t),this.triggerEvent("add",this,t),this.triggerEvent("change",this,t))},v.prototype.addAll=function(t){for(var e=0;e<t.length;e++){var n=t[e];a(this._localAdded,n)||(this._session.add(n),this._localAdded.push(n),this.triggerEvent("add",this,n))}this.triggerEvent("change",this)},v.prototype.clone=function(){var t=g.prototype.clone.call(this);return t._localAdded=this._localAdded,t._localRemoved=this._localRemoved,t._obj=this._obj,t._coll=this._coll,t},v.prototype.remove=function(t){a(this._localAdded,t)?l(this._localAdded,t):a(this._localRemoved,t)||this._localRemoved.push(t),this.triggerEvent("remove",this,t),this.triggerEvent("change",this,t)},y.prototype=new m,y.prototype.clone=function(){var t=g.prototype.clone.call(this);return t._items=this._items,t},y.prototype.add=function(t){a(this._items,t)||(this._session.add(t),this._items.push(t),this.triggerEvent("add",this,t),this.triggerEvent("change",this,t))},y.prototype.addAll=function(t){for(var e=0;e<t.length;e++){var n=t[e];a(this._items,n)||(this._session.add(n),this._items.push(n),this.triggerEvent("add",this,n))}this.triggerEvent("change",this)},y.prototype.remove=function(t){for(var e=this._items,n=0;n<e.length;n++)e[n]===t&&(this._items.splice(n,1),this.triggerEvent("remove",this,t),this.triggerEvent("change",this,t))},y.prototype.list=function(n,i){(i=e.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"callback",optional:!0,check:e.isCallback()}]).callback)&&!i.executeSql||(i=arguments[1]);for(var o=this._items.slice(0),r=this,s=[],a=0;a<o.length;a++)this._filter.match(o[a])&&s.push(o[a]);if(s.sort(function(e,n){for(var i=0;i<r._orderColumns.length;i++){var o=r._orderColumns[i][0],s=r._orderColumns[i][1],a=r._orderColumns[i][2],l=t.get(e,o),c=t.get(n,o);if(a||(l=l.toLowerCase(),c=c.toLowerCase()),l<c)return s?-1:1;if(l>c)return s?1:-1}return 0}),this._skip&&s.splice(0,this._skip),this._limit>-1&&(s=s.slice(0,this._limit)),this._reverse&&s.reverse(),!i)return s;i(s)},y.prototype.destroyAll=function(t){t&&!t.executeSql||(t=arguments[1]),this._items=[],this.triggerEvent("change",this),t&&t()},y.prototype.count=function(n,i){var o=e.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"callback",optional:!0,check:e.isCallback()}]);o.tx,i=o.callback;var r=this.list();if(!i)return r.length;i(r.length)},t.QueryCollection=m,t.DbQueryCollection=g,t.ManyToManyDbQueryCollection=v,t.LocalQueryCollection=y,t.Observable=u,t.Subscription=c,t.AndFilter=d,t.OrFilter=p,t.PropertyFilter=f}();var e={};return function(){e.getArgs=function(t,e){for(var n=0,i=0,o={};i<e.length;){var r=e[i],s=t[n];if(r.optional)void 0!==s&&r.check(s)?(o[r.name]=s,n++,i++):(void 0!==r.defaultValue&&(o[r.name]=r.defaultValue),i++);else{if(r.check&&!r.check(s))throw new Error("Invalid value for argument: "+r.name+" Value: "+s);o[r.name]=s,i++,n++}}return o},e.hasProperty=function(t){return function(e){return e&&void 0!==e[t]}},e.hasType=function(t){return function(e){return typeof e===t}},e.isCallback=function(){return function(t){return t&&t.apply}}}(),t.argspec=e,t}if("undefined"!=typeof exports){exports.createPersistence=function(){return initPersistence({})};var singleton;"function"==typeof exports.__defineGetter__?exports.__defineGetter__("persistence",function(){return singleton||(singleton=exports.createPersistence()),singleton}):Object.defineProperty(exports,"persistence",{get:function(){return singleton||(singleton=exports.createPersistence()),singleton},enumerable:!0,configurable:!0})}else window=window||{},window.persistence=initPersistence(window.persistence||{});"undefined"==typeof JSON&&(JSON={}),JSON.stringify||function(){function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,o,r,s,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;n<r;n+=1)s[n]=str(n,l)||"null";return o=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;n<r;n+=1)"string"==typeof(i=rep[n])&&(o=str(i,l))&&s.push(quote(i)+(gap?": ":":")+o);else for(i in l)Object.hasOwnProperty.call(l,i)&&(o=str(i,l))&&s.push(quote(i)+(gap?": ":":")+o);return o=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.hasOwnProperty.call(o,n)&&(i=walk(o,n),void 0!==i?o[n]=i:delete o[n]);return reviver.call(t,e,o)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}(),!window.persistence)throw new Error("persistence.js should be loaded before persistence.migrations.js");!function(){var t={migrations:[],version:function(t){persistence.transaction(function(e){e.executeSql("SELECT current_version FROM schema_version",null,function(n){0==n.length?e.executeSql("INSERT INTO schema_version VALUES (0)",null,function(){t(0)}):t(n[0].current_version)})})},setVersion:function(e,n){persistence.transaction(function(i){i.executeSql("UPDATE schema_version SET current_version = ?",[e],function(){t._version=e,n&&n()})})},setup:function(e){persistence.transaction(function(n){n.executeSql("CREATE TABLE IF NOT EXISTS schema_version (current_version INTEGER)",null,function(){t.migration(0,{up:function(){},down:function(){}}),e&&e()})})},reset:function(e){t.migrations=[],t.migration(0,{up:function(){},down:function(){}}),t.setVersion(0,e)},migration:function(n,i){return t.migrations[n]=new e(n,i),t.migrations[n]},migrateUpTo:function(e,n){function i(){var t=o.pop();t||n(),t.up(function(){o.length>0?i():n&&n()})}var o=[];this.version(function(r){for(var s=r+1;s<=e;s++)o.unshift(t.migrations[s]);o.length>0?i():n&&n()})},migrateDownTo:function(e,n){function i(){var t=o.pop();t||n(),t.down(function(){o.length>0?i():n&&n()})}var o=[];this.version(function(r){for(var s=r;s>e;s--)o.unshift(t.migrations[s]);o.length>0?i():n&&n()})},migrate:function(e,n){1===arguments.length&&(n=e,e=this.migrations.length-1),this.version(function(i){i<e?t.migrateUpTo(e,n):i>e?t.migrateDownTo(e,n):n()})}},e=function(t,e){this.version=t,this.body=e,this.actions=[]};e.prototype.executeActions=function(e,n){var i=this.actions,o=void 0!==n?n:this.version;persistence.transaction(function(n){function r(){if(0==i.length)t.setVersion(o,e);else{i.pop()(n,r)}}r()})},e.prototype.up=function(t){this.body.up&&this.body.up.apply(this),this.executeActions(t)},e.prototype.down=function(t){this.body.down&&this.body.down.apply(this),this.executeActions(t,this.version-1)},e.prototype.createTable=function(t,e){var i=new n;e&&e(i);for(var o,r="CREATE TABLE "+t+" (id VARCHAR(32) PRIMARY KEY";o=i.columns.pop();)r+=", "+o;this.executeSql(r+")")},e.prototype.dropTable=function(t){var e="DROP TABLE "+t;this.executeSql(e)},e.prototype.addColumn=function(t,e,n){var i="ALTER TABLE "+t+" ADD "+e+" "+n;this.executeSql(i)},e.prototype.removeColumn=function(t,e){this.action(function(n,i){var o='select sql from sqlite_master where type = "table" and name == "'+t+'"';n.executeSql(o,null,function(o){for(var r=new RegExp("CREATE TABLE `\\w+` |\\w+ \\((.+)\\)").exec(o[0].sql)[1].split(", "),s=[],a=[],l=0;l<r.length;l++){var c=new RegExp("((`\\w+`)|(\\w+)) .+").exec(r[l])[1];c!=e&&(a.push(r[l]),s.push(c))}a=a.join(", "),s=s.join(", ");var u=[];u.unshift(["ALTER TABLE "+t+" RENAME TO "+t+"_bkp;",null]),u.unshift(["CREATE TABLE "+t+" ("+a+");",null]),u.unshift(["INSERT INTO "+t+" SELECT "+s+" FROM "+t+"_bkp;",null]),u.unshift(["DROP TABLE "+t+"_bkp;",null]),persistence.executeQueriesSeq(n,u,i)})})},e.prototype.addIndex=function(t,e,n){var i="CREATE "+(!0===n?"UNIQUE":"")+" INDEX "+t+"_"+e+" ON "+t+" ("+e+")";this.executeSql(i)},e.prototype.removeIndex=function(t,e){var n="DROP INDEX "+t+"_"+e;this.executeSql(n)},e.prototype.executeSql=function(t,e){this.action(function(n,i){n.executeSql(t,e,i)})},e.prototype.action=function(t){this.actions.unshift(t)};var n=function(){this.columns=[]};n.prototype.text=function(t){this.columns.unshift(t+" TEXT")},n.prototype.integer=function(t){this.columns.unshift(t+" INT")},n.prototype.real=function(t){this.columns.unshift(t+" REAL")},n.prototype.boolean=function(t){this.columns.unshift(t+" BOOL")},n.prototype.date=function(t){this.columns.unshift(t+" DATE")},n.prototype.json=function(t){this.columns.unshift(t+" TEXT")},persistence.migrations={},persistence.migrations.Migrator=t,persistence.migrations.Migration=e,persistence.migrations.init=function(){t.setup.apply(t,Array.prototype.slice.call(arguments,0))},persistence.migrate=function(){t.migrate.apply(t,Array.prototype.slice.call(arguments,0))},persistence.defineMigration=function(){t.migration.apply(t,Array.prototype.slice.call(arguments,0))}}(),function(){function t(t,n){function i(e,n,i,o){if(o=o||"",e.trackedObjects[i[o+"id"]])return e.trackedObjects[i[o+"id"]];var r=t.typeMapper,s=t.getMeta(n),a=t.define(n);if(!i[o+"id"])return null;var l=new a(e,void 0,!0);l.id=r.dbValToEntityVal(i[o+"id"],r.idType),l._new=!1;for(var c in i)if(i.hasOwnProperty(c)&&c.substring(0,o.length)===o){var u=c.substring(o.length);"id"!=u&&(l._data[u]=r.dbValToEntityVal(i[c],s.fields[u]||r.idType))}return l}function o(e,n,i){var o=t.getMeta(e._type),r=t.typeMapper,a=[],l=[],c=[],u=[];if(e._new)for(var h in o.fields)o.fields.hasOwnProperty(h)&&(e._dirtyProperties[h]=!0);for(var h in e._dirtyProperties)if(e._dirtyProperties.hasOwnProperty(h)){a.push("`"+h+"`");var d=o.fields[h]||r.idType;l.push(r.entityValToDbVal(e._data[h],d)),c.push(r.outVar("?",d)),u.push("`"+h+"` = "+r.outVar("?",d))}var p=[];if(o&&o.hasMany)for(var h in o.hasMany)o.hasMany.hasOwnProperty(h)&&(p=p.concat(t.get(e,h).persistQueries()));s(n,p,function(){if(!e._new&&0===a.length)return void(i&&i());if(e._dirtyProperties={},e._new){a.push("id"),l.push(r.entityIdToDbId(e.id)),c.push(r.outIdVar("?"));var t="INSERT INTO `"+e._type+"` ("+a.join(", ")+") VALUES ("+c.join(", ")+")";e._new=!1,n.executeSql(t,l,i,i)}else{var t="UPDATE `"+e._type+"` SET "+u.join(",")+" WHERE id = "+r.outId(e.id);n.executeSql(t,l,i,i)}})}function r(e,n,i){var o=t.getMeta(e._type),r=t.typeMapper,a=[["DELETE FROM `"+e._type+"` WHERE id = "+r.outId(e.id),null]];for(var l in o.hasMany)if(o.hasMany.hasOwnProperty(l)&&o.hasMany[l].manyToMany){var c=o.hasMany[l].tableName;a.push(["DELETE FROM `"+c+"` WHERE `"+o.name+"_"+l+"` = "+r.outId(e.id),null])}s(n,a,i)}function s(e,n,i){for(var o=[],r=3;r<arguments.length;r++)o.push(arguments[r]);t.asyncForEach(n,function(t,n){e.executeSql(t[0],t[1],n,function(t,e){console.log(e.message),n(t,e)})},function(t,e){if(e&&i)return void i(t,e);i&&i.apply(null,o)})}var a=t.argspec;t.typeMapper=n.typeMapper||e,t.generatedTables={},t.schemaSync=function(e,i,o){var r=a.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"callback",optional:!0,check:a.isCallback(),defaultValue:function(){}},{name:"emulate",optional:!0,check:a.hasType("boolean")}]);if(e=r.tx,i=r.callback,o=r.emulate,!e){var l=this;return void this.transaction(function(t){l.schemaSync(t,i,o)})}var c,u,h,d,p=[],f=t.typeMapper,m=t.getEntityMeta();for(var g in m)if(m.hasOwnProperty(g)){if(c=m[g],!c.isMixin){u=[];for(var _ in c.fields)c.fields.hasOwnProperty(_)&&u.push([_,c.fields[_]]);for(var v in c.hasOne)c.hasOne.hasOwnProperty(v)&&(h=c.hasOne[v].type.meta,u.push([v,f.idType]),p.push([n.createIndex(c.name,[v]),null]));for(var y=0;y<c.indexes.length;y++)p.push([n.createIndex(c.name,c.indexes[y].columns,c.indexes[y]),null])}for(var v in c.hasMany)if(c.hasMany.hasOwnProperty(v)&&c.hasMany[v].manyToMany&&(d=c.hasMany[v].tableName,!t.generatedTables[d])){var h=c.hasMany[v].type.meta,b=c.hasMany[v].inverseProperty;if(h.hasMany[b].type.meta!=c)continue;var w=c.name+"_"+v,$=h.name+"_"+b;p.push([n.createIndex(d,[w]),null]),p.push([n.createIndex(d,[$]),null]);var x=[[w,f.idType],[$,f.idType]];c.isMixin&&x.push([w+"_class",f.classNameType]),h.isMixin&&x.push([$+"_class",f.classNameType]),p.push([n.createTable(d,x),null]),t.generatedTables[d]=!0}c.isMixin||(u.push(["id",f.idType,"PRIMARY KEY"]),t.generatedTables[c.name]=!0,p.push([n.createTable(c.name,u),null]))}for(var S=t.schemaSyncHooks,y=0;y<S.length;y++)S[y](e);o?i(e):s(e,p,function(t,n){i(e,n)})},t.flush=function(e,n){var i=a.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction},{name:"callback",optional:!0,check:a.isCallback(),defaultValue:null}]);e=i.tx,n=i.callback;var s=this;if(!e)return void this.transaction(function(t){s.flush(t,n)});var l=t.flushHooks;t.asyncForEach(l,function(t,n){t(s,e,n)},function(){var i=[];for(var a in s.trackedObjects)s.trackedObjects.hasOwnProperty(a)&&i.push(s.trackedObjects[a]);var l=[];for(var a in s.objectsToRemove)s.objectsToRemove.hasOwnProperty(a)&&(l.push(s.objectsToRemove[a]),delete s.trackedObjects[a]);if(s.objectsToRemove={},n)t.asyncParForEach(l,function(t,n){r(t,e,n)},function(r,s){if(s)return n(r,s);t.asyncParForEach(i,function(t,n){o(t,e,n)},n)});else{for(var c=0;c<i.length;c++)o(i[c],e);for(var c=0;c<l.length;c++)r(l[c],e)}})},t.reset=function(e,n){var i=a.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"callback",optional:!0,check:a.isCallback(),defaultValue:function(){}}]);e=i.tx,n=i.callback;var o=this;if(!e)return void o.transaction(function(t){o.reset(t,n)});this.schemaSync(e,function(){function i(){var t=s.pop();e.executeSql("DROP TABLE IF EXISTS `"+t+"`",null,function(){s.length>0?i():r()},r)}function r(e,i){o.clean(),t.generatedTables={},n&&n(e,i)}var s=[];for(var a in t.generatedTables)t.generatedTables.hasOwnProperty(a)&&s.push(a);s.length>0?i():r()},!0)},t.save=o,t.executeQueriesSeq=s,t.QueryCollection.prototype.persistQueries=function(){return[]};var l=t.QueryCollection.prototype.clone;t.QueryCollection.prototype.clone=function(t){var e=l.call(this,t);return e._additionalJoinSqls=this._additionalJoinSqls.slice(0),e._additionalWhereSqls=this._additionalWhereSqls.slice(0),e._additionalGroupSqls=this._additionalGroupSqls.slice(0),e._manyToManyFetch=this._manyToManyFetch,e};var c=t.QueryCollection.prototype.init;t.QueryCollection.prototype.init=function(t,e,n){c.call(this,t,e,n),this._manyToManyFetch=null,this._additionalJoinSqls=[],this._additionalWhereSqls=[],this._additionalGroupSqls=[]};var u=t.QueryCollection.prototype.toUniqueString;t.QueryCollection.prototype.toUniqueString=function(){var t=u.call(this);t+="|JoinSQLs:";for(var e=0;e<this._additionalJoinSqls.length;e++)t+=this._additionalJoinSqls[e];t+="|WhereSQLs:";for(var e=0;e<this._additionalWhereSqls.length;e++)t+=this._additionalWhereSqls[e];t+="|GroupSQLs:";for(var e=0;e<this._additionalGroupSqls.length;e++)t+=this._additionalGroupSqls[e];return this._manyToManyFetch&&(t+="|ManyToManyFetch:",t+=JSON.stringify(this._manyToManyFetch)),t},t.NullFilter.prototype.sql=function(t,e,n){return"1=1"},t.AndFilter.prototype.sql=function(t,e,n){return"("+this.left.sql(t,e,n)+" AND "+this.right.sql(t,e,n)+")"},t.OrFilter.prototype.sql=function(t,e,n){return"("+this.left.sql(t,e,n)+" OR "+this.right.sql(t,e,n)+")"},t.PropertyFilter.prototype.sql=function(e,n,i){var o=t.typeMapper,r=n?"`"+n+"`.":"",s=e.fields[this.property]||o.idType;if("="===this.operator&&null===this.value)return r+"`"+this.property+"` IS NULL";if("!="===this.operator&&null===this.value)return r+"`"+this.property+"` IS NOT NULL";if("in"===this.operator){for(var a=this.value,l=[],c=0;c<a.length;c++)l.push("?"),i.push(o.entityValToDbVal(a[c],s));return 0===a.length?"1 = 0":r+"`"+this.property+"` IN ("+l.join(", ")+")"}if("not in"===this.operator){for(var a=this.value,l=[],c=0;c<a.length;c++)l.push("?"),i.push(o.entityValToDbVal(a[c],s));return 0===a.length?"1 = 1":r+"`"+this.property+"` NOT IN ("+l.join(", ")+")"}var u=this.value;return!0!==u&&!1!==u||(u=u?1:0),i.push(o.entityValToDbVal(u,s)),r+"`"+this.property+"` "+this.operator+" "+o.outVar("?",s)},t.DbQueryCollection.prototype.list=function(e,n){function o(t,e,n){var i=[h.inIdVar("`"+e+"`.id")+" AS "+n+"id"];for(var o in t.fields)t.fields.hasOwnProperty(o)&&i.push(h.inVar("`"+e+"`.`"+o+"`",t.fields[o])+" AS `"+n+o+"`");for(var o in t.hasOne)t.hasOne.hasOwnProperty(o)&&i.push(h.inIdVar("`"+e+"`.`"+o+"`")+" AS `"+n+o+"`");return i}var r=a.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"callback",optional:!1,check:a.isCallback()}]);e=r.tx,n=r.callback;var s=this,l=this._session;if(!e)return void l.transaction(function(t){s.list(t,n)});var c=this._entityName,u=t.getMeta(c),h=t.typeMapper;if(u.isMixin){var d=[];return void t.asyncForEach(u.mixedIns,function(t,n){var i=s.clone();i._entityName=t.name,i.list(e,function(t){d=d.concat(t),n()})},function(){var e=new t.LocalQueryCollection(d);e._orderColumns=s._orderColumns,e._reverse=s._reverse,e.list(null,n)})}var r=[],p=c+"_",f=o(u,"root",p),m="",g=this._additionalWhereSqls.slice(0),_=this._manyToManyFetch;_&&(m+="LEFT JOIN `"+_.table+"` AS mtm ON mtm.`"+_.inverseProp+"` = `root`.`id` ",g.push("mtm.`"+_.prop+"` = "+h.outId(_.id))),m+=this._additionalJoinSqls.join(" ");for(var v=0;v<this._prefetchFields.length;v++){var y=this._prefetchFields[v].split("."),b=y[0],w=c;y.length>1&&(b=y[1],w=y[0]);var $=t.getMeta(w),x=$.hasOne[b].type.meta;if(x.isMixin)throw new Error("cannot prefetch a mixin");var S=x.name+"_"+b+"_tbl",C="root";y.length>1&&(C=w+"_"+w+"_tbl"),f=f.concat(o(x,S,b+"_")),m+="LEFT JOIN `"+x.name+"` AS `"+S+"` ON `"+S+"`.`id` = `"+C+"`.`"+b+"` "}var T="WHERE "+[this._filter.sql(u,"root",r)].concat(g).join(" AND "),E="SELECT "+f.join(", ")+" FROM `"+c+"` AS `root` "+m+" "+T;this._additionalGroupSqls.length>0&&(E+=this._additionalGroupSqls.join(" ")),this._orderColumns.length>0&&(E+=" ORDER BY "+this._orderColumns.map(function(t){return(t[2]?"`":"LOWER(`")+p+t[0]+(t[2]?"` ":"`) ")+(t[1]?"ASC":"DESC")}).join(", ")),this._limit>=0&&(E+=" LIMIT "+this._limit),this._skip>0&&(E+=" OFFSET "+this._skip),l.flush(e,function(){e.executeSql(E,r,function(e){var o=[];s._reverse&&e.reverse();for(var r=0;r<e.length;r++){for(var a=e[r],u=i(l,c,a,p),h=0;h<s._prefetchFields.length;h++){var d=s._prefetchFields[h].split("."),f=d[0],m=c;d.length>1&&(f=d[1],m=d[0]);var g=t.getMeta(m),_=g.hasOne[f].type.meta;u._data_obj[f]=i(l,_.name,a,f+"_"),l.add(u._data_obj[f])}o.push(u),l.add(u)}n(o),s.triggerEvent("list",s,o)})})},t.DbQueryCollection.prototype.destroyAll=function(e,n){var i=a.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"callback",optional:!0,check:a.isCallback(),defaultValue:function(){}}]);e=i.tx,n=i.callback;var o=this,r=this._session;if(!e)return void r.transaction(function(t){o.destroyAll(t,n)});var s=this._entityName,l=t.getMeta(s),c=t.typeMapper;if(l.isMixin)return void t.asyncForEach(l.mixedIns,function(t,i){var r=o.clone();r._entityName=t.name,r.destroyAll(e,n)},n);var u="",h=this._additionalWhereSqls.slice(0),d=this._manyToManyFetch;d&&(u+="LEFT JOIN `"+d.table+"` AS mtm ON mtm.`"+d.inverseProp+"` = `root`.`id` ",h.push("mtm.`"+d.prop+"` = "+c.outId(d.id))),u+=this._additionalJoinSqls.join(" ");var i=[],p="WHERE "+[this._filter.sql(l,null,i)].concat(h).join(" AND "),f="SELECT id FROM `"+s+"` "+u+" "+p,m="DELETE FROM `"+s+"` "+u+" "+p,g=i.slice(0);r.flush(e,function(){e.executeSql(f,i,function(t){for(var i=0;i<t.length;i++)delete r.trackedObjects[t[i].id],r.objectsRemoved.push({id:t[i].id,entity:s});o.triggerEvent("change",o),e.executeSql(m,g,n,n)},n)})},t.DbQueryCollection.prototype.count=function(e,n){var i=a.getArgs(arguments,[{name:"tx",optional:!0,check:t.isTransaction,defaultValue:null},{name:"callback",optional:!1,check:a.isCallback()}]);e=i.tx,n=i.callback;var o=this,r=this._session;if(e&&!e.executeSql&&(n=e,e=null),!e)return void r.transaction(function(t){o.count(t,n)});var s=this._entityName,l=t.getMeta(s),c=t.typeMapper;if(l.isMixin){var u=0;return void t.asyncForEach(l.mixedIns,function(t,n){var i=o.clone();i._entityName=t.name,i.count(e,function(t){u+=t,n()})},function(){n(u)})}var h="",d=this._additionalWhereSqls.slice(0),p=this._manyToManyFetch;p&&(h+="LEFT JOIN `"+p.table+"` AS mtm ON mtm.`"+p.inverseProp+"` = `root`.`id` ",d.push("mtm.`"+p.prop+"` = "+c.outId(p.id))),h+=this._additionalJoinSqls.join(" ");var i=[],f="WHERE "+[this._filter.sql(l,"root",i)].concat(d).join(" AND "),m="SELECT COUNT(*) AS cnt FROM `"+s+"` AS `root` "+h+" "+f;r.flush(e,function(){e.executeSql(m,i,function(t){n(parseInt(t[0].cnt,10))})})},t.ManyToManyDbQueryCollection.prototype.persistQueries=function(){for(var e=[],n=t.getMeta(this._obj._type),i=n.hasMany[this._coll].type.meta,o=t.typeMapper,r=n.hasMany[this._coll],s=i.hasMany[r.inverseProperty],a=r.mixin?r.mixin.meta.name:n.name,l=s.mixin?s.mixin.meta.name:i.name,c=0;c<this._localAdded.length;c++){var u=[a+"_"+this._coll,l+"_"+r.inverseProperty],h=[o.outIdVar("?"),o.outIdVar("?")],d=[o.entityIdToDbId(this._obj.id),o.entityIdToDbId(this._localAdded[c].id)];r.mixin&&(u.push(a+"_"+this._coll+"_class"),h.push("?"),d.push(n.name)),s.mixin&&(u.push(l+"_"+r.inverseProperty+"_class"),h.push("?"),d.push(i.name)),e.push(["INSERT INTO "+r.tableName+" (`"+u.join("`, `")+"`) VALUES ("+h.join(",")+")",d])}this._localAdded=[];for(var c=0;c<this._localRemoved.length;c++)e.push(["DELETE FROM  "+r.tableName+" WHERE `"+a+"_"+this._coll+"` = "+o.outIdVar("?")+" AND `"+l+"_"+r.inverseProperty+"` = "+o.outIdVar("?"),[o.entityIdToDbId(this._obj.id),o.entityIdToDbId(this._localRemoved[c].id)]]);return this._localRemoved=[],e}}var e={idType:"VARCHAR(32)",classNameType:"TEXT",columnType:function(t){switch(t){case"JSON":return"TEXT";case"BOOL":case"DATE":return"INT";default:return t}},inVar:function(t,e){return t},outVar:function(t,e){return t},outId:function(t){return"'"+t+"'"},dbValToEntityVal:function(t,e){if(null===t||void 0===t)return t;switch(e){case"DATE":return t>1e12?new Date(parseInt(t,10)):new Date(1e3*parseInt(t,10));case"BOOL":return 1===t||"1"===t;case"INT":case"BIGINT":return+t;case"JSON":return t?JSON.parse(t):t;default:return t}},entityValToDbVal:function(t,e){return void 0===t||null===t?null:"JSON"===e&&t?JSON.stringify(t):t.id?t.id:"BOOL"===e?"false"===t?0:t?1:0:"DATE"===e||t.getTime?(t=new Date(t),Math.round(t.getTime()/1e3)):"VARCHAR(32)"===e?t.toString():t},inIdVar:function(t){return this.inVar(t,this.idType)},outIdVar:function(t){return this.outVar(t,this.idType)},entityIdToDbId:function(t){return this.entityValToDbVal(t,this.idType)}};"undefined"!=typeof exports?(exports.defaultTypeMapper=e,exports.config=t):(window=window||{},window.persistence=window.persistence||persistence||{},window.persistence.store=window.persistence.store||{},window.persistence.store.sql={defaultTypeMapper:e,config:t})}(),function(){"use strict";try{window||(window={})}catch(t){window={},exports.console=console}var t=window&&window.persistence?window.persistence:{};t.store||(t.store={}),t.store.websql={},t.store.websql.config=function(t,e,n,i){var o=null;if(t.transaction=function(t){if(!o)throw new Error("No ongoing database connection, please connect first.");o.transaction(t)},t.db=t.db||{},t.db.implementation="unsupported",t.db.conn=null,window&&window.DB)t.db.implementation="exmobi";else if(window&&window.openDatabase)t.db.implementation="html5";else if(window&&window.google&&google.gears)t.db.implementation="gears";else try{openDatabaseSync&&(t.db.implementation="html5-sync")}catch(t){}if(t.db.html5={},t.db.html5.connect=function(e,n,i){var o={},r=openDatabase(e,"1.0.0",n,i);return o.transaction=function(e){return r.transaction(function(n){return e(t.db.html5.transaction(n))})},o},t.db.html5.transaction=function(e){var n={};return n.executeSql=function(n,i,o,r){t.debug&&console.log(n,i),e.executeSql(n,i,function(t,e){if(o){for(var n=[],i=0;i<e.rows.length;i++)n.push(e.rows.item(i));o(n)}},r)},n},t.db.html5Sync={},t.db.html5Sync.connect=function(e,n,i){var o={},r=openDatabaseSync(e,"1.0",n,i);return o.transaction=function(e){return r.transaction(function(n){return e(t.db.html5Sync.transaction(n))})},o},t.db.html5Sync.transaction=function(e){var n={};return n.executeSql=function(n,i,o,r){null==i&&(i=[]),t.debug&&console.log(n,i);var s=e.executeSql(n,i);if(s&&o){for(var a=[],l=0;l<s.rows.length;l++)a.push(s.rows.item(l));o(a)}},n},t.db.gears={},t.db.gears.connect=function(e){var n={},i=google.gears.factory.create("beta.database");return i.open(e),n.transaction=function(e){e(t.db.gears.transaction(i))},n},t.db.gears.transaction=function(e){var n={};return n.executeSql=function(n,i,o,r){t.debug&&console.log(n,i);var s=e.execute(n,i);if(o){for(var a=[];s.isValidRow();){for(var l={},c=0;c<s.fieldCount();c++)l[s.fieldName(c)]=s.field(c);a.push(l),s.next()}o(a)}},n},t.db.exmobi={},t.db.exmobi.connect=function(e){var n={},i=new DB;return i.open(e,"sys:db/"),n.transaction=function(e){e(t.db.exmobi.transaction(i))},n},t.db.exmobi.transaction=function(e){var n={};return n.executeSql=function(n,i,o,r){if(t.debug&&console.log(n,i),i&&i.length){var s=0,a=/(\?)/g;n=n.replace(a,function(){if(s>=i.length)return"";var t=i[s];return s++,"'"+t+"'"})}var l=[];(l=n.toUpperCase().indexOf("SELECT")>=0?e.query(n):e.execute(n))&&o&&(l=l.length?l:[],o(l))},n},t.db.connect=function(e,n,i){return"exmobi"==t.db.implementation?t.db.exmobi.connect(e):"html5"==t.db.implementation?t.db.html5.connect(e,n,i):"html5-sync"==t.db.implementation?t.db.html5Sync.connect(e,n,i):"gears"==t.db.implementation?t.db.gears.connect(e):void 0},t.store.websql.sqliteDialect={createTable:function(e,n){for(var i=t.typeMapper,o="CREATE TABLE IF NOT EXISTS `"+e+"` (",r=[],s=0;s<n.length;s++){var a=n[s];r.push("`"+a[0]+"` "+i.columnType(a[1])+(a[2]?" "+a[2]:""))}return o+=r.join(", "),o+=")"},createIndex:function(t,e,n){return n=n||{},
"CREATE "+(n.unique?"UNIQUE ":"")+"INDEX IF NOT EXISTS `"+t+"__"+e.join("_")+"` ON `"+t+"` ("+e.map(function(t){return"`"+t+"`"}).join(", ")+")"}},t.store.sql.config(t,t.store.websql.sqliteDialect),!(o=t.db.connect(e,n,i)))throw new Error("No supported database found in this browser.")};try{exports.persistence=t}catch(t){}}(),function(){var t={},e={},n={},i={},o={},r={},s={},a={},l={},c={},u={},h={},d={},p={},f={};t=function(t){function e(){}function n(t,n){var i;return Object.create?i=Object.create(t):(e.prototype=t,i=new e),i.constructor=n,i}function i(t,e){if(t){if(t.nodeType)return[t];var e=e&&e.nodeType?e:document;return t&&"string"==typeof t?e.querySelectorAll(t):void 0}}for(var o=/\\?\{([^{}]+)\}/g,r=/^[\s\xa0]+|[\s\xa0]+$/g,s=String.prototype.trim,a=s?function(t){return null==t?"":s.call(t)}:function(t){return null==t?"":(t+"").replace(r,"")},l=0,c=function(t){var e=t.offsetTop;return null!=t.offsetParent&&(e+=c(t.offsetParent)),e},u=function(t){var e=t.offsetLeft;return null!=t.offsetParent&&(e+=u(t.offsetParent)),e},h=({isObject:function(t){return t===Object(t)},isArray:Array.isArray||function(t){return"[object Array]"==toString.call(t)},isEmpty:function(t){if(null==t)return!0;if(this.isArray(t)||this.isString(t))return 0===t.length;for(var e in t)if(this.has(t,e))return!1;return!0},mix:function(t,e,n){for(var i in e)t[i]=e[i];return t},extend:function(t,e,i,o){if(!e||!t)return t;var r,s=e.prototype;return r=n(s,t),t.prototype=this.mix(r,t.prototype),t.superclass=n(s,e),i&&this.mix(r,i),o&&this.mix(t,o),t},startsWith:function(t,e){return 0===t.lastIndexOf(e,0)},endsWith:function(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n},trim:a,substitute:function(t,e,n){return"string"==typeof t&&e?t.replace(n||o,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t},vendor:function(){for(var t=document.createElement("div").style,e=["t","webkitT","MozT","msT","OT"],n=0,i=e.length;n<i;n++)if(e[n]+"ransform"in t)return e[n].substr(0,e[n].length-1);return!1}(),prefixStyle:function(t){return!1!==this.vendor&&(""===this.vendor?t:this.vendor+t.charAt(0).toUpperCase()+t.substr(1))},hasClass:function(t,e){return t&&t.className&&e&&-1!=t.className.indexOf(e)},addClass:function(t,e){t&&e&&!this.hasClass(t,e)&&(t.className+=" "+e)},removeClass:function(t,e){t&&t.className&&e&&(t.className=t.className.replace(e,""))},remove:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},getOffsetTop:c,getOffsetLeft:u,findParentEl:function(t,e,n){var i=null,o=null,r=/^#/.test(e)?"id":/^\./.test(e)?"class":"tag",s=e.replace(/\.|#/g,"");if(n&&"string"==typeof n&&(n=document.querySelector(n)),n=n||document.body,t&&e){if("class"==r&&t.className&&t.className.match(s))return t;if("id"==r&&t.id&&a(t.id)==s)return t;if("tag"==r&&t.tagName.toLowerCase()==s)return t;for(;!i&&o!=n&&(o=t.parentNode);){if("class"==r&&o.className&&o.className.match(s)||"id"==r&&o.id&&a(o.id)==s||"tag"==r&&o.tagName&&o.tagName.toLowerCase()==s)return i=o;t=o}return null}},guid:function(t){var e=++l+"";return t?t+e:e},isAndroid:function(){return/Android /.test(window.navigator.appVersion)},isBadAndroid:function(){return/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)},px2Num:function(t){return Number(t.replace(/px/,""))},getNodes:i,getNode:function(t,e){var n=i(t,e);return n&&n[0]},stringifyStyle:function(t){var e="";for(var n in t)e+=[n,":",t[n],";"].join("");return e}}),d=["Arguments","Function","String","Number","Date","RegExp"],p=0;p<d.length;p++)h["is"+d[p]]=function(t){return toString.call(t)=="[object "+d[p]+"]"};return"object"==typeof module&&module.exports?h:h}(),e=function(e){var n=t,i=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},o={on:function(t,e,n){return s(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){if(!s(this,"once",t,[e,n])||!e)return this;var o=this,r=i(function(){o.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){if(!this._events||!s(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(var i=t?[t]:Object.keys(this._events),o=0,r=i.length;o<r;o++){t=i[o];var a=this._events[t];if(a)if(e||n){for(var l=[],c=0,u=a.length;c<u;c++){var h=a[c];(e&&e!==h.callback&&e!==h.callback._callback||n&&n!==h.context)&&l.push(h)}l.length?this._events[t]=l:delete this._events[t]}else delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=Array.prototype.slice.call(arguments,1);if(!s(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&a(n,e),i&&a(i,arguments),this},listenTo:function(t,e,i){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=n.guid("l"))]=t,i||"object"!=typeof e||(i=this),t.on(e,i,this),this},listenToOnce:function(t,e,n){if("object"==typeof e){for(var o in e)this.listenToOnce(t,o,e[o]);return this}var r=i(function(){this.stopListening(t,e,r),n.apply(this,arguments)});return r._callback=n,this.listenTo(t,e,r)},stopListening:function(t,e,i){var o=this._listeningTo;if(!o)return this;var r=!e&&!i;i||"object"!=typeof e||(i=this),t&&((o={})[t._listenId]=t);for(var s in o)t=o[s],t.off(e,i,this),(r||n.isEmpty(t._events))&&delete this._listeningTo[s];return this}},r=/\s+/,s=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var o in n)t[e].apply(t,[o,n[o]].concat(i));return!1}if(r.test(n)){for(var s=n.split(r),a=0,l=s.length;a<l;a++)t[e].apply(t,[s[a]].concat(i));return!1}return!0},a=function(t,e){var n,i=-1,o=t.length,r=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<o;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s,a);return;default:for(;++i<o;)(n=t[i]).callback.apply(n.ctx,e);return}};return o.bind=o.on,o.unbind=o.off,"object"==typeof module&&module.exports,o}(),n=function(n){var i=t,o=e,r=function(){};return i.mix(r.prototype,o),i.mix(r.prototype,{plug:function(t){var e=this;if(t&&t.pluginId){e.__plugins||(e.__plugins=[]);return e.getPlugin(t.pluginId)&&e.unplug(t.pluginId),t.pluginInitializer(e),e.__plugins.push(t),e}},unplug:function(t){var e=this;if(t&&e.__plugins){var n="string"==typeof t?e.getPlugin(t):t;n.pluginDestructor(e);for(var i=0,o=e.__plugins.length;i<o;i++)if(e.__plugins[i]==n)return e.__plugins.splice(i,1)}},getPlugin:function(t){var e=this,n=[];if(e.__plugins){for(var i=0,o=e.__plugins.length;i<o;i++)e.__plugins[i]&&e.__plugins[i].pluginId==t&&n.push(e.__plugins[i]);return n.length>1?n:n[0]||null}}}),"object"==typeof module&&module.exports,r}(),i=function(t){var e={linear:[0,0,1,1],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],quadratic:[.33,.66,.66,1],circular:[.1,.57,.1,1],bounce:[.71,1.35,.47,1.41],format:function(t){if(t)return"string"==typeof t&&this[t]?this[t]instanceof Array?[" cubic-bezier(",this[t],") "].join(""):this[t]:t instanceof Array?[" cubic-bezier(",t,") "].join(""):t}};return"object"==typeof module&&module.exports?e:e}(),o=function(e){function o(t,e,n,i,o){var r=function(e){var i=1-e;return 3*i*i*e*t+3*i*e*e*n+e*e*e},s=function(t){var n=1-t;return 3*n*n*t*e+3*n*t*t*i+t*t*t},a=function(e){var i=1-e;return 3*(2*(e-1)*e+i*i)*t+3*(-e*e*e+2*i*e)*n};return function(t){var e,n,i,l,c,u,h=t;for(i=h,u=0;u<8;u++){if(l=r(i)-h,Math.abs(l)<o)return s(i);if(c=a(i),Math.abs(c)<1e-6)break;i-=l/c}if(e=0,n=1,i=h,i<e)return s(e);if(i>n)return s(n);for(;e<n;){if(l=r(i),Math.abs(l-h)<o)return s(i);h>l?e=i:n=i,i=.5*(n-e)+e}return s(i)}}function r(t){this.cfg=s.mix({easing:"linear"},t)}for(var s=t,a=n,l=i,c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},u=["webkit","moz","ms","o"],h=window.cancelAnimationFrame,d=0;d<u.length;d++)(window[u[d]+"CancelAnimationFrame"]||window[u[d]+"CancelRequestAnimationFrame"])&&(h=window[u[d]+"CancelAnimationFrame"]||window[u[d]+"CancelRequestAnimationFrame"]);return h=h||window.clearTimeout,r.MIN_DURATION=1,s.extend(r,a,{reset:function(t){var e=this;s.mix(e.cfg,t),e.isfinished=!1,e.percent=0,e._stop=null},run:function(){var t=this,e=t.cfg.duration;if(e<=r.MIN_DURATION&&(t.isfinished=!0,t.trigger("run",{percent:1}),t.trigger("end",{percent:1})),!t.isfinished){t._hasFinishedPercent=t._stop&&t._stop.percent||0,t._stop=null,t.start=Date.now(),t.percent=0;var n=1e3/60/e/4,i=l[t.cfg.easing];t.easingFn=o(i[0],i[1],i[2],i[3],n),t._run()}},_run:function(){var t=this;h(t._raf),t._raf=c(function(){if(t.now=Date.now(),t.duration=t.now-t.start>=t.cfg.duration?t.cfg.duration:t.now-t.start,t.progress=t.easingFn(t.duration/t.cfg.duration),t.percent=t.duration/t.cfg.duration+t._hasFinishedPercent,t.percent>=1||t._stop){t.percent=t._stop&&t._stop.percent?t._stop.percent:1,t.duration=t._stop&&t._stop.duration?t._stop.duration:t.duration;var e={percent:t.percent};return t.trigger("stop",e),void(t.percent>=1&&(t.isfinished=!0,t.trigger("end",{percent:1})))}t.trigger("run",{percent:t.progress,originPercent:t.percent}),t._run()})},stop:function(){var t=this;t._stop={percent:t.percent,now:t.now},h(t._raf)}}),"object"==typeof module&&module.exports,r}(),r=function(e){function r(t){return Math.round(1e5*parseFloat(t))/1e5}function s(){return{translateX:0,translateY:0,rotate:0,skewX:0,skewY:0,scaleX:1,scaleY:1}}function a(t){return t=t.split(/,/),t=Array.prototype.map.call(t,function(t){return r(t)})}function l(t){t=a(t);var e,n,i,o=t[0],s=t[1],l=t[2],c=t[3];return o*c-s*l?(e=Math.sqrt(o*o+s*s),i=(o*l+s*c)/(o*c-l*s),n=(o*c-s*l)/e,o*c<s*l&&(i=-i,e=-e)):e=n=i=0,{translateX:r(t[4]),translateY:r(t[5]),rotate:r(180*Math.atan2(s,o)/Math.PI),skewX:r(180*Math.atan(i)/Math.PI),skewY:0,scaleX:r(e),scaleY:r(n)}}function c(t){t=t.split(")");for(var e,n,i,o=f.trim,a=-1,c=t.length-1,u=s();++a<c;)switch(e=t[a].split("("),n=o(e[0]),i=e[1],n){case"translateX":case"translateY":case"scaleX":case"scaleY":u[n]=r(i);break;case"translate":case"translate3d":i=i.split(","),u.translateX=r(i[0]),u.translateY=r(i[1]||0);break;case"scale":i=i.split(","),u.scaleX=r(i[0]),u.scaleY=r(i[1]||i[0]);break;case"matrix":return l(i)}return u}function u(t,e){if(t&&e&&e.css){var n=this;n.cfg=e,n.el=t;var i=e.duration||0,o=e.easing||"ease";e.delay;return e.run&&(n.timer=n.timer||new m({duration:Math.round(i),easing:o}),n.timer.on("run",e.run)),n._bindEvt(),n}}function h(t,e){var n=c(t),i=c(e),o={};for(var r in i)o[r]={prevVal:n[r],newVal:i[r]};return o}function d(t,e,n,i,o){n=isNaN(Number(n))?0:Number(n),p(t,e,(i-n)*o+n)}function p(t,e,n){switch(e){case"scrollTop":case"scrollLeft":t[e]=n;break;case"transform":t.style[v]=n;case"opacity":t.style[e]=n}}var f=t,m=o,g=i,_=n,v=f.prefixStyle("transform"),y=f.prefixStyle("transition"),b=(f.prefixStyle("transitionDuration"),f.prefixStyle("transformOrigin"),f.vendor?f.prefixStyle("transitionEnd"):"transitionend"),w=(f.vendor&&["-",f.vendor,"-transform"].join(""),"translateX({translateX}px) translateY({translateY}px) translateZ(0)"),$={transform:!0,opacity:!0,scrollTop:!0,scrollLeft:!0};return f.extend(u,_,{run:function(){var t=this,e=t.cfg,n=t.el,i=e.duration||0,o=e.easing||"ease",r=e.delay||0;if(t.__isTransitionEnd=!1,clearTimeout(t.__itv),t.timer&&t.timer.run(),i<=m.MIN_DURATION){for(var s in e.css)p(n,s,e.css[s]);return t.stop(),void t.__handlers.stop.call(t)}if(f.isBadAndroid()&&(e.useTransition=!1),e.useTransition){n.style[y]=f.substitute("all {duration}ms {easing} {delay}ms",{duration:Math.round(i),easing:g.format(o),delay:r});for(var s in e.css)p(n,s,e.css[s]);t.__itv=setTimeout(function(){t.__isTransitionEnd||(t.__isTransitionEnd=!0,t.trigger("transitionend"))},Number(i)+60)}else if(t.computeStyle=t.computeStyle||window.getComputedStyle(n),e.css.transform&&t.timer){t.transmap=h(t.computeStyle[v],e.css.transform);t.timer.off("run",t.__handlers.transRun),t.timer.on("run",t.__handlers.transRun,t),t.timer.off("end",t.__handlers.transRun),t.timer.on("end",t.__handlers.transRun,t)}return t},_transitionEndHandler:function(t){var e=this;e.stop(),e.__handlers.stop.call(e)},__handlers:{transRun:function(t){var e=this,n=e.transmap,i=e.el,o={};for(var r in n)o[r]=(n[r].newVal-n[r].prevVal)*t.percent+n[r].prevVal;var s=f.substitute(w+" scale({scaleX},{scaleY})",o);i.style[v]=s},stop:function(t){var e=this,n=e.cfg;n.end&&n.end({percent:1})}},_bindEvt:function(){var t=this,e=t.cfg,n=t.el;t.el.addEventListener(b,function(e){t.__isTransitionEnd=!0,e.target===e.currentTarget&&t.trigger("transitionend",e)}),t.on("transitionend",t._transitionEndHandler,t);var i=function(i){t.computeStyle=t.computeStyle||window.getComputedStyle(n);for(var o in e.css)/transform/.test(o)||d(t.el,o,t.computeStyle[o],e.css[o],i.percent)};t.timer&&t.timer.on("run",i),t.timer&&t.timer.on("stop",t.__handlers.stop,t)},stop:function(){var t=this;if(t.cfg.useTransition&&t.cfg.duration>m.MIN_DURATION){var e=window.getComputedStyle(this.el);for(var n in t.cfg.css)if($[n]){var i=/transform/.test(n)?e[v]:e[n];p(t.el,n,f.substitute(w+" scale({scaleX},{scaleY})",c(i)))}t.el.style[y]="none"}return t.timer&&t.timer.stop()&&t.timer.reset(),t.computeStyle=null,t},reset:function(t){var e=this;return e.computeStyle=null,f.mix(e.cfg,t),this.timer&&e.timer.reset({duration:Math.round(e.cfg.duration),easing:e.cfg.easing}),e}}),"object"==typeof module&&module.exports,u}(),s=function(t){function e(t,e,n){return setTimeout(a(t,n),e)}function n(t,e,n){return!!Array.isArray(t)&&(i(t,n[e],n),!0)}function i(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function o(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)(!n||n&&void 0===t[i[o]])&&(t[i[o]]=e[i[o]]),o++;return t}function r(t,e){return o(t,e,!0)}function s(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&o(i,n)}function a(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){return typeof t==at?t.apply(e?e[0]||void 0:void 0,e):t}function c(t,e){return void 0===t?e:t}function u(t,e,n){i(f(e),function(e){t.addEventListener(e,n,!1)})}function h(t,e,n){i(f(e),function(e){t.removeEventListener(e,n,!1)})}function d(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function p(t,e){return t.indexOf(e)>-1}function f(t){return t.trim().split(/\s+/g)}function m(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function g(t){return Array.prototype.slice.call(t,0)}function _(t,e,n){for(var i=[],o=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];m(o,s)<0&&i.push(t[r]),o[r]=s,r++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function v(t,e){for(var n,i,o=e[0].toUpperCase()+e.slice(1),r=0;r<rt.length;){if(n=rt[r],(i=n?n+o:e)in t)return i;r++}}function y(){return ht++}function b(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function w(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){l(t.options.enable,[t])&&n.handler(e)},this.init()}function $(t){var e=t.options.inputClass;return new(e||(ft?N:mt?B:pt?F:O))(t,x)}function x(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,r=e&_t&&i-o==0,s=e&(yt|bt)&&i-o==0;n.isFirst=!!r,n.isFinal=!!s,r&&(t.session={}),n.eventType=e,S(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function S(t,e){var n=t.session,i=e.pointers,o=i.length;n.firstInput||(n.firstInput=E(e)),o>1&&!n.firstMultiple?n.firstMultiple=E(e):1===o&&(n.firstMultiple=!1);var r=n.firstInput,s=n.firstMultiple,a=s?s.center:r.center,l=e.center=k(i);e.timeStamp=ut(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=I(a,l),e.distance=A(a,l),C(n,e),e.offsetDirection=D(e.deltaX,e.deltaY),e.scale=s?L(s.pointers,i):1,e.rotation=s?P(s.pointers,i):0,T(n,e);var c=t.element;d(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function C(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==_t&&r.eventType!==yt||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}function T(t,e){var n,i,o,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!=bt&&(a>gt||void 0===s.velocity)){var l=s.deltaX-e.deltaX,c=s.deltaY-e.deltaY,u=M(a,l,c);i=u.x,o=u.y,n=ct(u.x)>ct(u.y)?u.x:u.y,r=D(l,c),t.lastInterval=e}else n=s.velocity,i=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=r}function E(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:lt(t.pointers[n].clientX),clientY:lt(t.pointers[n].clientY)},n++;return{timeStamp:ut(),pointers:e,center:k(e),deltaX:t.deltaX,deltaY:t.deltaY}}function k(t){var e=t.length;if(1===e)return{x:lt(t[0].clientX),y:lt(t[0].clientY)};for(var n=0,i=0,o=0;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:lt(n/e),y:lt(i/e)}}function M(t,e,n){return{x:e/t||0,y:n/t||0}}function D(t,e){return t===e?wt:ct(t)>=ct(e)?t>0?$t:xt:e>0?St:Ct}function A(t,e,n){n||(n=Mt);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function I(t,e,n){n||(n=Mt);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI}function P(t,e){return I(e[1],e[0],Dt)-I(t[1],t[0],Dt)}function L(t,e){return A(e[0],e[1],Dt)/A(t[0],t[1],Dt)}function O(){this.evEl=It,this.evWin=Pt,this.allow=!0,this.pressed=!1,w.apply(this,arguments)}function N(){this.evEl=Nt,this.evWin=Vt,w.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function V(){this.evTarget=Bt,this.evWin=Rt,this.started=!1,w.apply(this,arguments)}function H(t,e){var n=g(t.touches),i=g(t.changedTouches);return e&(yt|bt)&&(n=_(n.concat(i),"identifier",!0)),[n,i]}function B(){this.evTarget=zt,this.targetIds={},w.apply(this,arguments)}function R(t,e){var n=g(t.touches),i=this.targetIds;if(e&(_t|vt)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r,s=g(t.changedTouches),a=[],l=this.target;if(r=n.filter(function(t){return d(t.target,l)}),e===_t)for(o=0;o<r.length;)i[r[o].identifier]=!0,o++;for(o=0;o<s.length;)i[s[o].identifier]&&a.push(s[o]),e&(yt|bt)&&delete i[s[o].identifier],o++;return a.length?[_(r.concat(a),"identifier",!0),a]:void 0}function F(){w.apply(this,arguments);var t=a(this.handler,this);this.touch=new B(this.manager,t),this.mouse=new O(this.manager,t)}function z(t,e){this.manager=t,this.set(e)}function q(t){if(p(t,Wt))return Wt;var e=p(t,Xt),n=p(t,Gt);return e&&n?Xt+" "+Gt:e||n?e?Xt:Gt:p(t,Ut)?Ut:Yt}function j(t){this.id=y(),this.manager=null,this.options=r(t||{},this.defaults),this.options.enable=c(this.options.enable,!0),this.state=Jt,this.simultaneous={},this.requireFail=[]}function Y(t){return t&ee?"cancel":t&Qt?"end":t&Zt?"move":t&Kt?"start":""}function U(t){return t==Ct?"down":t==St?"up":t==$t?"left":t==xt?"right":""}function W(t,e){var n=e.manager;return n?n.get(t):t}function X(){j.apply(this,arguments)}function G(){X.apply(this,arguments),this.pX=null,this.pY=null}function J(){X.apply(this,arguments)}function K(){j.apply(this,arguments),this._timer=null,this._input=null}function Z(){X.apply(this,arguments)}function Q(){X.apply(this,arguments)}function tt(){j.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(t,e){return e=e||{},e.recognizers=c(e.recognizers,et.defaults.preset),new nt(t,e)}function nt(t,e){e=e||{},this.options=r(e,et.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=$(this),this.touchAction=new z(this,this.options.touchAction),it(this,!0),i(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function it(t,e){var n=t.element;i(t.options.cssProps,function(t,i){n.style[v(n.style,i)]=e?t:""})}function ot(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var rt=["","webkit","moz","MS","ms","o"],st=document.createElement("div"),at="function",lt=Math.round,ct=Math.abs,ut=Date.now,ht=1,dt=/mobile|tablet|ip(ad|hone|od)|android/i,pt="ontouchstart"in window,ft=void 0!==v(window,"PointerEvent"),mt=pt&&dt.test(navigator.userAgent),gt=25,_t=1,vt=2,yt=4,bt=8,wt=1,$t=2,xt=4,St=8,Ct=16,Tt=$t|xt,Et=St|Ct,kt=Tt|Et,Mt=["x","y"],Dt=["clientX","clientY"];w.prototype={handler:function(){},init:function(){this.evEl&&u(this.element,this.evEl,this.domHandler),this.evTarget&&u(this.target,this.evTarget,this.domHandler),this.evWin&&u(b(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(b(this.element),this.evWin,this.domHandler)}};var At={mousedown:_t,mousemove:vt,mouseup:yt},It="mousedown",Pt="mousemove mouseup";s(O,w,{handler:function(t){var e=At[t.type];e&_t&&0===t.button&&(this.pressed=!0),e&vt&&1!==t.which&&(e=yt),this.pressed&&this.allow&&(e&yt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Lt={pointerdown:_t,pointermove:vt,pointerup:yt,pointercancel:bt,pointerout:bt},Ot={2:"touch",3:"pen",4:"mouse",5:"kinect"},Nt="pointerdown",Vt="pointermove pointerup pointercancel";window.MSPointerEvent&&(Nt="MSPointerDown",Vt="MSPointerMove MSPointerUp MSPointerCancel"),s(N,w,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=Lt[i],r=Ot[t.pointerType]||t.pointerType,s="touch"==r,a=m(e,t.pointerId,"pointerId");o&_t&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(yt|bt)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(a,1))}});var Ht={touchstart:_t,touchmove:vt,touchend:yt,touchcancel:bt},Bt="touchstart",Rt="touchstart touchmove touchend touchcancel";s(V,w,{handler:function(t){var e=Ht[t.type];if(e===_t&&(this.started=!0),this.started){var n=H.call(this,t,e);e&(yt|bt)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Ft={touchstart:_t,touchmove:vt,touchend:yt,touchcancel:bt},zt="touchstart touchmove touchend touchcancel";s(B,w,{handler:function(t){var e=Ft[t.type],n=R.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),s(F,w,{handler:function(t,e,n){var i="touch"==n.pointerType,o="mouse"==n.pointerType;if(i)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(yt|bt)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var qt=v(st.style,"touchAction"),jt=void 0!==qt,Yt="auto",Ut="manipulation",Wt="none",Xt="pan-x",Gt="pan-y";z.prototype={set:function(t){"compute"==t&&(t=this.compute()),jt&&(this.manager.element.style[qt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return i(this.manager.recognizers,function(e){l(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),q(t.join(" "))},preventDefaults:function(t){if(!jt){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,o=p(i,Wt),r=p(i,Gt),s=p(i,Xt);return o||r&&n&Tt||s&&n&Et?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Jt=1,Kt=2,Zt=4,Qt=8,te=Qt,ee=16;j.prototype={defaults:{},set:function(t){return o(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(n(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=W(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)?this:(t=W(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(n(t,"requireFailure",this))return this;var e=this.requireFail;return t=W(t,this),-1===m(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(n(t,"dropRequireFailure",this))return this;t=W(t,this);var e=m(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?Y(i):""),t)}var n=this,i=this.state;i<Qt&&e(!0),e(),i>=Qt&&e(!0)},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Jt)))return!1;t++}return!0},recognize:function(t){var e=o({},t);if(!l(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(te|ee|32)&&(this.state=Jt),this.state=this.process(e),this.state&(Kt|Zt|Qt|ee)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},s(X,j,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(Kt|Zt),o=this.attrTest(t);return i&&(n&bt||!o)?e|ee:i||o?n&yt?e|Qt:e&Kt?e|Zt:Kt:32}}),s(G,X,{defaults:{event:"pan",threshold:10,pointers:1,direction:kt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Tt&&e.push(Gt),t&Et&&e.push(Xt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&Tt?(o=0===r?wt:r<0?$t:xt,n=r!=this.pX,i=Math.abs(t.deltaX)):(o=0===s?wt:s<0?St:Ct,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return X.prototype.attrTest.call(this,t)&&(this.state&Kt||!(this.state&Kt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=U(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)},reset:function(){}}),s(J,X,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Kt)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),s(K,j,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Yt]},process:function(t){var n=this.options,i=t.pointers.length===n.pointers,o=t.distance<n.threshold,r=t.deltaTime>n.time;if(this._input=t,!o||!i||t.eventType&(yt|bt)&&!r)this.reset();else if(t.eventType&_t)this.reset(),this._timer=e(function(){this.state=te,this.tryEmit()},n.time,this);else if(t.eventType&yt)return te;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===te&&(t&&t.eventType&yt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ut(),this.manager.emit(this.options.event,this._input)))}}),s(Z,X,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Kt)}}),s(Q,X,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Tt|Et,pointers:1},getTouchAction:function(){return G.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Tt|Et)?e=t.velocity:n&Tt?e=t.velocityX:n&Et&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&ct(e)>this.options.velocity&&t.eventType&yt},emit:function(t){var e=U(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),s(tt,j,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:10,posThreshold:10},getTouchAction:function(){return[Ut]},process:function(t){var n=this.options,i=t.pointers.length===n.pointers,o=t.distance<n.threshold,r=t.deltaTime<n.time;if(this.reset(),t.eventType&_t&&0===this.count)return this.failTimeout();if(o&&r&&i){if(t.eventType!=yt)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||A(this.pCenter,t.center)<n.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;if(0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=e(function(){this.state=te,this.tryEmit()},n.interval,this),Kt):te}return 32},failTimeout:function(){return this._timer=e(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==te&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.4",et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Z,{enable:!1}],[J,{enable:!1},["rotate"]],[Q,{direction:Tt}],[G,{direction:Tt},["swipe"]],[tt],[tt,{event:"doubletap",taps:2},["tap"]],[K]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};return nt.prototype={set:function(t){return o(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&te)&&(o=e.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(Kt|Zt|Qt)&&(o=e.curRecognizer=n),r++}},get:function(t){if(t instanceof j)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(n(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(n(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(m(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return i(f(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return i(f(t),function(t){e?n[t].splice(m(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&ot(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&it(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(et,{INPUT_START:_t,INPUT_MOVE:vt,INPUT_END:yt,INPUT_CANCEL:bt,STATE_POSSIBLE:Jt,STATE_BEGAN:Kt,STATE_CHANGED:Zt,STATE_ENDED:Qt,STATE_RECOGNIZED:te,STATE_CANCELLED:ee,STATE_FAILED:32,DIRECTION_NONE:wt,DIRECTION_LEFT:$t,DIRECTION_RIGHT:xt,DIRECTION_UP:St,DIRECTION_DOWN:Ct,DIRECTION_HORIZONTAL:Tt,DIRECTION_VERTICAL:Et,DIRECTION_ALL:kt,Manager:nt,Input:w,TouchAction:z,TouchInput:B,MouseInput:O,PointerEventInput:N,TouchMouseInput:F,SingleTouchInput:V,Recognizer:j,AttrRecognizer:X,Tap:tt,Pan:G,Swipe:Q,Pinch:J,Rotate:Z,Press:K,on:u,off:h,each:i,merge:r,extend:o,inherit:s,bindFn:a,prefixed:v}),"object"==typeof module&&module.exports,et}(),a=function(e){function n(t){this.cfg=i.mix({width:0,height:0},t),this.init()}var i=t;return i.mix(n.prototype,{init:function(){var t=this;t._xtop=0,t._xright=0,t._xleft=0,t._xbottom=0,t.refresh({width:t.cfg.width,height:t.cfg.height})},reset:function(){return this.resetTop(),
this.resetLeft(),this.resetBottom(),this.resetRight(),this},resetTop:function(){return this._xtop=0,this.refresh(),this},resetLeft:function(){return this._xleft=0,this.refresh(),this},resetBottom:function(){return this._xbottom=0,this.refresh(),this},resetRight:function(){return this._xright=0,this.refresh(),this},expandTop:function(t){return this._xtop=t,this.refresh(),this},expandLeft:function(t){return this._xleft=t,this.refresh(),this},expandRight:function(t){return this._xright=t,this.refresh(),this},expandBottom:function(t){return this._xbottom=t,this.refresh(),this},refresh:function(t){return i.mix(this.cfg,t),this.top=this._xtop,this.left=this._xleft,this.bottom=(t&&t.height||this.cfg.height||0)-this._xbottom,this.right=(t&&t.width||this.cfg.width||0)-this._xright,this.width=this.right-this.left>0?this.right-this.left:0,this.height=this.bottom-this.top>0?this.bottom-this.top:0,this}}),"object"==typeof module&&module.exports,n}(),l=function(e){var i=t,o=n,r=i.prefixStyle("transform"),s=function(t){var e=t.stickyElement,n=t.curStickyElement,o=t.xscroll,r=t._,s=o.getPlugin("infinite");if(s){s.userConfig.renderHook.call(self,e,n),e.setAttribute("xs-guid",n.guid),i.addClass(e,n.className);for(var a in n.style)"display"!=a&&"position"!=a&&(e.style[a]=a==r.height?n.style[a]+"px":n.style[a])}else{var l=n.getAttribute("style");e.innerHTML=n.innerHTML,e.className=n.className,l&&e.setAttribute("style",l)}},a=function(t){a.superclass.constructor.call(this,t),this.userConfig=i.mix({stickyRenderTo:void 0,forceSticky:!0,prefix:"xs-sticky-container",stickyRenderFunc:s,zoomType:"y"},t),this.init()};return i.extend(a,o,{init:function(){var t=this,e=t.userConfig;t.xscroll=e.xscroll,t.isY=!("y"!=e.zoomType);return t._={top:t.isY?"top":"left",left:t.isY?"left":"bottom",right:t.isY?"right":"top",height:t.isY?"height":"width",width:t.isY?"width":"height"},t.stickyRenderTo=i.getNode(e.stickyRenderTo),t._handlers=[],t},getStickiesPos:function(){for(var t=this,e=(t.xscroll,t.isInfinite),n=t.isY,o=t._,r=[],s=0;s<t.stickiesNum;s++){var a=function(r){var s={};return e?(s[o.top]=n?r._top:r._left,s[o.height]=n?r._height:r._width):(s[o.top]=t.isY?i.getOffsetTop(r):i.getOffsetLeft(r),s[o.height]=t.isY?r.offsetHeight:r.offsetWidth),s}(t.stickyElements[s]);t._handlers[s]=t._handlers[s]||t.createStickyEl(),a.el=t._handlers[s],a.isRender=!1,r.push(a)}return r},getStickyElements:function(){var t=this,e=t.xscroll,n=(t.userConfig,t.isInfinite,e.getPlugin("infinite"));if(n){var o=[],r=n.__serializedData;for(var s in r){var a=r[s];a&&a.style&&"sticky"==a.style.position&&o.push(a)}return o}return i.getNodes(e.userConfig.stickyElements,e.content)},render:function(t){var e=this,n=e.userConfig,o=e.xscroll;e.isInfinite=!!o.getPlugin("infinite");var r=e._;if(e.stickyElements=e.getStickyElements(),e.stickiesNum=e.stickyElements&&e.stickyElements.length,e.stickiesNum){e.stickyRenderTo||(e.stickyRenderTo=document.createElement("div"),o.renderTo.appendChild(e.stickyRenderTo)),e.stickiesPos=e.getStickiesPos();var s=e.stickyRenderTo;s.style[r.top]=0,s.style[r.left]=0,s.style[r.right]=0,s.style.position=o.userConfig.useOriginScroll?"fixed":"absolute",i.addClass(e.stickyRenderTo,n.prefix),e.stickyHandler(t),e._bindEvt()}},createStickyEl:function(){var t=this,e=document.createElement("div");return e.style.display="none",i.addClass(e,"xs-sticky-handler"),t.stickyRenderTo.appendChild(e),e},_bindEvt:function(){var t=this;t.xscroll.on("scroll",t.stickyHandler,t)},stickyHandler:function(t){for(var e=this,n=e.xscroll,i=(e.userConfig,e.isY?n.getScrollTop():n.getScrollLeft()),o=e.stickiesPos,s=e._,a=[],l=0,c=o.length;l<c;l++){i>o[l][s.top]&&a.push(l)}if(!a.length)return e.stickyElement&&(e.stickyElement.style.display="none"),void(e.curStickyIndex=void 0);var u=Math.max.apply(null,a);if(e.curStickyIndex!=u||t){var h=e.curStickyIndex;e.curStickyIndex=u,e.curStickyElement=e.stickyElements[u],e.curStickyPos=o[u],e.stickyElement=e.curStickyPos.el;for(var l=0,c=o.length;l<c;l++)o[l].el.style.display="none";var d={stickyElement:e.stickyElement,curStickyIndex:e.curStickyIndex,prevStickyIndex:h,curStickyPos:e.curStickyPos,isRender:e.curStickyPos.isRender};n.trigger("beforestickychange",d),e._stickyRenderFunc(e),n.trigger("stickychange",d)}var p=0;if(e.stickiesPos[e.curStickyIndex+1]){var f=e.stickiesPos[e.curStickyIndex],m=e.stickiesPos[e.curStickyIndex+1];p=i+f[s.height]>m[s.top]&&i+f[s.height]<m[s.top]+f[s.height]?f[s.height]+i-m[s.top]:0}e.stickyElement.style[r]=e.isY?"translateY(-"+p+"px) translateZ(0)":"translateX(-"+p+"px) translateZ(0)"},_stickyRenderFunc:function(t){var e=this,n=e._,i=e.userConfig.stickyRenderFunc,o=e.curStickyPos.el;e.curStickyPos.isRender||(o.style[n.left]=0,o.style[n.right]=0,i&&i.call(e,t)),o.style.display="block",e.curStickyPos.isRender=!0},destroy:function(){var t=this;t.stickyElements=void 0,t.stickiesNum=void 0,t.stickiesPos=void 0,i.remove(t.stickyElement),t.stickyElement=void 0}}),"object"==typeof module&&module.exports,a}(),c=function(e){var i=t,o=n,r=(i.prefixStyle("transform"),function(t){r.superclass.constructor.call(this,t),this.userConfig=i.mix({fixedRenderTo:void 0,fixedElements:".xs-fixed",prefix:"xs-fixed-container",zoomType:"y"},t),this.init()});return i.extend(r,o,{fixedElements:[],init:function(){var t=this,e=t.userConfig,n=t.xscroll=e.xscroll;t.xscrollConfig=n.userConfig;return t.isY=!("y"!=e.zoomType),t._=t.isY?{top:"top",height:"height",width:"width",offsetTop:"offsetTop"}:{top:"left",height:"width",width:"height",offsetTop:"offsetLeft"},t.fixedRenderTo=i.getNode(e.fixedRenderTo),t},render:function(){var t=this,e=t.xscroll;t.infinite=e.getPlugin("infinite"),t.fixedRenderTo||(t.fixedRenderTo=document.createElement("div"),e.renderTo.appendChild(t.fixedRenderTo)),i.addClass(t.fixedRenderTo,t.userConfig.prefix);for(var n=t.originalFixedElements=t.getFixedElements(),o=0,r=n.length;o<r;o++)t.renderFixedElement(n[o],o,t.fixedRenderTo);return t},getFixedElements:function(){var t=this,e=t.infinite,n=t.userConfig;if(e){var o=[];for(var r in e.__serializedData){var s=e.__serializedData[r];s&&s.style&&"fixed"==s.style.position&&o.push(s)}return o}return i.getNodes(n.fixedElements,t.xscroll.content)},renderFixedElement:function(t,e,n){var o=this,r=!0,s=o._,a=o.xscroll,l=(o.userConfig,o.xscrollConfig),c=l.useOriginScroll,u=o.infinite,h=o.fixedElements[e];o.fixedElements[e]||(r=!1,c&&!u?(t.style.position="fixed",t.style.display="block"):(h=document.createElement("div"),u?(h.setAttribute("style",i.stringifyStyle(i.mix(t.style,{display:"block",width:"100%"}))),h.style[s.top]=(t.style[s.top]>=0?t.style[s.top]:t._top)+"px",t.style[s.height]&&(h.style[s.height]=t.style[s.height]+"px"),u.userConfig.renderHook.call(o,h,t)):(h.style.display="block",h.style.position="absolute",h.style[s.width]="100%",h.innerHTML=t.innerHTML,h.className=t.className,h.setAttribute("style",t.getAttribute("style")),h.style[s.top]=t[s.offsetTop]+"px",t.style.display="none"),n.appendChild(h),o.fixedElements.push(h))),a.trigger("fixedchange",{fixedIndex:e,fixedElement:c?t:h,originalFixedElement:t,isRender:r})},destroy:function(){this.fixedElements=void 0}}),"object"==typeof module&&module.exports,r}(),u=function(e){function i(t){i.superclass.constructor.call(this),this.userConfig=t,this.init()}var o=t,r=n,u=a,h=s,d=l,p=c;return o.extend(i,r,{version:"3.0.13",init:function(){var t=this,e={preventDefault:!0,bounce:!0,boundryCheck:!0,useTransition:!0,gpuAcceleration:!0,BOUNDRY_CHECK_EASING:"ease",BOUNDRY_CHECK_DURATION:500,BOUNDRY_CHECK_ACCELERATION:.1,useOriginScroll:!1,zoomType:"y",indicatorInsets:{top:3,bottom:3,left:3,right:3,width:3,spacing:5},container:".xs-container",content:".xs-content",stickyElements:".xs-sticky",fixedElements:".xs-fixed",touchAction:"auto"};t.guid=o.guid(),t.renderTo=o.getNode(t.userConfig.renderTo),t.__timers={};var n=JSON.parse(t.renderTo.getAttribute("xs-cfg")),i=t.userConfig=o.mix(o.mix(e,n),t.userConfig);return t.container=o.getNode(i.container,t.renderTo),t.content=o.getNode(i.content,t.renderTo),t.boundry=new u,t.boundry.refresh(),t},destroy:function(){var t=this;t.mc&&t.mc.destroy(),t.sticky&&t.sticky.destroy(),t.fixed&&t.fixed.destroy()},_initContainer:function(){},enableGPUAcceleration:function(){return this.userConfig.gpuAcceleration=!0,this},disableGPUAcceleration:function(){return this.userConfig.gpuAcceleration=!1,this},getScrollPos:function(){var t=this;return{scrollLeft:t.getScrollLeft(),scrollTop:t.getScrollTop()}},getScrollTop:function(){},getScrollLeft:function(){},scrollTo:function(t,e,n,i,o){var r=this,t=void 0===t||isNaN(t)?-r.getScrollLeft():t,e=void 0===e||isNaN(e)?-r.getScrollTop():e;r.scrollLeft(t,n,i,o),r.scrollTop(e,n,i,o)},scrollBy:function(t,e,n,i,o){this.scrollByX(t,n,i,o),this.scrollByY(e,n,i,o)},scrollLeftBy:function(t,e,n,i){this.scrollLeft(Number(t)+Number(this.getScrollLeft()),e,n,i)},scrollTopBy:function(t,e,n,i){this.scrollTop(Number(t)+Number(this.getScrollTop()),e,n,i)},scrollLeft:function(t,e,n,i){},scrollTop:function(t,e,n,i){},resetSize:function(){var t=this;if(t.container&&t.content){var e=t.userConfig,n=getComputedStyle(t.renderTo),i=(t.width=(e.width||t.renderTo.offsetWidth)-o.px2Num(n["padding-left"])-o.px2Num(n["padding-right"]),t.height=(e.height||t.renderTo.offsetHeight)-o.px2Num(n["padding-top"])-o.px2Num(n["padding-bottom"]),e.containerWidth||t.content.offsetWidth),r=e.containerHeight||t.content.offsetHeight;return t.containerWidth=i<t.width?t.width:i,t.containerHeight=r<t.height?t.height:r,t.boundry.refresh({width:t.width,height:t.height}),t}},render:function(){var t=this;return t.resetSize(),t.initSticky(),t.initFixed(),t.trigger("afterrender",{type:"afterrender"}),t._bindEvt(),t.initTouchAction(),t},initTouchAction:function(){var t=this;return t.mc.set({touchAction:t.userConfig.touchAction}),t},initFixed:function(){var t=this,e=t.userConfig;return t.fixed=t.fixed||new p({fixedElements:e.fixedElements,xscroll:t,fixedRenderTo:e.fixedRenderTo}),t.fixed.render(),t.resetSize(),t},initSticky:function(){var t=this,e=t.userConfig;(t.sticky=t.sticky||new d({xscroll:t,zoomType:e.zoomType,stickyRenderTo:e.stickyRenderTo})).render()},boundryCheck:function(){return this},boundryCheckX:function(){return this},boundryCheckY:function(){return this},_bindEvt:function(){var t=this;if(!t.___isEvtBind){t.___isEvtBind=!0;var e=t.mc=new h.Manager(t.renderTo),n=new h.Tap,i=new h.Pan;new h.Pinch;e.add([n,i]),t.mc.on("panstart pan panend pancancel pinchstart pinchmove pinchend pinchcancel pinchin pinchout",function(e){t.trigger(e.type,e)});for(var o=["touchstart","touchmove","touchend","touchcancel","mousedown"],r=0,s=o.length;r<s;r++)t.renderTo.addEventListener(o[r],function(e){t.trigger(e.type,e)});return t.mc.on("tap",function(e){1==e.tapCount?(e.type="tap",t.trigger(e.type,e)):2==e.tapCount&&(e.type="doubletap",t.trigger("doubletap",e))}),t}},_resetLockConfig:function(){},stop:function(){}}),"object"==typeof module&&module.exports,i}(),h=function(e){var n=t,i=r,o=n.prefixStyle("transform"),s=n.vendor?["-",n.vendor,"-transform"].join(""):"transform",a=n.prefixStyle("transition"),l=(n.prefixStyle("borderRadius"),n.prefixStyle("transitionDuration"),function(t){this.userConfig=n.mix({MIN_BAR_SCROLLED_SIZE:10,MIN_BAR_SIZE:50,MAX_BOUNCE_DISTANCE:40,spacing:5},t),this.init(t.xscroll)});return n.mix(l.prototype,{init:function(t){var e=this;e.xscroll=t,e.type=e.userConfig.type,e.isY="y"==e.type,e.scrollTopOrLeft=e.isY?"scrollTop":"scrollLeft"},destroy:function(){var t=this;n.remove(t.scrollbar),t.xscroll.off("scroll",t._scrollHandler,t),t.xscroll.off("scrollend",t._scrollEndHandler,t)},render:function(){var t=this,e=t.xscroll,i=(e.boundry,t.xscroll.userConfig.indicatorInsets),o=e.userConfig.gpuAcceleration?" translateZ(0) ":"",r=o?s+":"+o+";":"",a="opacity:0;position:absolute;z-index:999;overflow:hidden;-webkit-border-radius:3px;-moz-border-radius:3px;-o-border-radius:3px;"+r;i._xright=i.right+i.spacing,i._xbottom=i.bottom+i.spacing;var l=t.isY?n.substitute("width:{width}px;bottom:{_xbottom}px;top:{top}px;right:{right}px;",i)+a:n.substitute("height:{width}px;left:{left}px;right:{_xright}px;bottom:{bottom}px;",i)+a;t.scrollbar||(t.scrollbar=document.createElement("div"),t.indicate=document.createElement("div"),e.renderTo.appendChild(t.scrollbar),t.scrollbar.appendChild(t.indicate)),t.scrollbar.style.cssText=l;var c=t.isY?"width:100%;":"height:100%;";t.indicate.style.cssText=c+"position:absolute;background:rgba(0,0,0,0.3);-webkit-border-radius:3px;-moz-border-radius:3px;-o-border-radius:3px;",t._update(),t.hide(0),t._bindEvt()},_update:function(t,e,n,i){var o=this,t=void 0===t?o.isY?o.xscroll.getScrollTop():o.xscroll.getScrollLeft():t,r=o.computeScrollBar(t),s=o.isY?"height":"width";o.indicate.style[s]=Math.round(r.size)+"px",e&&n?o.scrollTo(r.pos,e,n,i):o.moveTo(r.pos)},computeScrollBar:function(t){var e=this,n=(e.isY,e.userConfig.spacing),i=e.xscroll,o=i.boundry,r=e.userConfig,t=e.isY?Math.round(t)+o._xtop:Math.round(t)+o._xleft,s=r.MIN_BAR_SCROLLED_SIZE,a=r.MIN_BAR_SIZE,l=r.MAX_BOUNCE_DISTANCE;e.containerSize=e.isY?i.containerHeight+o._xtop+o._xbottom:e.xscroll.containerWidth+o._xright+o._xleft,e.size=e.isY?o.cfg.height:o.cfg.width,e.indicateSize=e.isY?o.cfg.height-2*n:o.cfg.width-2*n;var c=e.indicateSize,u=e.containerSize,h=c*t/u,d=Math.round(c*e.size/u),p=e.isY?i.getBoundryOutTop():i.getBoundryOutLeft(),f=e.isY?i.getBoundryOutBottom():i.getBoundryOutRight(),m=a-d>0?a-d:0;if(d=d<a?a:d,h=(c-m)*t/u,p>=0){var g=p/l;g=g>1?1:g,h=-g*(d-s)}if(f>=0){var g=f/l;g=g>1?1:g,h=g*(d-s)+c-d}return e.barPos=Math.round(h),{size:Math.round(d),pos:e.barPos}},scrollTo:function(t,e,n,o){var r=this;r.show();var s=r.xscroll.userConfig.gpuAcceleration?" translateZ(0) ":"",a={css:{transform:r.isY?"translateY("+t+"px)"+s:"translateX("+t+"px)"+s},duration:e,easing:n,useTransition:r.xscroll.userConfig.useTransition,end:o};r.__timer=r.__timer||new i(r.indicate,a),r.__timer.stop(),r.__timer.reset(a),r.__timer.run()},moveTo:function(t){var e=this;e.show();var n=e.xscroll.userConfig.gpuAcceleration?" translateZ(0) ":"";e.isY?e.indicate.style[o]="translateY("+t+"px) "+n:e.indicate.style[o]="translateX("+t+"px) "+n,e.indicate.style[a]=""},_scrollHandler:function(t){var e=this;return e._update(t[e.scrollTopOrLeft]),e},isBoundryOut:function(){var t=this;return t.isY?t.xscroll.isBoundryOutTop()||t.xscroll.isBoundryOutBottom():t.xscroll.isBoundryOutLeft()||t.xscroll.isBoundryOutRight()},_scrollEndHandler:function(t){var e=this;return e.isBoundryOut()||(e._update(t[e.scrollTopOrLeft]),e.hide()),e},_bindEvt:function(){var t=this;t.__isEvtBind||(t.__isEvtBind=!0,t.xscroll.on("scroll",t._scrollHandler,t),t.xscroll.on("scrollend",t._scrollEndHandler,t))},reset:function(){var t=this;t.pos=0,t._update()},hide:function(t,e,n){var i=this,t=t>=0?t:300,n=n>=0?n:100;i.scrollbar.style.opacity=0,i.scrollbar.style[a]=["opacity ",t,"ms "," ease-out ",n,"ms"].join("")},show:function(){var t=this;t.scrollbar.style.opacity=1,t.scrollbar.style[a]=""}}),"object"==typeof module&&module.exports,l}(),d=function(e){var i=t,o=n,r=function(t){r.superclass.constructor.call(this,t),this.userConfig=i.mix({},t),this.init()};return i.extend(r,o,{init:function(){var t=this;t.xscroll=t.userConfig.xscroll},add:function(t,e){var n=this;if(e=i.extend({captureBounce:!1,stopPropagation:!0},e),n.__scrolls||(n.__scrolls={}),t.guid&&!n.__scrolls[t.guid])return t.parentscroll=n.xscroll,n._bind(t),n.__scrolls[t.guid]=t},remove:function(t){var e=this;if(t&&t.guid){var n=e.__scrolls[t.guid];n&&(n.parentscroll=null,e._unbind(t),n=null)}},get:function(t){return t?this.__scrolls[t]:this.__scrolls},_unbind:function(t){},_bind:function(t){var e=this,n=e.xscroll;n.renderTo.addEventListener("touchstart",function(){n._resetLockConfig()}),t.renderTo.addEventListener("touchstart",function(){t._resetLockConfig()}),n.on("panend",n._resetLockConfig),t.on("panend",t._resetLockConfig),t.on("panstart",function(e){if(!t.userConfig.lockY&&!n.userConfig.lockY){if(t.isBoundryOut())return void(n.userConfig.lockY=!0);16==e.direction&&t.getBoundryOutTop()>=0?t.userConfig.lockY=!0:8==e.direction&&t.getBoundryOutTop()>=0&&t.getBoundryOutBottom()<0&&(n.userConfig.lockY=!0),8==e.direction&&t.getBoundryOutBottom()>=0?t.userConfig.lockY=!0:16==e.direction&&t.getBoundryOutBottom()>=0&&t.getBoundryOutTop()<0&&(n.userConfig.lockY=!0),t.getBoundryOutTop()<0&&t.getBoundryOutBottom()<0&&(n.userConfig.lockY=!0)}if(!t.userConfig.lockX&&!n.userConfig.lockX){if(t.isBoundryOut())return void(n.userConfig.lockX=!0);4==e.direction&&t.getBoundryOutLeft()>=0?t.userConfig.lockX=!0:2==e.direction&&t.getBoundryOutLeft()>=0&&t.getBoundryOutRight()<0&&(n.userConfig.lockX=!0),2==e.direction&&t.getBoundryOutRight()>=0?t.userConfig.lockX=!0:4==e.direction&&t.getBoundryOutRight()>=0&&t.getBoundryOutLeft()<0&&(n.userConfig.lockX=!0),t.getBoundryOutLeft()<0&&t.getBoundryOutRight()<0&&(n.userConfig.lockX=!0)}!t.userConfig.lockX&&n.userConfig.lockX&&(2==e.direction||4==e.direction?n.userConfig.lockY=!0:t.userConfig.lockX=!0),!t.userConfig.lockY&&n.userConfig.lockY&&(8==e.direction||16==e.direction?n.userConfig.lockX=!0:t.userConfig.lockY=!0)})}}),"object"==typeof module&&module.exports,r}(),p=function(e){function n(t){n.superclass.constructor.call(this,t)}var i=t,o=u,a=r,l=s,c=h,p=d,f=i.prefixStyle("transformOrigin"),m=i.prefixStyle("transform");return i.extend(n,o,{init:function(){var t=this,e={preventDefault:!0,preventTouchMove:!0};return n.superclass.init.call(this),t.userConfig=i.mix(e,t.userConfig),t.SCROLL_ACCELERATION=t.userConfig.SCROLL_ACCELERATION||5e-4,t.BOUNDRY_ACCELERATION=t.userConfig.BOUNDRY_ACCELERATION||.03,t._initContainer(),t.resetSize(),t._setOverflowBehavior(),t.defaltConfig={lockY:t.userConfig.lockY,lockX:t.userConfig.lockX},t},destroy:function(){var t=this;n.superclass.destroy.call(this),t.renderTo.style.overflow="",t.renderTo.style.touchAction="",t.container.style.transform="",t.container.style.transformOrigin="",t.content.style.transform="",t.content.style.transformOrigin="",t.off("touchstart mousedown",t._ontouchstart),t.off("touchmove",t._ontouchmove),t.destroyScrollBars()},_setOverflowBehavior:function(){var t=this,e=t.renderTo,n=getComputedStyle(e);return t.userConfig.lockX=void 0===t.userConfig.lockX?"hidden"==n["overflow-x"]||t.width==t.containerWidth:t.userConfig.lockX,t.userConfig.lockY=void 0===t.userConfig.lockY?"hidden"==n["overflow-y"]||t.height==t.containerHeight:t.userConfig.lockY,t.userConfig.scrollbarX=void 0===t.userConfig.scrollbarX?!t.userConfig.lockX:t.userConfig.scrollbarX,t.userConfig.scrollbarY=void 0===t.userConfig.scrollbarY?!t.userConfig.lockY:t.userConfig.scrollbarY,t},_resetLockConfig:function(){var t=this;return t.userConfig.lockX=t.defaltConfig.lockX,t.userConfig.lockY=t.defaltConfig.lockY,t},_initContainer:function(){var t=this;if(n.superclass._initContainer.call(t),!t.__isContainerInited&&t.container&&t.content)return t.container.style[f]="0 0",t.content.style[f]="0 0",t.translate(0,0),t.__isContainerInited=!0,t},getScrollTop:function(){var t=window.getComputedStyle(this.container)[m].match(/[-\d\.*\d*]+/g);return t?0===Math.round(t[5])?0:-Math.round(t[5]):0},getScrollLeft:function(){var t=window.getComputedStyle(this.content)[m].match(/[-\d\.*\d*]+/g);return t?0===Math.round(t[4])?0:-Math.round(t[4]):0},scrollLeft:function(t,e,n,i){if(!this.userConfig.lockX){var o=this.userConfig.gpuAcceleration?" translateZ(0) ":"";return this.x=void 0===t||isNaN(t)||0===t?0:-Math.round(t),this._animate("x","translateX("+this.x+"px) scale("+this.scale+")"+o,e,n,i),this}},scrollTop:function(t,e,n,i){if(!this.userConfig.lockY){var o=this.userConfig.gpuAcceleration?" translateZ(0) ":"";return this.y=void 0===t||isNaN(t)||0===t?0:-Math.round(t),this._animate("y","translateY("+this.y+"px) "+o,e,n,i),this}},translate:function(t,e,n){var i=this.userConfig.gpuAcceleration?" translateZ(0) ":"";return this.x=t||this.x||0,this.y=e||this.y||0,this.scale=n||this.scale||1,this.content.style[m]="translate("+this.x+"px,0px) scale("+this.scale+") "+i,this.container.style[m]="translate(0px,"+this.y+"px) "+i,this},_animate:function(t,e,n,i,o){var r=this,n=n||0,i=i||"quadratic",s="y"==t?r.container:r.content,l={css:{transform:e},duration:n,easing:i,run:function(t){r.trigger("scroll",{scrollTop:r.getScrollTop(),scrollLeft:r.getScrollLeft(),type:"scroll"})},useTransition:r.userConfig.useTransition,end:function(e){o&&o(),0!==r["_bounce"+t]&&void 0!==r["_bounce"+t]||"linear"==i||(r["isScrolling"+t.toUpperCase()]=!1,r["isRealScrolling"+t.toUpperCase()]=!1,r.trigger("scrollend",{type:"scrollend",scrollTop:r.getScrollTop(),scrollLeft:r.getScrollLeft(),zoomType:t,duration:n,easing:i}))}},c=r.__timers[t]=r.__timers[t]||new a(s,l);return c.stop(),c.reset(l),c.run(),r.trigger("scrollanimate",{type:"scrollanimate",scrollTop:-r.y,scrollLeft:-r.x,duration:n,easing:i,zoomType:t}),this},_ontap:function(t){var e=this;e.boundryCheck(),e._unPreventHref(t),e.isRealScrollingX||e.isRealScrollingY||e._triggerClick(t),e._preventHref(t),e.isRealScrollingY=!1,e.isRealScrollingY=!1},_bindEvt:function(){n.superclass._bindEvt.call(this);var t=this;if(!t.__isEvtBind){t.__isEvtBind=!0;var e=new l.Pinch;return t.mc.add(e),t.on("touchstart mousedown",t._ontouchstart,t),t.on("touchmove",t._ontouchmove,t),t.on("tap",t._ontap,t),t.on("panstart",t._onpanstart,t),t.on("pan",t._onpan,t),t.on("panend",t._onpanend,t),window.addEventListener("resize",function(e){setTimeout(function(){t.resetSize(),t.boundryCheck(0),t.render()},100)},t),this}},_ontouchstart:function(t){var e=this;!/(SELECT|INPUT|TEXTAREA)/i.test(t.target.tagName)&&e.userConfig.preventDefault&&t.preventDefault(),e.render(),e.stop()},_ontouchmove:function(t){this.userConfig.preventTouchMove&&t.preventDefault()},_onpanstart:function(t){this.userConfig.preventTouchMove&&t.preventDefault();var e=this;e.render();var n=e.getScrollLeft(),i=e.getScrollTop();e.stop(),e.translate(-n,-i);var o=e.mc.get("pan").options.threshold;return e.thresholdY="8"==t.direction?o:"16"==t.direction?-o:0,e.thresholdX="2"==t.direction?o:"4"==t.direction?-o:0,e},_onpan:function(t){this.userConfig.preventTouchMove&&t.preventDefault();var e=this,n=e.boundry,i=e.userConfig,o=i.boundryCheck,r=i.bounce,s=e.__topstart||(e.__topstart=-e.getScrollTop()),a=e.__leftstart||(e.__leftstart=-e.getScrollLeft()),l=i.lockY?Number(s):Number(s)+(t.deltaY+e.thresholdY),c=i.lockX?Number(a):Number(a)+(t.deltaX+e.thresholdX),u=e.containerWidth,h=e.containerHeight;return o&&(l=l>n.top?r?.382*(l-n.top)+n.top:n.top:l,l=l<n.bottom-h?r?l+.382*(n.bottom-h-l):n.bottom-h:l,c=c>n.left?r?.382*(c-n.left)+n.left:n.left:c,c=c<n.right-u?r?c+.382*(n.right-u-c):n.right-u:c),e.translate(c,l),e.directionX="panleft"==t.type?"right":"panright"==t.type?"left":"",e.directionY="panup"==t.type?"down":"pandown"==t.type?"up":"",e.trigger("scroll",{scrollTop:-l,scrollLeft:-c,triggerType:"pan",type:"scroll"}),e},_onpanend:function(t){var e,n=this,i=(n.userConfig,n.computeScroll("x",t.velocityX)),o=n.computeScroll("y",t.velocityY),r=i?i.pos:0,s=o?o.pos:0;return i&&o&&"inside"==i.status&&"inside"==o.status&&i.duration&&o.duration&&(e=Math.max(i.duration,o.duration)),i&&n.scrollLeft(r,e||i.duration,i.easing,function(t){n.boundryCheckX()}),o&&n.scrollTop(s,e||o.duration,o.easing,function(t){n.boundryCheckY()}),n.directionX=t.velocityX<0?"left":"right",n.directionY=t.velocityY<0?"up":"down",n.__topstart=null,n.__leftstart=null,n},isBoundryOut:function(){return this.isBoundryOutLeft()||this.isBoundryOutRight()||this.isBoundryOutTop()||this.isBoundryOutBottom()},isBoundryOutLeft:function(){return this.getBoundryOutLeft()>0},isBoundryOutRight:function(){return this.getBoundryOutRight()>0},isBoundryOutTop:function(){return this.getBoundryOutTop()>0},isBoundryOutBottom:function(){return this.getBoundryOutBottom()>0},getBoundryOutTop:function(){return-this.boundry.top-this.getScrollTop()},getBoundryOutLeft:function(){return-this.boundry.left-this.getScrollLeft()},getBoundryOutBottom:function(){return this.boundry.bottom-this.containerHeight+this.getScrollTop()},getBoundryOutRight:function(){return this.boundry.right-this.containerWidth+this.getScrollLeft()},computeScroll:function(t,e){var n=this,i=n.userConfig,o=n.boundry,r="x"==t?n.getScrollLeft():n.getScrollTop(),s="x"==t?o.left:o.top,a="x"==t?o.right:o.bottom,l="x"==t?n.containerWidth:n.containerHeight,c=i.maxSpeed||2,u=i.boundryCheck,h=i.bounce,d={},p="inside";if(u){if("x"==t&&(n.isBoundryOutLeft()||n.isBoundryOutRight()))return void n.boundryCheckX();if("y"==t&&(n.isBoundryOutTop()||n.isBoundryOutBottom()))return void n.boundryCheckY()}if(!("x"==t&&n.userConfig.lockX||"y"==t&&n.userConfig.lockY)){e=e>c?c:e<-c?-c:e;var f=n.SCROLL_ACCELERATION*(e/(Math.abs(e)||1)),m=n.BOUNDRY_ACCELERATION,g=isNaN(e/f)?0:e/f,_=Number(r)+g*e/2;if(_<-s&&u){var v=-s-r,y=(Math.sqrt(-2*f*v+e*e)+e)/f,b=e-f*y,w=Math.abs(b/m),$=b/2*w;g=y+w,_=h?-s+$:-s,p="outside"}else if(_>l-a&&u){var v=a-l+r,y=(Math.sqrt(-2*f*v+e*e)-e)/f,b=e-f*y,w=Math.abs(b/m),$=b/2*w;g=y+w,_=h?l-a+$:l-a,p="outside"}if(!isNaN(_)&&!isNaN(g)){d.pos=_,d.duration=g,d.easing=Math.abs(e)>2?"circular":"quadratic",d.status=p;var x=t.toUpperCase();return n["isScrolling"+x]=!0,n["isRealScrolling"+x]=!0,d}}},boundryCheckX:function(t,e,n){var i=this;if(i.userConfig.boundryCheck&&("function"==typeof arguments[0]?(n=arguments[0],t=i.userConfig.BOUNDRY_CHECK_DURATION,e=i.userConfig.BOUNDRY_CHECK_EASING):(t=0===t?0:i.userConfig.BOUNDRY_CHECK_DURATION,e=e||i.userConfig.BOUNDRY_CHECK_EASING),i.userConfig.bounce&&!i.userConfig.lockX)){var o=i.boundry;return i.isBoundryOutLeft()?i.scrollLeft(-o.left,t,e,n):i.isBoundryOutRight()&&i.scrollLeft(i.containerWidth-o.right,t,e,n),i}},boundryCheckY:function(t,e,n){var i=this;if(i.userConfig.boundryCheck&&("function"==typeof arguments[0]?(n=arguments[0],t=i.userConfig.BOUNDRY_CHECK_DURATION,e=i.userConfig.BOUNDRY_CHECK_EASING):(t=0===t?0:i.userConfig.BOUNDRY_CHECK_DURATION,e=e||i.userConfig.BOUNDRY_CHECK_EASING),i.userConfig.boundryCheck&&!i.userConfig.lockY)){var o=i.boundry;return i.isBoundryOutTop()?i.scrollTop(-o.top,t,e,n):i.isBoundryOutBottom()&&i.scrollTop(i.containerHeight-o.bottom,t,e,n),i}},boundryCheck:function(t,e,n){return this.boundryCheckX(t,e,n),this.boundryCheckY(t,e,n),this},stop:function(){var t=this;if(t.__timers.x&&t.__timers.x.stop(),t.__timers.y&&t.__timers.y.stop(),t.isScrollingX||t.isScrollingY){var e=t.getScrollTop(),n=t.getScrollLeft();t.trigger("scrollend",{scrollTop:e,scrollLeft:n}),t.trigger("stop",{scrollTop:e,scrollLeft:n}),t.isScrollingX=!1,t.isScrollingY=!1}return t},render:function(){var t=this;return n.superclass.render.call(this),"static"==getComputedStyle(t.renderTo).position&&(t.renderTo.style.position="relative"),t.renderTo.style.overflow="hidden",t.initScrollBars(),t.initController(),t},initScrollBars:function(){var t=this;if(t.userConfig.boundryCheck){var e=t.userConfig.indicatorInsets;return t.userConfig.scrollbarX&&(t.scrollbarX=t.scrollbarX||new c({xscroll:t,type:"x",spacing:e.spacing}),t.scrollbarX.render(),t.scrollbarX._update(),t.scrollbarX.hide()),t.userConfig.scrollbarY&&(t.scrollbarY=t.scrollbarY||new c({xscroll:t,type:"y",spacing:e.spacing}),t.scrollbarY.render(),t.scrollbarY._update(),t.scrollbarY.hide()),t}},destroyScrollBars:function(){return this.scrollbarX&&this.scrollbarX.destroy(),this.scrollbarY&&this.scrollbarY.destroy(),this},initController:function(){var t=this;return t.controller=t.controller||new p({xscroll:t}),t},_unPreventHref:function(t){var e=i.findParentEl(t.target,"a",this.renderTo);if(e&&"a"==e.tagName.toLowerCase()){var n=e.getAttribute("data-xs-href");n&&e.setAttribute("href",n)}},_preventHref:function(t){var e=i.findParentEl(t.target,"a",this.renderTo);if(e&&"a"==e.tagName.toLowerCase()){var n=e.getAttribute("href");n&&e.setAttribute("href","javascript:void(0)"),n&&e.setAttribute("data-xs-href",n)}},_triggerClick:function(t){var e=t.target;if(!/(SELECT|INPUT|TEXTAREA)/i.test(e.tagName)){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,t.view,1,e.screenX,e.screenY,e.clientX,e.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e.dispatchEvent(n)}}}),"object"==typeof module&&module.exports,n}(),f=function(e){function n(t){n.superclass.constructor.call(this,t)}var i=t,o=u,s=r;i.prefixStyle("transformOrigin");return i.extend(n,o,{init:function(){var t=this;n.superclass.init.call(this),t.resetSize()},getScrollTop:function(){return this.renderTo.scrollTop},getScrollLeft:function(){return this.renderTo.scrollLeft},scrollTop:function(t,e,n,i){var o=this,t=Math.round(t);if(!o.userConfig.lockY){var e=e||0,n=n||"quadratic",r={css:{scrollTop:t},duration:e,easing:n,run:function(t){o.trigger("scroll",{scrollTop:o.getScrollTop(),scrollLeft:o.getScrollLeft()})},useTransition:!1,end:i};o.__timers.y=o.__timers.y||new s(o.renderTo,r),o.__timers.y.stop(),o.__timers.y.reset(r),o.__timers.y.run()}},scrollLeft:function(t,e,n,i){var o=this,t=Math.round(t);if(!o.userConfig.lockX){var e=e||0,n=n||"quadratic",r={css:{scrollLeft:t},duration:e,easing:n,run:function(t){o.trigger("scroll",{scrollTop:o.getScrollTop(),scrollLeft:o.getScrollLeft()})},useTransition:!1,end:i};o.__timers.x=o.__timers.x||new s(o.renderTo,r),o.__timers.x.stop(),o.__timers.x.reset(r),o.__timers.x.run()}},_bindEvt:function(){n.superclass._bindEvt.call(this);var t=this;t.__isEvtBind||(t.__isEvtBind=!0,t.renderTo.addEventListener("scroll",function(e){t.trigger("scroll",{type:"scroll",scrollTop:t.getScrollTop(),scrollLeft:t.getScrollLeft()})},!1))}}),"object"==typeof module&&module.exports,n}(),function(e){var i=t,a=n,l=o,c=r,u=s,h=p,d=f,m=function(t){return new(t&&t.useOriginScroll?d:h)(t)};m.Util=i,m.Base=a,m.Timer=l,m.Animate=c,m.Hammer=u,m.Plugins={},"object"==typeof module&&module.exports||(window.XScroll=m)}()}(),function(){var t={},e={},n={},i={};t=function(t){function e(){}function n(t,n){var i;return Object.create?i=Object.create(t):(e.prototype=t,i=new e),i.constructor=n,i}function i(t,e){if(t){if(t.nodeType)return[t];var e=e&&e.nodeType?e:document;return t&&"string"==typeof t?e.querySelectorAll(t):void 0}}for(var o=/\\?\{([^{}]+)\}/g,r=/^[\s\xa0]+|[\s\xa0]+$/g,s=String.prototype.trim,a=s?function(t){return null==t?"":s.call(t)}:function(t){return null==t?"":(t+"").replace(r,"")},l=0,c=function(t){var e=t.offsetTop;return null!=t.offsetParent&&(e+=c(t.offsetParent)),e},u=function(t){var e=t.offsetLeft;return null!=t.offsetParent&&(e+=u(t.offsetParent)),e},h=({isObject:function(t){return t===Object(t)},isArray:Array.isArray||function(t){return"[object Array]"==toString.call(t)},isEmpty:function(t){if(null==t)return!0;if(this.isArray(t)||this.isString(t))return 0===t.length;for(var e in t)if(this.has(t,e))return!1;return!0},mix:function(t,e,n){for(var i in e)t[i]=e[i];return t},extend:function(t,e,i,o){if(!e||!t)return t;var r,s=e.prototype;return r=n(s,t),t.prototype=this.mix(r,t.prototype),t.superclass=n(s,e),i&&this.mix(r,i),o&&this.mix(t,o),t},startsWith:function(t,e){return 0===t.lastIndexOf(e,0)},endsWith:function(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n},trim:a,substitute:function(t,e,n){return"string"==typeof t&&e?t.replace(n||o,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t},vendor:function(){for(var t=document.createElement("div").style,e=["t","webkitT","MozT","msT","OT"],n=0,i=e.length;n<i;n++)if(e[n]+"ransform"in t)return e[n].substr(0,e[n].length-1);return!1}(),prefixStyle:function(t){return!1!==this.vendor&&(""===this.vendor?t:this.vendor+t.charAt(0).toUpperCase()+t.substr(1))},hasClass:function(t,e){return t&&t.className&&e&&-1!=t.className.indexOf(e)},addClass:function(t,e){t&&e&&!this.hasClass(t,e)&&(t.className+=" "+e)},removeClass:function(t,e){t&&t.className&&e&&(t.className=t.className.replace(e,""))},remove:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},getOffsetTop:c,getOffsetLeft:u,findParentEl:function(t,e,n){var i=null,o=null,r=/^#/.test(e)?"id":/^\./.test(e)?"class":"tag",s=e.replace(/\.|#/g,"")
;if(n&&"string"==typeof n&&(n=document.querySelector(n)),n=n||document.body,t&&e){if("class"==r&&t.className&&t.className.match(s))return t;if("id"==r&&t.id&&a(t.id)==s)return t;if("tag"==r&&t.tagName.toLowerCase()==s)return t;for(;!i&&o!=n&&(o=t.parentNode);){if("class"==r&&o.className&&o.className.match(s)||"id"==r&&o.id&&a(o.id)==s||"tag"==r&&o.tagName&&o.tagName.toLowerCase()==s)return i=o;t=o}return null}},guid:function(t){var e=++l+"";return t?t+e:e},isAndroid:function(){return/Android /.test(window.navigator.appVersion)},isBadAndroid:function(){return/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)},px2Num:function(t){return Number(t.replace(/px/,""))},getNodes:i,getNode:function(t,e){var n=i(t,e);return n&&n[0]},stringifyStyle:function(t){var e="";for(var n in t)e+=[n,":",t[n],";"].join("");return e}}),d=["Arguments","Function","String","Number","Date","RegExp"],p=0;p<d.length;p++)h["is"+d[p]]=function(t){return toString.call(t)=="[object "+d[p]+"]"};return"object"==typeof module&&module.exports?h:h}(),e=function(e){var n=t,i=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},o={on:function(t,e,n){return s(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){if(!s(this,"once",t,[e,n])||!e)return this;var o=this,r=i(function(){o.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){if(!this._events||!s(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(var i=t?[t]:Object.keys(this._events),o=0,r=i.length;o<r;o++){t=i[o];var a=this._events[t];if(a)if(e||n){for(var l=[],c=0,u=a.length;c<u;c++){var h=a[c];(e&&e!==h.callback&&e!==h.callback._callback||n&&n!==h.context)&&l.push(h)}l.length?this._events[t]=l:delete this._events[t]}else delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=Array.prototype.slice.call(arguments,1);if(!s(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&a(n,e),i&&a(i,arguments),this},listenTo:function(t,e,i){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=n.guid("l"))]=t,i||"object"!=typeof e||(i=this),t.on(e,i,this),this},listenToOnce:function(t,e,n){if("object"==typeof e){for(var o in e)this.listenToOnce(t,o,e[o]);return this}var r=i(function(){this.stopListening(t,e,r),n.apply(this,arguments)});return r._callback=n,this.listenTo(t,e,r)},stopListening:function(t,e,i){var o=this._listeningTo;if(!o)return this;var r=!e&&!i;i||"object"!=typeof e||(i=this),t&&((o={})[t._listenId]=t);for(var s in o)t=o[s],t.off(e,i,this),(r||n.isEmpty(t._events))&&delete this._listeningTo[s];return this}},r=/\s+/,s=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var o in n)t[e].apply(t,[o,n[o]].concat(i));return!1}if(r.test(n)){for(var s=n.split(r),a=0,l=s.length;a<l;a++)t[e].apply(t,[s[a]].concat(i));return!1}return!0},a=function(t,e){var n,i=-1,o=t.length,r=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<o;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s,a);return;default:for(;++i<o;)(n=t[i]).callback.apply(n.ctx,e);return}};return o.bind=o.on,o.unbind=o.off,"object"==typeof module&&module.exports,o}(),n=function(n){var i=t,o=e,r=function(){};return i.mix(r.prototype,o),i.mix(r.prototype,{plug:function(t){var e=this;if(t&&t.pluginId){e.__plugins||(e.__plugins=[]);return e.getPlugin(t.pluginId)&&e.unplug(t.pluginId),t.pluginInitializer(e),e.__plugins.push(t),e}},unplug:function(t){var e=this;if(t&&e.__plugins){var n="string"==typeof t?e.getPlugin(t):t;n.pluginDestructor(e);for(var i=0,o=e.__plugins.length;i<o;i++)if(e.__plugins[i]==n)return e.__plugins.splice(i,1)}},getPlugin:function(t){var e=this,n=[];if(e.__plugins){for(var i=0,o=e.__plugins.length;i<o;i++)e.__plugins[i]&&e.__plugins[i].pluginId==t&&n.push(e.__plugins[i]);return n.length>1?n:n[0]||null}}}),"object"==typeof module&&module.exports,r}(),i=function(e){var i,o=t,r=n,s=function(t){s.superclass.constructor.call(this,t),this.userConfig=o.mix({content:"Pull Down To Refresh",height:60,autoRefresh:!0,downContent:"Pull Down To Refresh",upContent:"Release To Refresh",loadingContent:"Loading...",clsPrefix:"xs-plugin-pulldown-"},t)};if(o.extend(s,r,{pluginId:"pulldown",pluginInitializer:function(t){var e=this;return e.xscroll=t.render(),i=e.userConfig.clsPrefix,e.render(),e},pluginDestructor:function(){var t=this;o.remove(t.pulldown),t.xscroll.off("panstart",t._panStartHandler,t),t.xscroll.off("pan",t._panHandler,t),t.xscroll.off("panend",t._panEndHandler,t),t.__isRender=!1,t._evtBinded=!1},render:function(){var t=this;if(!t.__isRender){t.__isRender=!0;var e=i+"container",n=t.userConfig.height||60,r=t.pulldown=document.createElement("div");return r.className=e,r.style.position="absolute",r.style.width="100%",r.style.height=n+"px",r.style.lineHeight=n+"px",r.style.top=-n+"px",r.style.textAlign="center",t.xscroll.container.appendChild(r),t.status="up",o.addClass(r,i+t.status),r.innerHTML=t.userConfig[t.status+"Content"]||t.userConfig.content,t._bindEvt(),t}},_bindEvt:function(){var t=this;if(!t._evtBinded){t._evtBinded=!0;var e=(t.pulldown,t.xscroll);e.on("pan",t._panHandler,t),e.on("panstart",t._panStartHandler,t),e.on("panend",t._panEndHandler,t)}},_changeStatus:function(t){var e=this.status;this.status=t,o.removeClass(this.pulldown,i+e),o.addClass(this.pulldown,i+t),this.userConfig[t+"Content"]&&(this.pulldown.innerHTML=this.userConfig[t+"Content"]),e!=t&&(this.trigger("statuschange",{prevVal:e,newVal:t}),"loading"==t&&this.trigger("loading"))},reset:function(t){return this.xscroll.boundry.resetTop(),this.xscroll.boundryCheckY(t),this._expanded=!1,this._changeStatus("down"),this},_panStartHandler:function(t){clearTimeout(this.loadingItv)},_panHandler:function(t){var e=this,n=e.xscroll.getScrollTop();n>0||e._changeStatus(Math.abs(n)<e.userConfig.height?"down":"up")},_panEndHandler:function(t){var e=this,n=e.xscroll,i=e.userConfig.height||60;n.getScrollTop()<-i&&(t.preventDefault(),n.boundry.resetTop(),n.boundry.expandTop(i),n.boundryCheckY(function(){e._changeStatus("loading")}),e.userConfig.autoRefresh&&(clearTimeout(e.loadingItv),e.loadingItv=setTimeout(function(){n.boundry.resetTop(),n.boundryCheckY(function(){window.location.reload()})},800)))}}),"object"==typeof module&&module.exports)e=s;else if(window.XScroll&&window.XScroll.Plugins)return XScroll.Plugins.PullDown=s;return e}(i)}(),function(){var t={},e={},n={},i={};t=function(t){function e(){}function n(t,n){var i;return Object.create?i=Object.create(t):(e.prototype=t,i=new e),i.constructor=n,i}function i(t,e){if(t){if(t.nodeType)return[t];var e=e&&e.nodeType?e:document;return t&&"string"==typeof t?e.querySelectorAll(t):void 0}}for(var o=/\\?\{([^{}]+)\}/g,r=/^[\s\xa0]+|[\s\xa0]+$/g,s=String.prototype.trim,a=s?function(t){return null==t?"":s.call(t)}:function(t){return null==t?"":(t+"").replace(r,"")},l=0,c=function(t){var e=t.offsetTop;return null!=t.offsetParent&&(e+=c(t.offsetParent)),e},u=function(t){var e=t.offsetLeft;return null!=t.offsetParent&&(e+=u(t.offsetParent)),e},h=({isObject:function(t){return t===Object(t)},isArray:Array.isArray||function(t){return"[object Array]"==toString.call(t)},isEmpty:function(t){if(null==t)return!0;if(this.isArray(t)||this.isString(t))return 0===t.length;for(var e in t)if(this.has(t,e))return!1;return!0},mix:function(t,e,n){for(var i in e)t[i]=e[i];return t},extend:function(t,e,i,o){if(!e||!t)return t;var r,s=e.prototype;return r=n(s,t),t.prototype=this.mix(r,t.prototype),t.superclass=n(s,e),i&&this.mix(r,i),o&&this.mix(t,o),t},startsWith:function(t,e){return 0===t.lastIndexOf(e,0)},endsWith:function(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n},trim:a,substitute:function(t,e,n){return"string"==typeof t&&e?t.replace(n||o,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t},vendor:function(){for(var t=document.createElement("div").style,e=["t","webkitT","MozT","msT","OT"],n=0,i=e.length;n<i;n++)if(e[n]+"ransform"in t)return e[n].substr(0,e[n].length-1);return!1}(),prefixStyle:function(t){return!1!==this.vendor&&(""===this.vendor?t:this.vendor+t.charAt(0).toUpperCase()+t.substr(1))},hasClass:function(t,e){return t&&t.className&&e&&-1!=t.className.indexOf(e)},addClass:function(t,e){t&&e&&!this.hasClass(t,e)&&(t.className+=" "+e)},removeClass:function(t,e){t&&t.className&&e&&(t.className=t.className.replace(e,""))},remove:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},getOffsetTop:c,getOffsetLeft:u,findParentEl:function(t,e,n){var i=null,o=null,r=/^#/.test(e)?"id":/^\./.test(e)?"class":"tag",s=e.replace(/\.|#/g,"");if(n&&"string"==typeof n&&(n=document.querySelector(n)),n=n||document.body,t&&e){if("class"==r&&t.className&&t.className.match(s))return t;if("id"==r&&t.id&&a(t.id)==s)return t;if("tag"==r&&t.tagName.toLowerCase()==s)return t;for(;!i&&o!=n&&(o=t.parentNode);){if("class"==r&&o.className&&o.className.match(s)||"id"==r&&o.id&&a(o.id)==s||"tag"==r&&o.tagName&&o.tagName.toLowerCase()==s)return i=o;t=o}return null}},guid:function(t){var e=++l+"";return t?t+e:e},isAndroid:function(){return/Android /.test(window.navigator.appVersion)},isBadAndroid:function(){return/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)},px2Num:function(t){return Number(t.replace(/px/,""))},getNodes:i,getNode:function(t,e){var n=i(t,e);return n&&n[0]},stringifyStyle:function(t){var e="";for(var n in t)e+=[n,":",t[n],";"].join("");return e}}),d=["Arguments","Function","String","Number","Date","RegExp"],p=0;p<d.length;p++)h["is"+d[p]]=function(t){return toString.call(t)=="[object "+d[p]+"]"};return"object"==typeof module&&module.exports?h:h}(),e=function(e){var n=t,i=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},o={on:function(t,e,n){return s(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){if(!s(this,"once",t,[e,n])||!e)return this;var o=this,r=i(function(){o.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){if(!this._events||!s(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(var i=t?[t]:Object.keys(this._events),o=0,r=i.length;o<r;o++){t=i[o];var a=this._events[t];if(a)if(e||n){for(var l=[],c=0,u=a.length;c<u;c++){var h=a[c];(e&&e!==h.callback&&e!==h.callback._callback||n&&n!==h.context)&&l.push(h)}l.length?this._events[t]=l:delete this._events[t]}else delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=Array.prototype.slice.call(arguments,1);if(!s(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&a(n,e),i&&a(i,arguments),this},listenTo:function(t,e,i){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=n.guid("l"))]=t,i||"object"!=typeof e||(i=this),t.on(e,i,this),this},listenToOnce:function(t,e,n){if("object"==typeof e){for(var o in e)this.listenToOnce(t,o,e[o]);return this}var r=i(function(){this.stopListening(t,e,r),n.apply(this,arguments)});return r._callback=n,this.listenTo(t,e,r)},stopListening:function(t,e,i){var o=this._listeningTo;if(!o)return this;var r=!e&&!i;i||"object"!=typeof e||(i=this),t&&((o={})[t._listenId]=t);for(var s in o)t=o[s],t.off(e,i,this),(r||n.isEmpty(t._events))&&delete this._listeningTo[s];return this}},r=/\s+/,s=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var o in n)t[e].apply(t,[o,n[o]].concat(i));return!1}if(r.test(n)){for(var s=n.split(r),a=0,l=s.length;a<l;a++)t[e].apply(t,[s[a]].concat(i));return!1}return!0},a=function(t,e){var n,i=-1,o=t.length,r=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<o;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s,a);return;default:for(;++i<o;)(n=t[i]).callback.apply(n.ctx,e);return}};return o.bind=o.on,o.unbind=o.off,"object"==typeof module&&module.exports,o}(),n=function(n){var i=t,o=e,r=function(){};return i.mix(r.prototype,o),i.mix(r.prototype,{plug:function(t){var e=this;if(t&&t.pluginId){e.__plugins||(e.__plugins=[]);return e.getPlugin(t.pluginId)&&e.unplug(t.pluginId),t.pluginInitializer(e),e.__plugins.push(t),e}},unplug:function(t){var e=this;if(t&&e.__plugins){var n="string"==typeof t?e.getPlugin(t):t;n.pluginDestructor(e);for(var i=0,o=e.__plugins.length;i<o;i++)if(e.__plugins[i]==n)return e.__plugins.splice(i,1)}},getPlugin:function(t){var e=this,n=[];if(e.__plugins){for(var i=0,o=e.__plugins.length;i<o;i++)e.__plugins[i]&&e.__plugins[i].pluginId==t&&n.push(e.__plugins[i]);return n.length>1?n:n[0]||null}}}),"object"==typeof module&&module.exports,r}(),i=function(e){var i,o=t,r=n,s=function(t){s.superclass.constructor.call(this),this.userConfig=o.mix({upContent:"Pull Up To Refresh",downContent:"Release To Refresh",pullUpHeight:60,height:40,loadingContent:"Loading...",bufferHeight:0,clsPrefix:"xs-plugin-pullup-"},t)};if(o.extend(s,r,{pluginId:"pullup",pluginInitializer:function(t){var e=this;return e.xscroll=t.render(),i=e.userConfig.clsPrefix,e.render(),e},pluginDestructor:function(){var t=this;o.remove(t.pullup),t.xscroll.off("scrollend",t._scrollEndHandler,t),t.xscroll.off("scroll",t._scrollHandler,t),t.xscroll.off("pan",t._panHandler,t),t.xscroll.boundry.resetBottom(),t.__isRender=!1,t._evtBinded=!1},render:function(){var t=this;if(!t.__isRender){t.__isRender=!0;var e=i+"container",n=t.userConfig.height,r=t.pullup=document.createElement("div");return r.className=e,r.style.position="absolute",r.style.width="100%",r.style.height=n+"px",r.style.bottom=-n+"px",t.xscroll.container.appendChild(r),t.xscroll.boundry.expandBottom(t.userConfig.height),t.status="up",o.addClass(r,i+t.status),r.innerHTML=t.userConfig[t.status+"Content"]||t.userConfig.content,t._bindEvt(),t}},_bindEvt:function(){var t=this;if(!t._evtBinded){t._evtBinded=!0;var e=(t.pullup,t.xscroll);return e.on("pan",t._panHandler,t),t.userConfig.bufferHeight>0&&e.on("scroll",t._scrollHandler,t),e.on("scrollend",t._scrollEndHandler,t),t}},_scrollEndHandler:function(t){var e=this,n=e.xscroll;return n.getScrollTop()==n.containerHeight-n.height+e.userConfig.height&&e._changeStatus("loading"),e},_scrollHandler:function(t){var e=this,n=e.xscroll;return!e.isLoading&&Math.abs(t.scrollTop)+n.height+e.userConfig.height+e.userConfig.bufferHeight>=n.containerHeight+n.boundry._xtop+n.boundry._xbottom&&e._changeStatus("loading"),e},_panHandler:function(t){var e=this,n=e.xscroll;return-n.getScrollTop()<n.height-n.containerHeight-e.userConfig.pullUpHeight?e._changeStatus("down"):e._changeStatus("up"),e},_changeStatus:function(t){if("loading"==t||!this.isLoading){var e=this.status;return this.status=t,o.removeClass(this.pullup,i+e),o.addClass(this.pullup,i+t),this.pullup.innerHTML=this.userConfig[t+"Content"],e!=t&&(this.trigger("statuschange",{prevVal:e,newVal:t}),"loading"==t&&(this.isLoading=!0,this.trigger("loading"))),this}},complete:function(){var t=this;t.xscroll;return t.isLoading=!1,t._changeStatus("up"),t}}),"object"==typeof module&&module.exports)e=s;else if(window.XScroll&&window.XScroll.Plugins)return XScroll.Plugins.PullUp=s;return e}(i)}(),function(){"use strict";var t;t=Class.extend({toastElement:null,init:function(){return this},toast:function(t,e,n){t=t||{},t.message=t.message||"",t.duration=t.duration||3e3,t.position="top"==t.position?"top":"bottom",t.pixelsY=t.pixelsY||60,this.show(t,e);var i=setTimeout(function(){this.hide(n),i&&clearTimeout(i)}.bind(this),t.duration);return this},show:function(t,e){var n=this._createToast(t);n&&(angular.element(document.body).append(n),this._showToast(n,e),this.hide(),this.toastElement=n)},hide:function(t){var e=this.toastElement;e&&this._hideToast(e,t)},_createToast:function(t){var e=t.message,n=t.position,i=t.pixelsY,o='<div class="hy-toast-body"><div class="hy-toast-content"><span>'+e+"</span></div></div>",r=angular.element(o);return"top"==n?r.css({top:i+"px"}):r.css({bottom:i+"px"}),r},_showToast:function(t,e){t&&(t.css({display:"block"}),animit(t[0]).queue({opacity:.2,transform:"translate3d(0,100%,0)"}).queue({opacity:1,transform:"translate3d(0,0,0)"},{duration:1,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(function(){e&&angular.isFunction(e)&&e.call(this,t)}.bind(this)))},_hideToast:function(t,e){t&&animit(t[0]).queue({opacity:0,transform:"translate3d(0,100%,0)"},{duration:1,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(function(){t.css({display:"none"}),e&&angular.isFunction(e)&&e.call(this,t),t.remove()}.bind(this))}}),MicroEvent.mixin(t),window.hyMui=window.hyMui||{};var e=new t;window.hyMui.toast=e.toast.bind(e)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",[])}t.filter("fileSizeTransform",function(){return function(t){if(0===t)return"0 B";var e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,n)).toPrecision(3)+" "+e[n]}})}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("$hyAccelerService",["$timeout",function(t){var e=!0;return document.addEventListener("pause",function(){e=!1}),document.addEventListener("resume",function(){e=!0}),{_sensitivity:18,_accelerID:null,shake:function(n,i,o,r){function s(i){var s=-1*i.x.toFixed(1),a=1*i.y.toFixed(1),p=1*i.z.toFixed(1);if(e&&c){(Math.abs(s-u)>l._sensitivity||Math.abs(a-h)>l._sensitivity||Math.abs(p-d)>l._sensitivity)&&("boolean"==typeof o&&o&&(r=r||300,navigator.vibrate?navigator.vibrate(r):navigator.notification&&navigator.notification.vibrate&&navigator.notification.vibrate(r)),c=!1,l._timeout=t(function(){c=!0},1e3),n&&n())}u=s,h=a,d=p}function a(){console.log("onAccelError")}if(!this._accelerID){this._sensitivity=i||this._sensitivity;var l=this;if(!navigator.accelerometer)return void console.log("");var c=!0,u=0,h=0,d=0;this._accelerID=navigator.accelerometer.watchAcceleration(s,a,{frequency:200})}},close:function(){this._accelerID&&(navigator.accelerometer.clearWatch(this._accelerID),this._accelerID=null)}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("$appConfig",["$hyUtil",function(t){return{appId:null,appUrl:null,moduleName:"app",mainNavi:null,mainUrl:"main.html",debug:!1,configJson:null,userInfo:null,initAppAttribute:function(e){var n=this;this.mainUrl=e._config.mainUrl,this.moduleName=e._config.moduleName,e._config.appUrl&&e._config.appId?(this.appUrl=e._config.appUrl,this.appId=e._config.appId):t.ajax({url:"config.json",method:"GET",dataType:"json",async:!1,success:function(t){n.configJson=t,t.appId?n.appId=t.appId:console.error("AppID"),t.appUrl?n.appUrl=t.appUrl:console.error("")},error:function(t,e){console.error("get config.json error:"+e)}})},saveUserInfo:function(t){this.userInfo=t,localStorage.setItem(this.appId+"_user",JSON.stringify(t))},getUserInfo:function(){return this.userInfo=JSON.parse(localStorage.getItem(this.appId+"_user")),this.userInfo},removeUserInfo:function(){this.userInfo=null,localStorage.removeItem(this.appId+"_user")},saveToken:function(t){localStorage.setItem(this.appId+"_token",JSON.stringify(t))},getToken:function(){return JSON.parse(localStorage.getItem(this.appId+"_token"))},removeToken:function(){localStorage.removeItem(this.appId+"_token")},saveAccount:function(t){localStorage.setItem(this.appId+"_account",JSON.stringify(t))},getAccount:function(){return JSON.parse(localStorage.getItem(this.appId+"_account"))},removeAccount:function(){localStorage.removeItem(this.appId+"_account")}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("$cacheService",function(){return{_FileInfo:null,_cacheSize:104857600,_validateDays:10,cachePath:null,_cacheDBName:"hy_cache",init:function(t){t=t||{},this._cacheSize=t.cacheSize||this._cacheSize,this._validateDays=t.validateDays||this._validateDays,this._initCachePath(t.cachePath),this._cacheDBName=t.cacheDBName||this._cacheDBName,this._cacheStrategy=t.cacheStrategy instanceof Function?t.cacheStrategy:this._cacheStrategy},_initCachePath:function(t){if(this.cachePath=window.FileTransfer?cordova.file.cacheDirectory:null,t=t||{},window.device)switch(device.platform){case"Android":this.cachePath=t.android||this.cachePath;break;case"iOS":this.cachePath=t.ios||this.cachePath}},_initDataBase:function(){this._FileInfo=persistence.define("cache_file_info",{name:"TEXT",path:"TEXT",url:"TEXT",type:"TEXT",size:"INT",createtime:"INT",lasttime:"INT",visitnum:"INT",validate:"INT"}),persistence.transaction(function(t){persistence.schemaSync(t,function(){console.log("$cacheService: schemaSync database success.")})})},setFileInfo:function(t){if(t&&t.url&&t.size&&t.path){var e=new this._FileInfo;e.createtime=(new Date).getTime(),e.lasttime=(new Date).getTime(),e.visitnum=1,e.validate=0,e.name=t.name,e.size=t.size,e.url=t.url,e.path=t.path,e.type=t.type,persistence.add(e),persistence.flush(),this.clearCache(null)}},getFileInfo:function(t,e){var n=this;this._getFileInfo(t,function(t){e instanceof Function&&(t&&n._updateFileInfo(t),e(t))})},_updateFileInfo:function(t){t.lasttime=(new Date).getTime(),t.visitnum+=1,persistence.flush()},_getAllFileInfo:function(t,e){this._FileInfo.all().filter("validate","=",t).list(function(t){if(e instanceof Function){var n=0;t.forEach(function(t){n+=t.size}),e(t,n)}})},_getCacheFileSize:function(t){this._getAllFileInfo(0,function(e,n){t instanceof Function&&t(n)})},_getFileInfo:function(t,e){this._FileInfo.all().filter("url","=",t).filter("validate","=",0).list(function(t){if(e instanceof Function){var n=t&&t.length>0?t[0]:null;e(n)}})},deleteFile:function(t){if(t){var e=this;this._getFileInfo(t,function(t){t&&e._deleteFile(t)})}},_deleteFile:function(t,e){if(!t)return void(e instanceof Function&&e(0));var n=1;if(window.HYFileTransfer&&t.path){(new HYFileTransfer).deleteFile(t.path,function(e){console.log(e),persistence.remove(t),persistence.flush(function(){n=0})},function(e){console.log(e),n=1,t.validate=1,persistence.flush()})}else t.validate=1,persistence.flush();e instanceof Function&&e(n)},_clearNeedDeleteFile:function(){var t=this;this._getAllFileInfo(1,function(e){e.forEach(function(e){t._deleteFile(e)})})},_deleteAllFile:function(t){if(window.HYFileTransfer&&this.cachePath){(new HYFileTransfer).deleteDir(this.cachePath,function(e){console.log(e),t instanceof Function&&t(0)},function(e){console.log(e),t instanceof Function&&t(1)})}else t instanceof Function&&t(2)},clearCache:function(t){this._clearNeedDeleteFile();var e=this;this._getAllFileInfo(0,function(n,i){(e._cacheStrategy(n,i,t)||{}).needClearFileList.forEach(function(t){e._deleteFile(t)})})},_cacheStrategy:function(t,e,n){var i=this,o={};o.needClearFileList=[],o.needClearSize=0,t=t||[];var r=[];if(r=r.concat(t),n){if(n.noUseDays&&t.forEach(function(t,e){(new Date).getTime()-t.lasttime-3600*n.noUseDays*1e3>0&&(o.needClearFileList.push(t),o.needClearSize+=t.size,r.splice(e,1))}),n.maxPercent){e-=o.needClearSize;var s=parseInt(e/this._cacheSize*100)-n.maxPercent;if(s>0){var a=parseInt(this._cacheSize*s/100),l=this._cacheStrategy(r,e,{needClearSize:a});o.needClearFileList=o.needClearFileList.concat(l.needClearFileList),o.needClearSize+=l.needClearSize,l.needClearFileList.forEach(function(t){r.forEach(function(e,n){e===t&&r.splice(n,1)})})}}if(n.needClearSize){if(e-=o.needClearSize,n.needClearSize>e)return o.needClearFileList=o.needClearFileList.concat(r),o.needClearSize+=n.needClearSize,o;if(n.needClearSize>o.needClearSize)for(this._sortArray(r);n.needClearSize>o.needClearSize;){var c=r.pop();if(c&&(o.needClearFileList.push(c),o.needClearSize+=c.size,0===r.length))break}}}else if(t.forEach(function(t,e){(new Date).getTime()-t.lasttime-3600*i._validateDays*1e3>0&&(o.needClearFileList.push(t),o.needClearSize+=t.size,r.splice(e,1))}),e-o.needClearSize>this._cacheSize)for(this._sortArray(r);e-o.needClearSize>this._cacheSize;){var c=r.pop();if(c&&(o.needClearFileList.push(c),o.needClearSize+=c.size,0===r.length))break}return o},_sortArray:function(t){t=t||[],t.sort(function(t,e){return t.lasttime===e.lasttime?t.visitnum===e.visitnum?t.createtime-e.createtime:e.visitnum-t.visitnum:e.lasttime-t.lasttime})},clearCacheAll:function(t){var e=this;this._deleteAllFile(function(n){switch(n){case 0:e._FileInfo.all().destroyAll(function(t){console.log("$cacheService: clear cache done!"+t)});break;case 1:console.error("$cacheService: failed to delete all files!");break;case 2:console.error("$cacheService: window.HYFileTransfer is not exist!")}t instanceof Function&&t()})}}})}(),function(){"use strict";function t(t){return encodeURI(t)}var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",[])}var n=function(t){var e,i,o,r,s,a,l,c="";for(e in t)if((i=t[e])instanceof Array)for(l=0;l<i.length;++l)s=i[l],o=e+"["+l+"]",a={},a[o]=s,c+=n(a)+"&";else if(i instanceof Object)for(r in i)s=i[r],o=e+"["+r+"]",a={},a[o]=s,c+=n(a)+"&";else void 0!==i&&null!==i&&(c+=encodeURIComponent(e)+"="+encodeURIComponent(i)+"&");return c.length?c.substr(0,c.length-1):c};e.config(["$httpProvider",function(t){t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",t.defaults.transformRequest=function(t){return angular.isObject(t)&&"[object File]"!==String(t)?n(t):t}}]),e.factory("$hyHttp",["$http","$q","$cacheService","$appConfig","$hyUtil","$hyHttpbyToken","$hyHttpLite",function(t,e,n,i,o,r,s){var a={};return a.defaultConfig={responseType:"json",cache:!1},a.defaultErrorMessage=",",a.http=function(t,e){return s.http(t,e)},a.get=function(t,e){return s.get(t,e)},a.getByToken=function(t,e){return r.getByToken(t,e)},a.post=function(t,e,n){return s.post(t,e,n)},a.postByToken=function(t,e,n){return r.postByToken(t,e,n)},a.setCompress=function(t){s.setCompress(t)},a.isCompress=function(){return s.isCompress()},a.setEncrypt=function(t){s.setEncrypt(t)},a.getEncrypt=function(){return s.getEncrypt()},a.setTimeout=function(t){s.setTimeout(t)},a.getTimeout=function(){return s.getTimeout()},a.getHeaders=function(){return t.defaults.headers},a.addHeader=function(t,e){s.addHeader(t,e)},a.reset=function(){s.reset()},a.upload=function(t,n){var o=e.defer(),r=encodeURI(i.appUrl),s=new window.XMLHttpRequest;if(null==s)throw new Error("AJAX!");s.onload=function(){4==s.readyState&&200==s.status&&o.resolve(s)},s.onerror=function(){o.reject(s)},s.upload.onprogress=function(t){t.lengthComputable&&o.notify(t)},s.open("POST",r,!0),s.setRequestHeader("hy_serviceName",t),s.setRequestHeader("hy_appId",_appId),s.send(n);var a=o.promise;return a.success=function(t){return a.then(function(e){t(e)}),a},a.error=function(t){return a.then(null,function(e){t(e)}),a},a.progress=function(t){return a.then(null,null,function(e){t(e)}),a},a},a.downLoad=function(t,n,o){var r=e.defer(),s=encodeURI(i.appUrl),a=new XMLHttpRequest;if(null==a)throw new Error("AJAX!");a.responseType="blob",a.onload=function(){4==a.readyState&&200===a.status&&r.resolve(a)},a.onerror=function(){r.reject(a)},a.onprogress=function(t){t.lengthComputable&&r.notify(t)},a.open(t,s,!0),a.setRequestHeader("hy_serviceName",n),a.setRequestHeader("hy_appId",_appId),a.send(o);var l=r.promise;return l.success=function(t){return l.then(function(e){t(e)}),l},l.error=function(t){return l.then(null,function(e){t(e)}),l},l.progress=function(t){return l.then(null,null,function(e){t(e)}),l},l},a.getFile=function(t,i){t=encodeURI(t),i=i||{};var o=e.defer(),r=o.promise,s=n.cachePath?n.cachePath:cordova.file.cacheDirectory;if(t)if(window.FileTransfer&&window.HYFileTransfer){var l=!0===i.reload,c=!1!==i.cache,u=new HYFileTransfer;if(l){n.deleteFile(t);var h={};h.headers=i.headers,u.onprogress=function(t){t.lengthComputable&&o.notify(t)},u.download(t,s,null,function(e){if(c){var i={};i.url=t,i.name=e.name,i.path=e.nativeURL,i.size=e.fileLength,i.type=e.mimeType,n.setFileInfo(i)}o.resolve(e.nativeURL)},function(t){o.reject(t)},!0,h)}else n.getFileInfo(t,function(t){t?u.fileExists(t.path,function(e){e?o.resolve(t.path):d()},function(t){alert("error:"+t),o.reject(t)}):d()});var d=function(){var e=angular.extend({},i);e.reload=!0,a.getFile(t,e).success(function(t){o.resolve(t)}).error(function(t){o.reject(t)}).progress(function(t){o.notify(t)})}}else o.reject("$hyHttp: Please run on mobile devices.");else o.reject("$hyHttp: file url is null.");return r.success=function(t){return r.then(function(e){t(e)}),r},r.error=function(t){return r.then(null,function(e){t(e)}),r},r.progress=function(t){return r.then(null,null,function(e){t(e)}),r},r},a}]),e.factory("$hyHttpLite",["$http","$appConfig","$hyUtil",function(e,n,i){var o=!1,r=!1,s=new Array,a=3e4;return{checkConfig:function(t,e){var l={},c={};null!=e&&"undefined"!=e&&(l=e),l.hasOwnProperty("headers")&&(c=l.headers);var u=n.getToken(),h=n.getUserInfo(),d=n.getAccount();if(h&&u&&d&&!i.isWeiXin()){var p=(new Date).getTime();c=c||{},c.account=d,c.signature=i.createLoginSignature(d,u,p),c.timeStr=p}c.mobile_model="",c.mobile_version="","undefined"!=typeof device&&device&&(c.mobile_model=device.model,c.mobile_version=device.version),c.hy_serviceName=t,c.hy_appId=n.appId,o&&(c.hy_isCompress=o),r&&(c.hy_isEncrypt=r);for(var f=0;f<s.length;f++)c[s[f]._key]=s[f]._value;return l.headers=c,l.hasOwnProperty("timeout")||(l.timeout=a),l.url=n.appUrl,l},http:function(n,i){var o=this.checkConfig(n,i);if(o.url=t(o.url),o&&angular.isObject(o.params))for(var r in o.params)o.params[r]=t(o.params[r]);return e(o)},get:function(n,i){var o=this.checkConfig(n,i),r=t(o.url);if(o&&angular.isObject(o.params))for(var s in o.params)o.params[s]=t(o.params[s]);return e.get(r,o)},post:function(n,i,o){var r=this.checkConfig(n,i),s=t(r.url);if(r&&angular.isObject(r.params))for(var a in r.params)r.params[a]=t(r.params[a]);if(o&&angular.isObject(o))for(var a in o)void 0!=o[a]&&null!=o[a]&&(o[a]=this._encodeData(o[a]));return e.post(s,o,i)},_encodeData:function(t){if(!t)return t;if(angular.isArray(t)){for(var e=0;e<t.length;e++)t[e]=this._encodeData(t[e]);return t}if(angular.isObject(t)){for(var n in t)t[n]=this._encodeData(t[n]);return t}return encodeURIComponent(t)},setCompress:function(t){o=t},isCompress:function(){return o},setEncrypt:function(t){r=t},getEncrypt:function(){return r},setTimeout:function(t){a=t},getTimeout:function(){return a},addHeader:function(t,e){var n={};n._key=t,n._value=e,s.push(n)},reset:function(){s=[],o=!1,r=!1}}}]),e.factory("$hyHttpbyToken",["$hyHttpLite","$loginService","$q",function(t,e,n){return{getByToken:function(i,o){var r,s,a=n.defer(),l=angular.copy(o);$hyHttpLite.get(i,o).success(function(n){-101==n.code&&(e.removetUserInfo(),e.show({callback:function(){t.get(i,l).success(function(t){r(t)}).error(function(t){s(t)})}})),a.resolve(n)}).error(function(t){a.reject(t)});var c=a.promise;return c.success=function(t){return r=t,c.then(function(e){t(e)}),c},c.error=function(t){return s=t,c.then(null,function(e){t(e)}),c},c},postByToken:function(i,o,r){var s,a,l=n.defer(),c=l.promise,u=angular.copy(r),h=angular.copy(o);return $hyHttpLite.post(i,o,r).success(function(n){if(-101==n.code)return e.removetUserInfo(),void e.show({callback:function(){t.post(i,h,u).success(function(t){s(t)}).error(function(t){a(t)})}});l.resolve(n)}).error(function(t){l.reject(t)}),c.success=function(t){return s=t,
c.then(function(e){t(e)}),c},c.error=function(t){return a=t,c.then(null,function(e){t(e)}),c},c}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("$hymui",["$hyUtil","$loginService","$appConfig","$cacheService",function(t,e,n,i){return function(){for(var t=new Array,o=0;o<3;o++){var r={};r.src="img/launcherNavi/launcher_"+(o+1)+".jpg",t.push(r)}return{_launcherNaviConfig:{isShow:!1,images:t,displayUrl:"launcherNavi.html",buttonText:"",closeButton:!0,isPushNavi:!1},_loginConfig:{},launcherNavi:function(t){t=t||{};var e=new Array,n=3;if(t.imageSize&&(n=t.imageSize),isNaN(n))return void console.error("imageSize");for(var i=0;i<n;i++){var o={};o.src="img/launcherNavi/launcher_"+(i+1)+".jpg",e.push(o)}var r={isShow:!0,images:e,displayUrl:"launcherNavi.html",buttonText:"",closeButton:!0,isPushNavi:!1};for(var s in r)void 0===t[s]&&(t[s]=r[s]);this._launcherNaviConfig=t},launcherNaviShow:function(t){t?(this._launcherNaviConfig.isPushNavi=!0,n.mainNavi.pushPage(this._launcherNaviConfig.displayUrl,{animation:"fade"})):(n.mainNavi.resetToPage(this._launcherNaviConfig.displayUrl,{animation:"fade"}),this.setFirstLauncherState(1))},launcherNaviClose:function(){this._launcherNaviConfig.isPushNavi?(this._launcherNaviConfig.isPushNavi=!1,n.mainNavi.popPage()):this._loginConfig.launcherLogin?e.login():this._launcherNaviConfig.targetUrl?n.mainNavi.resetToPage(this._launcherNaviConfig.targetUrl,{animation:"fade"}):n.mainNavi.resetToPage(n.mainUrl,{animation:"fade"})},isFirstLauncher:function(){return 1!=localStorage.getItem("hyMui_"+n.moduleName+"_isFirstLauncher")},setFirstLauncherState:function(t){localStorage.setItem("hyMui_"+n.moduleName+"_isFirstLauncher",t)},initLogin:function(t){t=t||{};var i={loginService:"loginService",loginMode:2,loginImplFn:void 0,launcherLogin:!0,loginPage:{}};for(var o in i)void 0===t[o]&&(t[o]=i[o]);this._loginConfig=t,this._loginConfig.targetUrl?e.initLogin(t.loginService,t.loginPage,t.targetUrl,t.loginMode,t.loginImplFn):e.initLogin(t.loginService,t.loginPage,n.mainUrl,t.loginMode,t.loginImplFn)},isLogin:function(){e.isLogin()},showLogin:function(t){e.show(t)},login:function(t){e.login(t)},loginOff:function(){e.logout()},run:function(t){i.init(),"undefined"==typeof emdp_debug&&(this._launcherNaviConfig.isShow?this.isFirstLauncher()?this.launcherNaviShow(!1):this.launcherNaviClose():this._loginConfig.launcherLogin?e.login():n.mainNavi.resetToPage(n.mainUrl,{animation:"fade"})),navigator.splashscreen&&navigator.splashscreen.hide()}}}()}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",[])}t.factory("$hyJPushService",["$q",function(t){var e=null,n=t.defer();n.promise.success=function(t){return n.promise.then(function(e){t(e)}),n.promise},n.promise.error=function(t){return n.promise.then(null,function(e){t(e)}),n.promise},document.addEventListener("jpush.setTagsWithAlias",function(t){0!=t.resultCode?n.reject(t):n.resolve(t)},!1),document.addEventListener("jpush.openNotification",function(e){var n=t.defer();n.promise.then(function(t){i.openNotification&&"function"==typeof i.openNotification&&i.openNotification(t)}),n.resolve(e)},!1),document.addEventListener("jpush.receiveNotification",function(e){var n=t.defer();n.promise.then(function(t){i.receiveNotification&&"function"==typeof i.receiveNotification&&i.receiveNotification(t)}),n.resolve(e)},!1),document.addEventListener("jpush.receiveMessage",function(e){var n=t.defer();n.promise.then(function(t){i.receiveMessage&&"function"==typeof i.receiveMessage&&i.receiveMessage(t)}),n.resolve(e)},!1);var i={};return i.openNotification=null,i.receiveNotification=null,i.receiveMessage=null,i.init=function(){window.plugins.jPushPlugin.init()},i.getRegistrationId=function(n){var i=t.defer(),o=i.promise;return o.success=function(t){return o.then(function(e){t(e)}),o},o.error=function(t){return o.then(null,function(e){t(e)}),o},n&&(e=null),e&&0!=e.length?void i.resolve(e):(window.plugins.jPushPlugin.getRegistrationID(function(t){void 0==t||null==t||0==t.length?i.reject(t):(e=t,i.resolve(t))}),o)},i.setTagsWithAlias=function(t,e){return window.plugins.jPushPlugin.setTagsWithAlias(t,e),n.promise},i.stopPush=function(){window.plugins.jPushPlugin.stopPush()},i.resumePush=function(){window.plugins.jPushPlugin.resumePush()},i.isPushStopped=function(){var e=t.defer(),n=e.promise;n.success=function(t){return n.then(function(e){t(e)}),n},n.error=function(t){return n.then(null,function(e){t(e)}),n},window.plugins.jPushPlugin.isPushStopped(function(t){e.resolve(t)})},i.setApplicationIconBadgeNumber=function(t){window.plugins.jPushPlugin.prototype.setApplicationIconBadgeNumber(t)},i.getApplicationIconBadgeNumber=function(){var e=t.defer(),n=e.promise;return n.success=function(t){return n.then(function(e){t(e)}),n},window.plugins.jPushPlugin.prototype.getApplicationIconBadgeNumber(function(t){n.resolve(t)}),n},i}])}(),function(){"use strict";function t(){var t=!!document.querySelector("[hy-layouts-disabled]");w.enabled=!t}function e(){return w.enabled=!1,{restrict:"A",priority:"900"}}function n(t){return["$timeout",function(e){return{restrict:"A",priority:-10,compile:function(n){return w.enabled?(n.addClass(t),function(n,i){e(function(){i.removeClass(t)},10,!1)}):angular.noop}}}]}function i(t){function e(e,n,i){var o=s(n,t),r=i.$observe(i.$normalize(t),o);o(h(t,i,"")),e.$on("$destroy",function(){r()})}return["$hyUtil","$interpolate","$log",function(n,i,o){return f=n,m=i,g=o,{restrict:"A",compile:function(n,i){var o;return w.enabled&&(a(t,i,n,g),l(t,h(t,i,""),c(n,t,i)),o=e),o||angular.noop}}}]}function o(t){function e(e,n){n.addClass("hy-"+t)}return["$hyUtil","$interpolate","$log",function(n,i,o){return f=n,m=i,g=o,{restrict:"A",compile:function(n,i){var o;return w.enabled&&(l(t,h(t,i,""),c(n,t,i)),e(null,n),o=e),o||angular.noop}}}]}function r(t){function e(e,n){$?n.addClass("hy-noflex-"+t):n.addClass("hy-"+t)}return["$hyUtil","$interpolate","$log",function(n,i,o){return f=n,m=i,g=o,{restrict:"A",compile:function(n,i){var o;return w.enabled&&(l(t,h(t,i,""),c(n,t,i)),e(null,n),o=e),o||angular.noop}}}]}function s(t,e){var n;return function(i){var o=l(e,i||"");angular.isDefined(o)&&(n&&t.removeClass(n),n=o?"hy-"+e+"-"+o.replace(v,"-"):"hy-"+e,t.addClass(n))}}function a(t,e,n,i){var o=n[0].nodeName.toLowerCase();switch(t.replace(_,"")){case"flex":"hy-button"!=o&&"fieldset"!=o||("<"+o+" "+t+"></"+o+">","https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers","Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.")}}function l(t,e,n){var i=e;if(!u(e)){switch(t.replace(_,"")){case"layout":d(e,b)||(e=b[0]);break;case"flex":d(e,y)||isNaN(e)&&(e="");break;case"flex-offset":case"flex-order":e&&!isNaN(+e)||(e="0");break;case"layout-align":break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":case"layout-nowrap":e=""}e!=i&&(n||angular.noop)(e)}return e}function c(t,e,n){return function(t){u(t)||(n[n.$normalize(e)]=t)}}function u(t){return(t||"").indexOf(m.startSymbol())>-1}function h(t,e,n){var i=e.$normalize(t);return e[i]?e[i].replace(v,"-"):n||null}function d(t,e,n){t=n&&t?t.replace(v,n):t;var i=!1;return t&&e.forEach(function(e){e=n?e.replace(v,n):e,i=i||e===t}),i}var p=null;try{p=angular.module("haiyiMobile")}catch(t){p=angular.module("haiyiMobile",["onsen"])}var f,m,g,_=/(-gt)?-(sm|md|lg|print)/g,v=/\s+/g,y=["grow","initial","auto","none","noshrink","nogrow"],b=["row","column"],w={enabled:!0,breakpoints:[]},$=!1;if(window.navigator.userAgent.match(/android/i)){var x=window.navigator.userAgent.match(/android/i).index+8,S=window.navigator.userAgent.substr(x,3).split(".");S[0]<4?$=!0:4==S[0]&&S[1]<4&&($=!0)}!function(s){function c(t){return t.replace(u,"").replace(h,function(t,e,n,i){return i?n.toUpperCase():n})}var u=/^((?:x|data)[\:\-_])/i,h=/([\:\-\_]+(.))/g,d=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],p=["layout","flex","flex-order","flex-offset","layout-align"],f=["show","hide","layout-padding","layout-margin"];angular.forEach(d,function(t){angular.forEach(p,function(e){var n=t?e+"-"+t:e;s.directive(c(n),i(n))}),angular.forEach(f,function(e){var n=t?e+"-"+t:e;s.directive(c(n),o(n))})}),s.provider("$$hyLayout",function(){return{$get:angular.noop,validateAttributeValue:l,validateAttributeUsage:a,disableLayouts:function(t){w.enabled=!0!==t}}}).directive("hyLayoutCss",e).directive("ngCloak",n("ng-cloak")).directive("layoutWrap",r("layout-wrap")).directive("layoutNowrap",o("layout-nowrap")).directive("layoutNoWrap",o("layout-no-wrap")).directive("layoutFill",o("layout-fill")).config(t)}(p)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("$loginService",["$hyHttpLite","$appConfig","$hyUtil","$rootScope",function(t,e,n,i){return{LOGIN_WAY_ENUM:{ALL:1,NORMAL:2,PHONE_NUMBER:3,DEVICE_UUID:4},_loginServiceName:"login",_defaulttargetPage:"main.html",_targetPage:void 0,loginPage:{loginPage:"login.html",animation:"slide",showBackBtn:!1,autoLogin:!1,userNameText:"",passWordText:"",validateCodeText:"",failLoginCount:0,validateCodeImg:null,loginbgImg:"img/login/login_bg.png",loginIcon:"img/login/login_logo.png"},loginWay:null,showLogin:!1,_isLogin:!1,_userInfo:null,autoLoginFailCode:null,_target:void 0,_initParam:function(t){t=t||{};for(var e in this.loginPage)void 0===t[e]&&(t[e]=this.loginPage[e]);this.loginPage=t},initLogin:function(t,e,n,i,o){this._loginServiceName=t,this._initParam(e),this._defaulttargetPage=n||this._defaulttargetPage,this.loginWay=i||this.loginWay,this._loginImplFn=o||this._loginImplFn,this.showLogin=!0},login:function(t){this._target=t,this.getAutoFlag()?(this._isLogin=!0,this.hide()):this.show(t)},author:function(t,e,n,i,o){this._loginImplFn(this._loginServiceName,e,t,n,i,o)},_loginImplFn:function(e,n,i,o,r,s){function a(t,e,n){l._isLogin=!1,e instanceof Function?e(t,n):console.error("$loginService: login error,code = "+t)}var l=this;if(!e)return void a(-2,r);s=s||{responseType:"json",cache:!1},t.post(e,s,i).success(function(t,e,i,s){0===t.code&&t.content?(l._userInfo=t.content,l._isLogin=!0,n&&l._saveAutoFlag(!0),l.saveUserInfo(l._userInfo),l.saveToken(l.passwordSignature),o instanceof Function?o(t,l._target):console.log("$loginService: login success"),l.autoLoginFailCode=null):-102===t.code?o instanceof Function?o(t,l._target):console.log("$loginService: login success"):a(t.code,r,t)}).error(function(t,e,n,i){a(-1,r,t)})},logout:function(){this.removeUserInfo(),this._saveAutoFlag(!1),this.removeToken(),this.removeAccount()},isLogin:function(){return this._isLogin},show:function(t){this.showLogin?void 0!==t?(this._target=t,this._target.showMode=this._target.showMode||"push",this._target.hideMode=this._target.hideMode||"push",this._target.options=this._target.options||{},this._target.cancelIfRunning=!!this._target.cancelIfRunning,e.mainNavi?"push"==this._target.showMode?e.mainNavi.pushPage(this.loginPage.loginPage,{animation:this.loginPage.animation,cancelIfRunning:this._target.cancelIfRunning}):"replace"==this._target.showMode?e.mainNavi.replacePage(this.loginPage.loginPage,{animation:this.loginPage.animation,cancelIfRunning:this._target.cancelIfRunning}):console.error("the target mode is  invalid"):console.error("$loginUIService:mainNavi is null, please use init() to initialize this service")):(this._target=void 0,e.mainNavi?e.mainNavi.replacePage(this.loginPage.loginPage,{animation:"fade",cancelIfRunning:!0}):console.error("$loginUIService:mainNavi is null, please use init() to initialize this service")):console.error("")},hide:function(){e.mainNavi?void 0===this._target?e.mainNavi.replacePage(this._defaulttargetPage,{animation:"fade"}):(e.mainNavi.getCurrentPage().name==this.loginPage.loginPage&&"push"==this._target.hideMode&&e.mainNavi.popPage(),e.mainNavi.getCurrentPage().name==this.loginPage.loginPage&&"replace"==this._target.hideMode&&void 0==this._target.url&&e.mainNavi.popPage(),this._target.url&&("push"==this._target.hideMode?e.mainNavi.pushPage(this._target.url,this._target.options):"replace"==this._target.hideMode?e.mainNavi.replacePage(this._target.url,this._target.options):console.error("the target mode is  invalid")),this._target.tabbar&&(this._target.tabitem.setActive(),this._target.tabbar.loadPage(this._target.tabitem.page),console.log(this._target)),this._target.callback instanceof Function&&this._target.callback()):console.error("$loginUIService:mainNavi is null, please use init() to initialize this service")},getLoginUserInfo:function(){return this._userInfo},_saveAutoFlag:function(t){"boolean"==typeof t?localStorage.setItem(e.appId+"_autoFlag",t):localStorage.setItem(e.appId+"_autoFlag",!1)},getAutoFlag:function(){return JSON.parse(localStorage.getItem(e.appId+"_autoFlag"))},saveUserInfo:function(t){e.saveUserInfo(t),i.$broadcast("REFRASH_USERINFO",t)},getUserInfo:function(){return e.getUserInfo()},saveToken:function(t){e.saveToken(t)},getToken:function(){return e.getToken()},saveAccount:function(t){e.saveAccount(t)},getAccount:function(){return e.getAccount()},removeUserInfo:function(){e.removeUserInfo()},removeToken:function(){e.removeToken()},removeAccount:function(){e.removeAccount()},saveUserToLoginHistory:function(t){if(t){var e=this.getLoginHistory()||[],n=!1;if(e.length>0)for(var i=0;i<e.length;i++){if(e[i]===t)return;n=!0}else e.push(t);n&&e.push(t),localStorage.setItem("loginHistory",JSON.stringify(e))}},getLoginHistory:function(){return JSON.parse(localStorage.getItem("loginHistory"))},removeUserFromLoginHistory:function(t){for(var e=this.getLoginHistory()||[],n=0;n<e.length;n++)if(e[n]===t)return e.splice(n,1),void localStorage.setItem("loginHistory",JSON.stringify(e))},cleanLoginHistory:function(){localStorage.removeItem("loginHistory")},getLoginSignature:function(t,e,i){return n.createLoginSignature(t,e,i)},createLoginArgs:function(t,e,n){n=n||0;var i=(new Date).getTime(),o=this.getLoginSignature(t,e,i);return this.passwordSignature=this.createPasswordSignature(e,i),this.saveAccount(t),{account:t,timeStr:i,signature:o,loginType:n}},getLoginArgs:function(t){t=t||0;var e=(new Date).getTime(),n=this.getAccount(),i=this.getToken();return{account:n,timeStr:e,signature:this.getLoginSignature(n,i,e),loginType:t}},createPasswordSignature:function(t,e){var i=n.getMD5Encrypt(t),o=[i,e];o.sort();var r=o[0]+o[1];return n.getMD5Encrypt(r)}}}])}(),function(){"use strict";function t(t,e){return{controller:angular.noop,link:function(n,i,o){"HY-LIST-ITEM"!=i[0].nodeName&&(o.hasOwnProperty("hyInkRippleCheckbox")?e.attach(n,i):t.attach(n,i))}}}function e(t){function e(e,n,i){return t.attach(e,n,angular.extend({center:!0,dimBackground:!1,fitRipple:!0},i))}return{attach:e}}function n(t){function e(t){return t.hasClass("hy-icon-button")?{isMenuItem:t.hasClass("hy-menu-item"),fitRipple:!0,center:!0,dimBackground:!0}:{isMenuItem:t.hasClass("hy-menu-item"),dimBackground:!0}}return{attach:function(n,i,o){return o=angular.extend(e(i),o),t.attach(n,i,o)}}}function i(){function t(){e=!0}var e=!1;return{disableInkRipple:t,$get:["$injector",function(t){function n(n,i,r){return e?angular.noop:t.instantiate(o,{$scope:n,$element:i,rippleOptions:r})}return{attach:n}}]}}function o(t,e,n,i,o,r,s){this.$window=i,this.$timeout=o,this.$hyUtil=r,this.$hyColorUtil=s,this.$scope=t,this.$element=e,this.options=n,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,r.valueOnUse(this,"container",this.createContainer),this.$element.addClass("hy-ink-ripple"),this.bindEvents()}function r(t,e){(t.mousedown||t.lastRipple)&&(t.mousedown=!1,t.$hyUtil.nextTick(angular.bind(t,e),!1))}o.$inject=["$scope","$element","rippleOptions","$window","$timeout","$hyUtil","$hyColorUtil"],n.$inject=["$hyInkRipple"],e.$inject=["$hyInkRipple"],t.$inject=["$hyButtonInkRipple","$hyCheckboxInkRipple"];var s=null;try{s=angular.module("haiyiMobile")}catch(t){s=angular.module("haiyiMobile",["onsen"])}s.provider("$hyInkRipple",i).factory("$hyButtonInkRipple",n).factory("$hyCheckboxInkRipple",e).directive("hyInkRipple",t),o.prototype.color=function(t){var e=this;return angular.isDefined(t)&&(e._color=e._parseColor(t)),e._color||e._parseColor(e.inkRipple())||e._parseColor(function(){var t=e.options&&e.options.colorElement?e.options.colorElement:[],n=t.length?t[0]:e.$element[0];return n?e.$window.getComputedStyle(n).color:"rgb(0,0,0)"}())},o.prototype.calculateColor=function(){return this.color()},o.prototype._parseColor=function(t,e){e=e||1;var n=this.$hyColorUtil;if(t)return 0===t.indexOf("rgba")?t.replace(/\d?\.?\d*\s*\)\s*$/,(.1*e).toString()+")"):0===t.indexOf("rgb")?n.rgbToRgba(t):0===t.indexOf("#")?n.hexToRgba(t):void 0},o.prototype.bindEvents=function(){this.$element.on("mousedown touchstart",angular.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",angular.bind(this,this.handleMouseup)),this.$element.on("mouseleave",angular.bind(this,this.handleMouseup)),this.$element.on("touchmove",angular.bind(this,this.handleTouchmove))},o.prototype.handleMousedown=function(t){if(!this.mousedown)if(t.hasOwnProperty("originalEvent")&&(t=t.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientHeight")/2);else if(t.srcElement!==this.$element[0]){var e=this.$element[0].getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top;this.createRipple(n,i)}else this.createRipple(t.offsetX,t.offsetY)},o.prototype.handleMouseup=function(){r(this,this.clearRipples)},o.prototype.handleTouchmove=function(){r(this,this.deleteRipples)},o.prototype.deleteRipples=function(){for(var t=0;t<this.ripples.length;t++)this.ripples[t].remove()},o.prototype.clearRipples=function(){for(var t=0;t<this.ripples.length;t++)this.fadeInComplete(this.ripples[t])},o.prototype.createContainer=function(){var t=angular.element('<div class="hy-ripple-container"></div>');return this.$element.append(t),t},o.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},o.prototype.isRippleAllowed=function(){var t=this.$element[0];do{if(!t.tagName||"BODY"===t.tagName)break;if(t&&angular.isFunction(t.hasAttribute)){if(t.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(t=t.parentNode);return!0},o.prototype.inkRipple=function(){return this.$element.attr("hy-ink-ripple")},o.prototype.createRipple=function(t,e){if(this.isRippleAllowed()){var n=this,i=n.$hyColorUtil,o=angular.element('<div class="hy-ripple"></div>'),r=this.$element.prop("clientWidth"),s=this.$element.prop("clientHeight"),a=2*Math.max(Math.abs(r-t),t),l=2*Math.max(Math.abs(s-e),e),c=function(t,e,n){return t?Math.max(e,n):Math.sqrt(Math.pow(e,2)+Math.pow(n,2))}(this.options.fitRipple,a,l),u=this.calculateColor();o.css({left:t+"px",top:e+"px",background:"black",width:c+"px",height:c+"px",backgroundColor:i.rgbaToRgb(u),borderColor:i.rgbaToRgb(u)}),this.lastRipple=o,this.clearTimeout(),this.timeout=this.$timeout(function(){n.clearTimeout(),n.mousedown||n.fadeInComplete(o)},157.5,!1),this.options.dimBackground&&this.container.css({backgroundColor:u}),this.container.append(o),this.ripples.push(o),o.addClass("hy-ripple-placed"),this.$hyUtil.nextTick(function(){o.addClass("hy-ripple-scaled hy-ripple-active"),n.$timeout(function(){n.clearRipples()},450,!1)},!1)}},o.prototype.fadeInComplete=function(t){this.lastRipple===t?this.timeout||this.mousedown||this.removeRipple(t):this.removeRipple(t)},o.prototype.removeRipple=function(t){var e=this;this.ripples.indexOf(t)<0||(this.ripples.splice(this.ripples.indexOf(t),1),t.removeClass("hy-ripple-active"),t.addClass("hy-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){e.fadeOutComplete(t)},450,!1))},o.prototype.fadeOutComplete=function(t){t.remove(),this.lastRipple=null}}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyAccordion",["$onsen","AccordionView",function(t,e){function n(t,e){return'<div class="accordion-item"><div class="accordion-item-toggle accordion-line" ng-click="accordionClick()" ><ons-icon icon="{{iconsName}}" class="accordion-icons"></ons-icon><span class="{{spanClass}}">{{title}}</span></div><div class="accordion-item-content" ng-transclude></div>'}return{restrict:"E",template:n,transclude:!0,scope:{title:"=hyaTitle",isOpen:"@hyaOpen",closeIcon:"@hyaCloseIcon",openIcon:"@hyaOpenIcon",iconLeft:"@hyaIconLeft"},compile:function(n,i){return function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-accordion",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-accordion",void 0),i=null}),t.fireComponentEvent(i[0],"init")}}}}]),t.factory("AccordionView",["$onsen","$q",function(t,e){var n=Class.extend({init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n,this._pageContent=this._findPageContent(),this._scope.isOpen&&"true"===this._scope.isOpen?this._scope.accordionState=!0:this._scope.accordionState=!1,this._scope.spanClass="",this._closeIconName=this._scope.closeIcon?this._scope.closeIcon:"fa-angle-right",this._openIconName=this._scope.openIcon?this._scope.openIcon:"fa-angle-down",this._scope.iconsName=this._closeIconName,this._content=angular.element(this._element[0].querySelector(".accordion-item-content")),this._toggle=angular.element(this._element[0].querySelector(".accordion-item-toggle")),this._icon=angular.element(this._element[0].querySelector(".accordion-icons")),this._content[0].setAttribute("style","height:0"),this._scope.iconLeft&&"true"===this._scope.iconLeft&&(this._icon.addClass("accordion-left-icons"),this._scope.spanClass="accordion-span"),this._scope.accordionClick=angular.bind(this,this.accordionClick),this.accordionClick()},accordionClick:function(t){var e=this;if(this._scope.accordionState){this._scope.accordionState=!1,this._toggle.removeClass("accordion-line"),this._content.addClass("accordion-line");var n=this._content[0].scrollHeight+2;this._scope.iconsName=this._openIconName,animit(this._content[0]).queue({height:n+"px"},{duration:.3}).play(function(){var t=e._content[0].offsetTop+e._content[0].scrollHeight+10-e._pageContent.clientHeight;e._pageContent.scrollTop<t&&(e._pageContent.scrollTop=t)})}else this._scope.accordionState=!0,animit(this._content[0]).queue({height:0},{duration:.3}).play(function(){e._toggle.addClass("accordion-line")}),this._content.removeClass("accordion-line"),this._scope.iconsName=this._closeIconName},_findPageContent:function(){for(var t=this._element[0];t.parentNode&&(t=t.parentNode,!(t.className&&t.className.split(/\s+/).indexOf("page__content")>=0)););return t}});return MicroEvent.mixin(n),n}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("ActionSheet",["$onsen","$q",function(t,e){var n=Class.extend({init:function(t,e,n){this._scope=t,this._element=e,this._attrs=n,this._visible=!0,this._scope.$on("$destroy",this._destroy.bind(this)),this._scope._onClick=angular.bind(this,this._click)},_click:function(t){this._scope.hyaClick&&this._scope.hyaClick({data:t}),this.hide()},_findPage:function(){for(var t=this._element[0];t.parentNode&&(t=t.parentNode,!(t.className&&t.className.split(/\s+/).indexOf("page")>=0)););return t},show:function(){var t=this;this._model=angular.element('<div class="hy-actions-modal">'),this._model_mask=angular.element('<div class="hy-actions-modal-overlay">');var e=angular.element('<div class = "hy-actions-modal-group" ng-repeat="group in hyaGroups">\t\t\t\t\t\t \t<div class = "hy-actions-modal-button" ng-repeat="button in group" style="color: {{button.color}}" ng-click="_onClick(button)">{{button.text}}</div>');this._createModel(e).then(function(e){t._inserModel=e.model,t._inserModelMask=e.model_mask,animit(t._inserModel[0]).queue({transform:"translate3d(0,100%,0)"}).queue({transform:"translate3d(0,0,0)"},{duration:.5,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(function(){}.bind(t)),t._inserModelMask.addClass("hy-modal-overlay-visible")})},hide:function(){animit(this._inserModel[0]).queue({transform:"translate3d(0,100%,0)"},{duration:.5,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(function(){this._inserModel.remove(),this._inserModelMask.remove()}.bind(this))},_destroy:function(){this.emit("destroy"),this._element.remove(),this._scope=this._attrs=this._element=this._modal=null},_createModel:function(t){if(!t)throw new Error("");var n=this._findPage();angular.element(n).append(angular.element(this._model)),angular.element(n).append(angular.element(this._model_mask)),this._model_mask[0].addEventListener("click",angular.bind(this,this.hide)),this._model.append(t),ons.$compile(this._model)(this._scope);var i=e.defer();return i.resolve({model:this._model,model_mask:this._model_mask}),i.promise}});return MicroEvent.mixin(n),n}]),t.directive("hyActionSheet",["$onsen","ActionSheet",function(t,e){return{restrict:"E",scope:{hyaGroups:"=",hyaClick:"&"},compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),t.registerEventHandlers(r,"destroy"),i.data("hy-action-sheet",r),n.$on("$destroy",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-action-sheet",void 0),i=null}),i.bind("click",function(t){return t.stopPropagation(),!1})},post:function(e,n,i){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";function t(t){return{attach:function(e,n){function i(t){e.addClass(n)}function o(t){e.removeClass(n)}n=n||"active-state",e.on(t.gettouchEvent().start,angular.bind(this,i)),e.on(t.gettouchEvent().end,angular.bind(this,o))}}}function e(t){return{link:function(e,n,i){var o=i.hyActive||"active";t.attach(n,o)}}}t.$inject=["$hyUtil"],e.$inject=["$hyActive"];var n=null;try{n=angular.module("haiyiMobile")}catch(t){n=angular.module("haiyiMobile",["onsen"])}n.factory("$hyActive",t).directive("hyActive",e)}(),function(){"use strict";function t(t,e){return{restrict:"E",scope:{options:"="},template:'<div id="amap_container"></div>',replace:!0,compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-amap",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-amap",void 0),i=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}function e(){var t=Class.extend({_mapOptions:{resizeEnable:!0,zoom:12,center:[116.397428,39.90923],mapStyle:"normal"},init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n,this._mapOptions=angular.extend(this._mapOptions,this._scope.options||{}),this.Amap=new AMap.Map("amap_container",angular.extend({},this._mapOptions))}});return MicroEvent.mixin(t),t}function n(){var t={key:"d44ee59a3cd9611b2069bb8b8d3ec9a0",version:"1.3",url:"https://webapi.amap.com/maps",plugin:[]},e=!0;return{configure:function(e){return t=angular.extend(t,e||{})},$get:function(){return{init:function(){if(e){e=!1;var n=t.url+"?v="+t.version+"&key="+t.key;if(t.plugin.length>0){var i="&plugin";for(var o in t.plugin)i=i+o+",";i=i.substr(0,i.length-1),n=scriptUrl+i}var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,document.body.appendChild(r)}}}}}}t.$inject=["$onsen","hyAmapView"];var i=null;try{i=angular.module("haiyiMobile")}catch(t){i=angular.module("haiyiMobile",["onsen"])}i.directive("hyAmap",t).factory("hyAmapView",e).provider("$hyAmap",n)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyAutoComplete",["$onsen",function(t){return{restrict:"E",scope:{hyaUserContainerClass:"@",hyaUserInputClass:"@",hyaShowIcon:"@",hyaItems:"=",hyaCallBack:"&",hyaPlaceholder:"@"},template:'<div>\t\t\t\t\t\t  <div>\t\t\t\t\t\t  \t<input ng-model="searchUser" ng-focus = "showList()" style="padding-left: 8px" placeholder="{{hyaPlaceholder}}" />\t\t\t\t\t\t  </div>\t\t\t\t\t\t  <ul class = "list hyList"  style="position: absolute; max-height: 200px;">\t\t\t\t\t\t\t<li class="list__item" ng-repeat="item in hyaItems | filter: searchUser" ng-click="contentShow(item)">{{item}}\t\t\t\t\t\t\t\t<i class="ion-close" style="float: right;" ng-click="callBack(item,$event)" ng-if = "showIcon()"></i>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t  </ul>\t\t\t          </div>',link:function(t,e,n){t.ulheight=!0,t.contentShow=function(n){t.hideList(),angular.element(e.find("input")[0]).val(n)},t.showList=function(){var n=angular.element(e.find("input"))[0],i=angular.element(document.body)[0].offsetHeight,o=angular.element(e.find("input"))[0].getBoundingClientRect().top;console.log(t.hyaItems);var r=angular.element(e.find("ul"));console.log(t.$on),r.css("display","block"),t.$watch("$viewContentLoaded",function(){var t=r[0].offsetHeight;console.log(t),i/2<=o?r.css("top",-t+"px"):r.css("top",n.offsetHeight+"px")})},t.hideList=function(){angular.element(e.find("ul")[0]).css("display","none")},t.callBack=function(e,n){n.stopPropagation(),t.hyaCallBack({item:e})},e.bind("click",function(t){return t.stopPropagation(),!1}),angular.element(document.body).bind("click",function(){t.hideList()}),t.showIcon=function(){return"true"==n.hyaShowIcon};var i=n.hyaUserContainerClass;angular.element(e.find("div")[0]).addClass(i);var o=n.hyaUserInputClass;angular.element(e.find("input")[0]).addClass(o)}}}])}(),function(){"use strict";function t(){return{restrict:"A",link:function(t,e,n){var i=function(t,n){e.bind(t,n)},o=e[0].currentStyle?function(t){var n=e[0].currentStyle[t];if("height"===t&&1!==n.search(/px/i)){var i=e[0].getBoundingClientRect();return i.bottom-i.top-parseFloat(o("paddingTop"))-parseFloat(o("paddingBottom"))+"px"}return n}:function(t){return getComputedStyle(e[0],null)[t]},r=parseFloat(o("height"));e[0].style.resize="none";var s=function(){var t,n,i=0,s=e[0].style;e[0]._length!==e[0].value.length&&(e[0]._length=e[0].value.length,i=parseInt(o("paddingTop"))+parseInt(o("paddingBottom")),t=document.body.scrollTop||document.documentElement.scrollTop,e[0].style.height=r+"px",e[0].scrollHeight>r&&(e[0].scrollHeight>100?(n=100-i,s.overflowY="auto"):(n=e[0].scrollHeight-i,s.overflowY="hidden"),s.height=n+"px",t+=parseInt(s.height)-e[0].currHeight,document.body.scrollTop=t,document.documentElement.scrollTop=t,e[0].currHeight=parseInt(s.height)))};i("propertychange",s),i("input",s),i("focus",s),s()}}}var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.directive("hyAutoTextarea",t)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyBackButton",["$onsen","$compile","GenericView","ComponentCleaner",function(t,e,n,i){function o(){return'<div class="hy-layout-row hy-layout-align-center-center" ng-show="showBackButton" ng-click="$root.ons.findParentComponentUntil(\'hy-navi\', $event).popPage({cancelIfRunning: true})" style="width:44px;height:44px"><ons-icon icon="ion-ios-arrow-back" size="32px"></ons-icon></div>'}return{restrict:"E",replace:!1,template:o,transclude:!0,scope:!0,link:{pre:function(e,o,r,s,a){var l=new n(e,o,r);t.declareVarAttribute(r,l),o.data("hy-back-button",l),e.$on("$destroy",function(){l._events=void 0,t.removeModifierMethods(l),o.data("hy-back-button",void 0),o=null}),e.modifierTemplater=t.generateModifierTemplater(r);var c=ons.findParentComponentUntil("hy-navi",o);e.$watch(function(){return c.pages.length},function(t){e.showBackButton=t>1}),i.onDestroy(e,function(){i.destroyScope(e),i.destroyAttributes(r),o=null,e=null,r=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){
t=angular.module("haiyiMobile",["onsen"])}t.factory("BadgeView",["$onsen",function(t){var e=Class.extend({init:function(t,e,n){this._scope=t,this._element=e,this._attrs=n,this._visible=!0,this._badge=angular.element(e[0].querySelector(".hy-badge")),this._scope.$on("$destroy",this._destroy.bind(this))},show:function(){this._element.css("display","block"),this._element.css("opacity",1),this._visible=!0},hide:function(){this._element.css("display","none"),this._visible=!1},isShown:function(){return this._visible},destroy:function(){this._parentScope?(this._parentScope.$destroy(),this._parentScope=null):this._scope.$destroy()},_destroy:function(){this.emit("destroy"),this._scope=this._attrs=this._element=this._badge=null}});return MicroEvent.mixin(e),e}]),t.directive("hyBadge",["$onsen","BadgeView",function(t,e){return{restrict:"EA",scope:{hyaIcon:"@",hyaIconStyle:"@",hyaImgSrc:"@",hyaImgStyle:"@",hyaText:"@",hyaTextStyle:"@",hyaHide:"@",hyaBgStyle:"@class",hyaClick:"&"},template:'<div ng-click="hyaClick()"><img ng-if="hyaImgSrc" ng-src="{{hyaImgSrc}}" class="{{hyaImgStyle}}" /><ons-icon ng-if="hyaIconRel" icon="{{hyaIconRel}}" ng-class="{{hyaIconStyle}}"></ons-icon><span class="{{hyaTextStyle}}" ng-if="hyaText">{{hyaText}}</span></div>',replace:!1,link:{pre:function(n,i,o){function r(){""===n.hyaHide||"true"===n.hyaHide?s.hide():"false"===n.hyaHide&&s.show()}var s=new e(n,i,o);t.declareVarAttribute(o,s),t.registerEventHandlers(s,"destroy"),i.data("hy-badge",s),n.$on("$destroy",function(){s._events=void 0,t.removeModifierMethods(s),i.data("hy-badge",void 0),i=null});var a=angular.element(i.find("div")[0]);a.addClass("hy-badge").addClass("no-content").addClass(n.hyaBgStyle),void 0===n.hyaText&&void 0===n.hyaImgSrc&&void 0===n.hyaIcon||a.removeClass("no-content"),n.hyaImgSrc?n.hyaIconRel=void 0:(n.hyaIcon&&!n.hyaText&&a.css("padding","0 3px"),n.hyaIconRel=n.hyaIcon),n.$watch("hyaHide",function(t,e){r()})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}])}(),function(){"use strict";function t(){function t(t,e,n){angular.isDefined(n.ngDisabled)&&t.$watch(n.ngDisabled,function(t){e.attr("tabindex",t?-1:0)})}return{restrict:"EA",replace:!0,transclude:!0,template:'<a class="hy-button" ng-transclude></a>',link:t}}function e(){function t(t,e,n){}return{restrict:"E",replace:!0,transclude:!0,template:'<p class="hy-buttons-row" ng-transclude></p>',link:t}}var n=null;try{n=angular.module("haiyiMobile")}catch(t){n=angular.module("haiyiMobile",["onsen"])}n.directive("hyButton",t).directive("hyButtons",e)}(),function(){"use strict";var module=null;try{module=angular.module("haiyiMobile")}catch(t){module=angular.module("haiyiMobile",["onsen"])}module.factory("CalendarView",["$onsen","$q","$hyUtil","$hyDateUtil","$hyDateLocale",function($onsen,$q,$hyUtil,$hyDateUtil,$hyDateLocale){var TODAY_CLASS="hy-calendar-day-today",SELECTED_DATE_CLASS="hy-calendar-day-selected",PREV_CLASS="hy-calendar-month-prev",CURRENT_CLASS="hy-calendar-month-current",NEXT_CLASS="hy-calendar-month-next",CalendarView=Class.extend({init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n,this._$hyDateLocale=$hyDateLocale,this._$hyUtil=$hyUtil,this._$hyDateUtil=$hyDateUtil,this.today=this._$hyDateUtil.createDateAtMidnight(),this._scope.displayYear=null,this._scope.displayMonth=null,this.selectedDate=null,this.displayDate=null,this.calendarMonthsHeader=angular.element(this._element[0].querySelector(".hy-calendar-week-days")),this.calendarMonthsWrapper=angular.element(this._element[0].querySelector(".hy-calendar-months-wrapper")),"true"===this._scope.noToolbar?(this._scope.hasToolbar=!1,angular.element(this._element[0].querySelector(".hy-datepicker-calendar-pane")).addClass("no-toolbar")):this._scope.hasToolbar=!0,"true"===this._scope.noClick?this._scope.hasColClick=!1:this._scope.hasColClick=!0,"true"!==this._scope.displayType&&angular.element(this._element[0].querySelector(".hy-datepicker-calendar-pane")).addClass("hy-datepicker-calendar-pane-inline"),this.translateNum=0;var i=this;this._scope.$watch("dateValue",function(){i._initDateValue(),i._initMonthDate()}),this._scope.$watch("dateList",function(){i._initMonthDate()}),this._buildWeekHeader(),this._scope.prevMonth=angular.bind(this,this._moveMonth),this._scope.nextMonth=angular.bind(this,this._moveMonth),this._scope.prevYear=angular.bind(this,this._moveYear),this._scope.nextYear=angular.bind(this,this._moveYear),this._addEventListener()},_initDateValue:function(){void 0===this._scope.dateValue||null===this._scope.dateValue?(this.selectedDate=this.today,this.displayDate=this.today,this._isValidMinDate(this.today,!1)?this._isValidMaxDate(this.today,!1)?(this.selectedDate=this.today,this.displayDate=this.today):(this.selectedDate=this._scope.maxDate,this.displayDate=this._scope.maxDate):(this.selectedDate=this._scope.minDate,this.displayDate=this._scope.minDate)):this._isValidMinDate(this._scope.dateValue,!1)?this._isValidMaxDate(this._scope.dateValue,!1)?(this.selectedDate=this._scope.dateValue,this.displayDate=this._scope.dateValue):(this.selectedDate=this._scope.maxDate,this.displayDate=this._scope.maxDate):(this.selectedDate=this._scope.minDate,this.displayDate=this._scope.minDate),this._setHeadValue()},_initMonthDate:function(){this.calendarMonthsWrapper.empty(),this.calendarMonthsWrapper.append(this._buildCalendarForMonth(this._$hyDateUtil.getDateInPreviousMonth(this.displayDate),"prev")),this.calendarMonthsWrapper.append(this._buildCalendarForMonth(this.displayDate,"current")),this.calendarMonthsWrapper.append(this._buildCalendarForMonth(this._$hyDateUtil.getDateInNextMonth(this.displayDate),"next"))},_setHeadValue:function(){this._scope.displayYear=this.displayDate.getFullYear(),this._scope.displayMonth=this.displayDate.getMonth()+1+""},_isValidMinDate:function(t,e){if(this._scope.minDate){var n=this._scope.minDate;return e&&(n=this._$hyDateUtil.getFirstDateOfMonth(this._scope.minDate)),t.getTime()>=n.getTime()}return!0},_isValidMaxDate:function(t,e){if(this._scope.maxDate){var n=this._scope.maxDate;return e&&(n=this._$hyDateUtil.getLastDateOfMonth(this._scope.maxDate)),t.getTime()<=n.getTime()}return!0},_buildWeekHeader:function(){this.calendarMonthsHeader.append(angular.element('<div class="hy-calendar-week-day"></div><div class="hy-calendar-week-day"></div> <div class="hy-calendar-week-day"></div> <div class="hy-calendar-week-day"></div><div class="hy-calendar-week-day"></div> <div class="hy-calendar-week-day"></div> <div class="hy-calendar-week-day"></div>'))},_getLocaleDay:function(t){return(t.getDay()+(7-this._$hyDateLocale.firstDayOfWeek))%7},_buildCalendarForMonth:function(t,e){var n=this._$hyDateUtil.getFirstDateOfMonth(t),i=this._getLocaleDay(n),o=this._$hyDateUtil.getNumberOfDaysInMonth(t),r=this._$hyDateUtil.getDateInNextMonth(t),s=angular.element("<div>");s.addClass("hy-calendar-month");var a=0,l=0,c=[];if(this._isValidMinDate(t,!0)&&this._isValidMaxDate(t,!0))for(var u=!1,h=0;h<6;h++){var d=angular.element("<div>");if(d.addClass("hy-calendar-row"),u)break;if(0===h)if(0===i)for(var p=0;p<7;p++){var f=this._$hyDateUtil.incrementDays(n,0-(7-p)),m=this._buildDateCell(f,"hy-calendar-day-prev");d.append(m)}else{for(var p=0;p<i;p++){var f=this._$hyDateUtil.incrementDays(n,0-(i-p)),m=this._buildDateCell(f,"hy-calendar-day-prev");d.append(m)}for(var g=0;g<7-i;g++){var _=this._$hyDateUtil.incrementDays(n,a);a++;var m=this._buildDateCell(_,"");d.append(m)}}else for(var g=0;g<7;g++)if(a<o){var _=this._$hyDateUtil.incrementDays(n,a);a++;var m=this._buildDateCell(_,"");d.append(m)}else{var v=this._$hyDateUtil.incrementDays(r,l);l++;var m=this._buildDateCell(v,"hy-calendar-day-next");d.append(m),u=!0}c.push(d)}for(var y=100/c.length+"%",b=0;b<c.length;b++)c[b].css("height",y),s.append(c[b]);return"current"===e?(s.css("transform","translateX("+100*this.translateNum+"%)"),s.css("webkitTransform","translateX("+100*this.translateNum+"%)"),s.addClass(CURRENT_CLASS)):"prev"===e?(s.css("transform","translateX("+100*(this.translateNum-1)+"%)"),s.css("webkitTransform","translateX("+100*(this.translateNum-1)+"%)"),s.addClass(PREV_CLASS)):"next"===e&&(s.css("transform","translateX("+100*(this.translateNum+1)+"%)"),s.css("webkitTransform","translateX("+100*(this.translateNum+1)+"%)"),s.addClass(NEXT_CLASS)),s},_buildDateCell:function(t,e){var n=angular.element("<div>");if(n.addClass("hy-calendar-day"),!this._isValidMinDate(t,!1)||!this._isValidMaxDate(t,!1))return n;if(0!==e.length&&"null"!==e&&n.addClass(e),t){n.attr("data-timestamp",t.getTime()),this._$hyDateUtil.isSameDay(t,this.today)&&n.addClass(TODAY_CLASS),this._$hyDateUtil.isValidDate(this.selectedDate)&&this._$hyDateUtil.isSameDay(t,this.selectedDate)&&this._scope.hasColClick&&n.removeClass(TODAY_CLASS).addClass(SELECTED_DATE_CLASS);var i=this._$hyDateLocale.dates[t.getDate()],o=angular.element('<div class="day-text">');o.text(i),n.append(o),this._scope.hasColClick&&n[0].addEventListener("click",angular.bind(this,this._dateCellClickHander))}return this._setCellDayStyle(n,t),n},_dateCellClickHander:function(t){var e=angular.element(t.target).parent(),n=this;e.attr("data-timestamp")&&this._scope.$apply(function(){var t=Number(e.attr("data-timestamp")),i=n._$hyDateUtil.createDateAtMidnight(t);n._isValidMinDate(i,!1)&&n._isValidMaxDate(i,!1)&&(n._scope.dateValue=i,n._scope.dateChange&&n._scope.dateChange({date:i}))})},_moveMonth:function(t){if(1===t){if(!this._isValidMinDate(this._$hyDateUtil.getDateInPreviousMonth(this.displayDate),!0))return;this.translateNum--,this.displayDate=this._$hyDateUtil.getDateInPreviousMonth(this.displayDate)}else if(2===t){if(!this._isValidMaxDate(this._$hyDateUtil.getDateInNextMonth(this.displayDate),!0))return;this.translateNum++,this.displayDate=this._$hyDateUtil.getDateInNextMonth(this.displayDate)}this._scope.monthChange&&this._scope.monthChange({date:this.displayDate}),this.calendarMonthsWrapper.css("transform","translateX("+100*(0-this.translateNum)+"%)"),this.calendarMonthsWrapper.css("webkitTransform","translateX("+100*(0-this.translateNum)+"%)"),this._updateMonth(t),this._setHeadValue()},_updateMonth:function(t){var e=angular.element(this.calendarMonthsWrapper[0].querySelector("."+NEXT_CLASS)),n=angular.element(this.calendarMonthsWrapper[0].querySelector("."+PREV_CLASS)),i=angular.element(this.calendarMonthsWrapper[0].querySelector("."+CURRENT_CLASS));1===t?(e&&e.remove(),i.removeClass(CURRENT_CLASS).addClass(NEXT_CLASS),n.removeClass(PREV_CLASS).addClass(CURRENT_CLASS),this.calendarMonthsWrapper.append(this._buildCalendarForMonth(this._$hyDateUtil.getDateInPreviousMonth(this.displayDate),"prev"))):2===t&&(n&&n.remove(),i.removeClass(CURRENT_CLASS).addClass(PREV_CLASS),e.removeClass(NEXT_CLASS).addClass(CURRENT_CLASS),this.calendarMonthsWrapper.append(this._buildCalendarForMonth(this._$hyDateUtil.getDateInNextMonth(this.displayDate),"next")))},_moveYear:function(t){if(1===t){if(!this._isValidMinDate(this._$hyDateUtil.getDateInPreviousYear(this.displayDate),!0))return;this.displayDate=this._$hyDateUtil.getDateInPreviousYear(this.displayDate);angular.element(this.calendarMonthsWrapper[0].querySelector("."+PREV_CLASS)).remove(),this.calendarMonthsWrapper.append(this._buildCalendarForMonth(this.displayDate,"prev")),this.translateNum--}else if(2===t){if(!this._isValidMaxDate(this._$hyDateUtil.getDateInNextYear(this.displayDate),!0))return;this.displayDate=this._$hyDateUtil.getDateInNextYear(this.displayDate);var e=angular.element(this.calendarMonthsWrapper[0].querySelector("."+NEXT_CLASS));e.remove(),this.calendarMonthsWrapper.append(this._buildCalendarForMonth(this.displayDate,"next")),this.translateNum++}this._scope.monthChange&&this._scope.monthChange({date:this.displayDate}),this.calendarMonthsWrapper.css("transform","translateX("+100*(0-this.translateNum)+"%)"),this.calendarMonthsWrapper.css("webkitTransform","translateX("+100*(0-this.translateNum)+"%)"),this._updateYear(t),this._setHeadValue()},_updateYear:function(t){var e=angular.element(this.calendarMonthsWrapper[0].querySelector("."+NEXT_CLASS)),n=angular.element(this.calendarMonthsWrapper[0].querySelector("."+PREV_CLASS)),i=angular.element(this.calendarMonthsWrapper[0].querySelector("."+CURRENT_CLASS));1===t?(i.remove(),e.remove(),n.removeClass(PREV_CLASS).addClass(CURRENT_CLASS)):2===t&&(n.remove(),i.remove(),e.removeClass(NEXT_CLASS).addClass(CURRENT_CLASS)),this.calendarMonthsWrapper.append(this._buildCalendarForMonth(this._$hyDateUtil.getDateInPreviousMonth(this.displayDate),"prev")),this.calendarMonthsWrapper.append(this._buildCalendarForMonth(this._$hyDateUtil.getDateInNextMonth(this.displayDate),"next"))},_addEventListener:function(){function t(t){i=!0,r=l="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,s=l="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,c=(new Date).getTime(),m=0,v=!0,_=void 0,h=d=this.translateNum}function e(t){if(i){if(a="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,l="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===_&&(_=!!(_||Math.abs(l-s)>Math.abs(a-r))),_)return void(i=!1);t.preventDefault(),v=!1,o||(o=!0,p=this.calendarMonthsWrapper[0].offsetWidth,f=this.calendarMonthsWrapper[0].offsetHeight,this.calendarMonthsWrapper.css("transition","0ms"),this.calendarMonthsWrapper.css("webkitTransition","0ms")),t.preventDefault(),g=a-r,m=g/p,d=-100*this.translateNum+100*m,this.calendarMonthsWrapper.css("transform","translateX("+d+"%)"),this.calendarMonthsWrapper.css("webkitTransform","translateX("+d+"%)")}}function n(t){if(!i||!o)return void(i=o=!1);i=o=!1,this.calendarMonthsWrapper.css("transition","300ms"),this.calendarMonthsWrapper.css("webkitTransition","300ms"),u=(new Date).getTime(),u-c<300?Math.abs(g)<10?(this.calendarMonthsWrapper.css("transform","translateX("+-100*this.translateNum+"%)"),this.calendarMonthsWrapper.css("webkitTransform","translateX("+-100*this.translateNum+"%)")):g>=10?this._isValidMinDate(this._$hyDateUtil.getDateInPreviousMonth(this.displayDate),!0)?this._scope.$apply(this._moveMonth(1)):(this.calendarMonthsWrapper.css("transform","translateX("+-100*this.translateNum+"%)"),this.calendarMonthsWrapper.css("webkitTransform","translateX("+-100*this.translateNum+"%)")):this._isValidMaxDate(this._$hyDateUtil.getDateInNextMonth(this.displayDate),!0)?this._scope.$apply(this._moveMonth(2)):(this.calendarMonthsWrapper.css("transform","translateX("+-100*this.translateNum+"%)"),this.calendarMonthsWrapper.css("webkitTransform","translateX("+-100*this.translateNum+"%)")):m<=-.5?this._isValidMaxDate(this._$hyDateUtil.getDateInNextMonth(this.displayDate),!0)?this._scope.$apply(this._moveMonth(2)):(this.calendarMonthsWrapper.css("transform","translateX("+-100*this.translateNum+"%)"),this.calendarMonthsWrapper.css("webkitTransform","translateX("+-100*this.translateNum+"%)")):m>=.5&&this._isValidMinDate(this._$hyDateUtil.getDateInPreviousMonth(this.displayDate),!0)?this._scope.$apply(this._moveMonth(1)):(this.calendarMonthsWrapper.css("transform","translateX("+-100*this.translateNum+"%)"),this.calendarMonthsWrapper.css("webkitTransform","translateX("+-100*this.translateNum+"%)")),setTimeout(function(){v=!0},100)}var i,o,r,s,a,l,c,u,h,d,p,f,m,g,_,v=!0;this.calendarMonthsWrapper.on(this._$hyUtil.gettouchEvent().start,angular.bind(this,t)),this.calendarMonthsWrapper.on(this._$hyUtil.gettouchEvent().move,angular.bind(this,e)),this.calendarMonthsWrapper.on(this._$hyUtil.gettouchEvent().end,angular.bind(this,n))},_setCellDayStyle:function(cell,opt_date){var cY=opt_date.getFullYear(),cM=opt_date.getMonth()+1<10?"0"+(opt_date.getMonth()+1):opt_date.getMonth()+1,cD=opt_date.getDate()<10?"0"+opt_date.getDate():opt_date.getDate(),cd=cY+"-"+cM+"-"+cD;if(this._scope.dateList){var cellBody=angular.element('<div class="default-atten"></div>');if(this._scope.dateList=eval(this._scope.dateList),angular.isArray(this._scope.dateList))for(var i=0;i<this._scope.dateList.length;i++)if(this._scope.dateList[i].date&&!(this._scope.dateList[i].date.length<10)&&this._scope.dateList[i].date.substr(0,10)==cd){var dateTag=this._scope.dateList[i],content,className;if(dateTag.topTag){content=dateTag.topTag.content?dateTag.topTag.content:"",className=dateTag.topTag.className?dateTag.topTag.className:"";var topTagEle=angular.element('<div class="hy-calendar-day-top-tag">'+content+"</div>");topTagEle.addClass("hy-calendar-day-top-tag-"+className),cell.append(topTagEle)}if(dateTag.bottomTag){content=dateTag.bottomTag.content?dateTag.bottomTag.content:"",className=dateTag.bottomTag.className?dateTag.bottomTag.className:"";var bottomTagEle=angular.element('<div class="hy-calendar-day-bottom-tag">'+content+"</div>");bottomTagEle.addClass("hy-calendar-day-bottom-tag-"+className),cell.append(bottomTagEle)}if(dateTag.rightTag){content=dateTag.rightTag.content?dateTag.rightTag.content:"",className=dateTag.rightTag.className?dateTag.rightTag.className:"";var rightTagEle=angular.element('<div class="hy-calendar-day-right-tag">'+content+"</div>");rightTagEle.addClass("hy-calendar-day-right-tag-"+className),cell.append(rightTagEle)}if(dateTag.maskLayer){className=dateTag.maskLayer?dateTag.maskLayer:"";var maskLayerEle=angular.element('<div class="hy-calendar-day-mask"></div>');maskLayerEle.addClass("hy-calendar-day-mask-"+className),cell.append(maskLayerEle)}}}},getDisplayDate:function(){return this.displayDate},moveToDate:function(t){var e=1;if(t.getTime()<this.displayDate.getTime()){if(e=1,!this._isValidMinDate(t,!0))return;this.displayDate=t;angular.element(this.calendarMonthsWrapper[0].querySelector("."+PREV_CLASS)).remove(),this.calendarMonthsWrapper.append(this._buildCalendarForMonth(this.displayDate,"prev")),this.translateNum--}else{if(e=2,!this._isValidMaxDate(t,!0))return;this.displayDate=t;angular.element(this.calendarMonthsWrapper[0].querySelector("."+NEXT_CLASS)).remove(),this.calendarMonthsWrapper.append(this._buildCalendarForMonth(this.displayDate,"next")),this.translateNum++}this._scope.monthChange&&this._scope.monthChange({date:this.displayDate}),this.calendarMonthsWrapper.css("transform","translateX("+100*(0-this.translateNum)+"%)"),this.calendarMonthsWrapper.css("webkitTransform","translateX("+100*(0-this.translateNum)+"%)"),this._updateYear(e),this._setHeadValue()}});return MicroEvent.mixin(CalendarView),CalendarView}]),module.directive("hyCalendar",["$onsen","CalendarView",function(t,e){function n(t,e){return'<div class="hy-datepicker-calendar-pane"><div class="hy-calendar-toolbar" ng-if="hasToolbar"><div class="hy-calendar-toolbar-innner"><div class="hy-calendar-year-picker"><div class="hy-calendar-move-button"><ons-button class="button button--quiet hy-calendar-move-button-color"  ng-click="prevYear(1)"><ons-icon icon="fa-angle-left" size="40px"></ons-icon></ons-button></div><div class="hy-calendar-move-span"><span >{{displayYear}}</span></div><div class="hy-calendar-move-button"><ons-button class="button button--quiet hy-calendar-move-button-color" ng-click="nextYear(2)"><ons-icon icon="fa-angle-right" size="40px"></ons-icon></ons-button></div></div><div class="hy-calendar-month-picker"><div class="hy-calendar-move-button"><ons-button class="button button--quiet hy-calendar-move-button-color"  ng-click="prevMonth(1)"><ons-icon icon="fa-angle-left" size="40px"></ons-icon></ons-button></div><div class="hy-calendar-move-span"><span>{{displayMonth}}</span></div><div class="hy-calendar-move-button"><ons-button class="button button--quiet hy-calendar-move-button-color"  ng-click="nextMonth(2)"><ons-icon icon="fa-angle-right" size="40px"></ons-icon></ons-button></div></div></div></div><div class="hy-calendar-inner"><div class="hy-calendar-week-days"></div><div class="hy-calendar-months"><div class="hy-calendar-months-wrapper"></div></div></div></div>'}return{restrict:"E",template:n,scope:{minDate:"=hyaMinDate",maxDate:"=hyaMaxDate",dateValue:"=hyaDateValue",dateChange:"&hyaDateChange",displayType:"@hyaInline",noToolbar:"@hyaNoToolbar",noClick:"@hyaNoClick",monthChange:"&hyaMonthChange",dateList:"=hyaDateList"},compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-calendar",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-calendar",void 0),i=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyCarousel",["$onsen","HyCarouselView",function(t,e){return{restrict:"E",replace:!1,scope:!1,transclude:!1,compile:function(n,i){return function(n,i,o){var r=new e(n,i,o);i.data("hy-carousel",r),t.registerEventHandlers(r,"postchange refresh overscroll destroy"),t.declareVarAttribute(o,r),n.$on("$destroy",function(){r._events=void 0,i.data("hy-carousel",void 0),i=null}),i[0].hasAttribute("auto-refresh")&&n.$watch(function(){return i[0].childNodes.length},function(){setImmediate(function(){r.refresh()})}),setImmediate(function(){r.refresh()}),t.fireComponentEvent(i[0],"init")}}}}]),t.factory("HyCarouselView",["$onsen","$hyUtil",function(t,e){var n=Class.extend({_element:void 0,_scope:void 0,_doorLock:void 0,_scroll:void 0,init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n,this._lastActiveIndex=0,this._activeIndex=0,this._bindedTouchStart=this._handleTouchStart.bind(this),this._bindedTouchMove=this._handleTouchMove.bind(this),this._bindedTouchEnd=this._handleTouchEnd.bind(this),this._bindedLayoutCarouselItems=this._resizeLayoutCarouselItem.bind(this),this._getElementSize(),this._prepareEventListeners(),this._setupInitialIndex(),this._layoutCarouselItems(),this._bindOtherItemClick(),this._scope.$on("$destroy",this._destroy.bind(this))},_getElementSize:function(){return this._currentElementWidthSize=this._element[0].getBoundingClientRect().width,this._currentElementHeightSize=this._element[0].getBoundingClientRect().height,this._currentElementWidthSize},_layoutCarouselItems:function(){var t=this._getCarouselItemElements(),e=this._getCarouselItemSizeAttr(),n=this._decomposeSizeString(e);this._sizeNumber=n.number;for(var i=0;i<t.length;i++){var o=angular.element(t[i]);i==this._activeIndex?(o.css({position:"absolute",transform:"scale(1)","-webkit-transform":"scale(1)",transition:"300ms","-webkit-transition":"300ms",width:e,height:this._currentElementHeightSize-30+"px",top:"15px",visibility:"visible",left:(this._currentElementWidthSize-n.number)/2+n.unit,"z-index":500}),o.addClass("hy-carousel-active")):i>this._activeIndex?(o.css({position:"absolute",transform:"scale(0.8)","-webkit-transform":"scale(0.8)",transition:"300ms","-webkit-transition":"300ms",width:e,height:this._currentElementHeightSize-30+"px",top:"15px",visibility:"visible",left:this._currentElementWidthSize-n.number+(i-this._activeIndex-1)*n.number+n.unit,"z-index":200}),o.removeClass("hy-carousel-active")):(o.css({position:"absolute",transform:"scale(0.8)","-webkit-transform":"scale(0.8)",transition:"300ms","-webkit-transition":"300ms",width:e,height:this._currentElementHeightSize-30+"px",top:"15px",visibility:"visible",left:0+(i-this._activeIndex+1)*n.number+n.unit,"z-index":200}),o.removeClass("hy-carousel-active"))}},getActiveIndex:function(){return this._activeIndex},_resizeLayoutCarouselItem:function(){this._getElementSize(),this.refresh()},_bindOtherItemClick:function(){for(var t=this._getCarouselItemElements(),e=this,n=0;n<t.length;n++){var i=angular.element(t[n]);i.data("_index",n),i.on("click",function(){var t=angular.element(this).data("_index");e._activeIndex=t,e._layoutCarouselItems(),e._tryFirePostChangeEvent()})}},_handleTouchStart:function(t){this.isTouched=!0,this.touchStartX=this.touchCurrentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,this.touchStartY=this.touchCurrentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,this.touchStartTime=(new Date).getTime(),this.percentage=0,this.allowItemClick=!0,this.isScrolling=void 0},_handleTouchMove:function(t){if(this.isTouched){if(this.touchCurrentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,this.touchCurrentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===this.isScrolling&&(this.isScrolling=!!(this.isScrolling||Math.abs(this.touchCurrentY-this.touchStartY)>Math.abs(this.touchCurrentX-this.touchStartX))),this.isScrolling)return void(this.isTouched=!1);t.preventDefault(),this.allowItemClick=!1,this.isMoved||(this.isMoved=!0),t.preventDefault(),this.touchesDiff=this.touchCurrentX-this.touchStartX,this.percentage=this.touchesDiff/this._sizeNumber}},_handleTouchEnd:function(t){if(!this.isTouched||!this.isMoved)return void(this.isTouched=this.isMoved=!1);this.isTouched=this.isMoved=!1,this.touchEndTime=(new Date).getTime(),this.touchEndTime-this.touchStartTime<300?Math.abs(this.touchesDiff)<10||(this.touchesDiff>=10?this.setActiveCarouselItemIndex(this.getActiveIndex()-1):this.setActiveCarouselItemIndex(this.getActiveIndex()+1)):this.percentage<=-.5?this.setActiveCarouselItemIndex(this.getActiveIndex()+1):this.percentage>=.5&&this.setActiveCarouselItemIndex(this.getActiveIndex()-1),this._layoutCarouselItems(),this._tryFirePostChangeEvent(),setTimeout(function(){this.allowItemClick=!0},100)},_getCarouselItemSize:function(){var t=this._getCarouselItemSizeAttr(),e=this._decomposeSizeString(t),n=this._getElementSize();if("%"===e.unit)return Math.round(e.number/100*n);if("px"===e.unit)return e.number;throw new Error("Invalid state")},_getInitialIndex:function(){var t=parseInt(this._element.attr("initial-index"),10);return"number"!=typeof t||isNaN(t)?0:Math.max(Math.min(t,this._getCarouselItemCount()-1),0)},_getCarouselItemSizeAttr:function(){var t=(""+this._element.attr("item-width")).trim();return t.match(/^\d+(px|%)$/)?t:"100%"},_decomposeSizeString:function(t){var e=t.match(/^(\d+)(px|%)/);return{number:parseInt(e[1],10),unit:e[2]}},_setupInitialIndex:function(){this._lastActiveIndex=this._getInitialIndex(),this._activeIndex=this._getInitialIndex()},setActiveCarouselItemIndex:function(t){t=Math.max(0,Math.min(t,this._getCarouselItemCount()-1)),this._activeIndex=t,this._layoutCarouselItems(),this._tryFirePostChangeEvent()},next:function(){this.setActiveCarouselItemIndex(this.getActiveIndex()+1)},prev:function(){this.setActiveCarouselItemIndex(this.getActiveIndex()-1)},setDisabled:function(t){t?this._element[0].setAttribute("disabled",""):this._element[0].removeAttribute("disabled")},isDisabled:function(){return this._element[0].hasAttribute("disabled")},_mixin:function(t){Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this))},_prepareEventListeners:function(){this._element.on(e.gettouchEvent().start,this._bindedTouchStart),this._element.on(e.gettouchEvent().move,this._bindedTouchMove),this._element.on(e.gettouchEvent().end,this._bindedTouchEnd),angular.element(window).on("resize",this._bindedLayoutCarouselItems)},_tryFirePostChangeEvent:function(){var t=this.getActiveIndex();if(this._lastActiveIndex!==t){var e=this._lastActiveIndex;this._lastActiveIndex=t,this.emit("postchange",{carousel:this,activeIndex:t,lastActiveIndex:e})}},_getCarouselItemElements:function(){for(var t=this._element[0].children,e=[],n=t.length;n--;)e.unshift(t[n]);return e=e.filter(function(t){return"ons-carousel-item"===t.nodeName.toLowerCase()})},_getCarouselItemCount:function(){return this._getCarouselItemElements().length},refresh:function(){0!==this._getCarouselItemSize()&&(this._layoutCarouselItems(),this._bindOtherItemClick(),this.emit("refresh",{carousel:this}))},first:function(){this.setActiveCarouselItemIndex(0)},last:function(){this.setActiveCarouselItemIndex(Math.max(this._getCarouselItemCount()-1,0))},_destroy:function(){this.emit("destroy"),angular.element(window).off("resize",this._bindedLayoutCarouselItems),this._element=this._scope=this._attrs=null}});return MicroEvent.mixin(n),n}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("HyChartTheme",["$http",function(t){return{get:function(t){}}}]),t.factory("HyChartUtil",function(){function t(t){return["pie","donut"].indexOf(t)>-1}function e(t){return["map"].indexOf(t)>-1}function n(t){return["line","bar","boxplot"].indexOf(t)>-1}function i(t,e,n){return angular.isObject(e.title)?e.title:{text:e.title,subtext:e.subtitle||"",left:"center"}}function o(e,n,i){var o={data:[]};return t(i)?(angular.forEach(e,function(t){if(!angular.isArray(t.data))return!0;angular.forEach(t.data,function(t){o.data.push(t.name)})}),o.orient="verticle",o.x="right",o.y="center"):(angular.forEach(e,function(t){o.data.push(t.name)}),o.orient="horizontal"),angular.extend(o,n.legend||{})}function r(t,e,n){var i=[];return t[0]&&angular.forEach(t[0].datapoints,function(t){i.push(t.x)}),{type:"category",boundaryGap:"bar"===n,data:i}}function s(i,o,r){var s=[];return angular.forEach(i,function(i){var a=[];angular.forEach(i.datapoints,function(t){a.push(t.y)});var l={type:r||"line",name:i.name,data:a};"area"===r&&(l.type="line",l.itemStyle={normal:{areaStyle:{type:"default"}}}),"gauge"===r&&(l=angular.extend(l,{splitNumber:10,axisLine:{lineStyle:{color:[[.2,"#228b22"],[.8,"#48b"],[1,"#ff4500"]],width:8}},axisTick:{splitNumber:10,length:12,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{show:!0,length:30,lineStyle:{color:"auto"}},pointer:{width:5},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{fontWeight:"bolder"}},detail:{formatter:"{value}%",textStyle:{color:"auto",fontWeight:"bolder"}}},o.gauge||{})),n(r)||(l.data=[],angular.forEach(i.datapoints,function(t){l.data.push({value:t.y,name:t.x})})),t(r)&&(l.type="pie",l.center=o.center||["40%","50%"],l.radius=o.radius||"60%","donut"===r?(l.radius=o.radius||["50%","70%"],l=angular.extend(l,{itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{label:{show:!0,position:"center",textStyle:{fontSize:"50",fontWeight:"bold"}}}}},o.donut||{})):"pie"===r&&(l=angular.extend(l,{itemStyle:{normal:{label:{position:"inner",formatter:function(t){return(+t.percent).toFixed()+"%"}},labelLine:{show:!1}},emphasis:{label:{show:!0,formatter:"{b}\n{d}%"}}}},o.pie||{}))),e(r)&&(l.type="map",l=angular.extend(l,{},o.map||{})),o.stack&&(l.stack="total"),"radar"===r&&(l.data=i.data),s.push(l)}),s}function a(t,e,n){var i={};switch(n){case"line":i.trigger="axis";break;case"pie":case"bar":case"map":case"gauge":i.trigger="item"}return"pie"===n&&(i.formatter="{a} <br/>{b}: {c} ({d}%)"),"map"===n&&(i.formatter="{b}"),angular.extend(i,angular.isObject(e.tooltip)?e.tooltip:{})}function l(t,e){return e||(e=function(t){return Math.round(100*t)/100}),t=Math.abs(t),t>=1e12?e(t/1e12)+"T":t>=1e9?e(t/1e9)+"B":t>=1e6?e(t/1e6)+"M":t>=1e3?e(t/1e3)+"K":t<1&&t>0?e(t):0===t?"":e(t)}return{isPieChart:t,isAxisChart:n,getAxisTicks:r,getSeries:s,getLegend:o,getTooltip:a,getTitle:i,formatKMBT:l}}),t.factory("HyChartView",["$onsen","$http","$timeout","HyChartUtil","HyChartTheme",function(t,e,n,i,o){var r=Class.extend({init:function(t,e,n,i){if(this._element=e,this._scope=t,this._attrs=n,this._echarts=window.echarts,this._type=i||"line",this._timer=null,this.chart=null,!this._echarts)throw new Error("Echarts.");this._configWatch=this._scope.$watch(function(){return{config:this._scope.config,data:this._scope.data}}.bind(this),function(t){t&&this.build()}.bind(this),!0),this._onResize=this._chartResize.bind(this),this._catchSize=null,this._timer=null;var o=function(){var t=this._element[0].clientWidth,e=this._element[0].clientHeight;t&&e&&this._catchSize&&(this._catchSize.w!=t||this._catchSize.h!=e)&&this._chartResize(),this._catchSize={w:t,h:e}}.bind(this);this._chartInterval=setInterval(o,300),angular.element(window).on("resize",this._onResize),this._scope.$on("$destroy",this._destroy.bind(this))},_chartResize:function(){this.chart&&this.chart.resize()},_setElementSize:function(t){},_getOption:function(t,e,n){if("chart"==n){var o=t;return o}e=angular.extend({showXAxis:!0,showYAxis:!0,showLegend:!0},e)
;var r=angular.extend({},angular.isObject(e.xAxis)?e.xAxis:{}),s=angular.extend({axisLabel:{formatter:function(t){return i.formatKMBT(t)}}},angular.isObject(e.yAxis)?e.yAxis:{}),o={title:i.getTitle(t,e,n),tooltip:i.getTooltip(t,e,n),legend:i.getLegend(t,e,n),toolbox:angular.extend({show:!1},angular.isObject(e.toolbox)?e.toolbox:{}),xAxis:[angular.extend(r,i.getAxisTicks(t,e,n))],yAxis:[s],series:i.getSeries(t,e,n)};return e.showXAxis||angular.forEach(o.xAxis,function(t){t.axisLine={show:!1},t.axisLabel={show:!1},t.axisTick={show:!1}}),e.showYAxis||angular.forEach(o.yAxis,function(t){t.axisLine={show:!1},t.axisLabel={show:!1},t.axisTick={show:!1}}),e.showLegend&&"gauge"!==n&&"map"!==n||delete o.legend,i.isAxisChart(n)||(delete o.xAxis,delete o.yAxis),e.dataZoom&&(o.dataZoom=angular.extend({show:!0,realtime:!0},e.dataZoom)),e.dataRange&&(o.dataRange=angular.extend({},e.dataRange)),e.polar&&(o.polar=e.polar),o},_setOption:function(t){t=t||this._type;var n=this._scope;if("chart"==t&&(n.config=n.config||{}),n.data&&n.config){var i,o=!1,r={color:"red",fontSize:36,fontWeight:900,fontFamily:"Microsoft Yahei, Arial"};if(this._setElementSize(n.config),this.chart||(this.chart=this._echarts.init(this._element[0])),n.config.events&&(angular.isArray(n.config.events)||(n.config.events=[n.config.events]),n.config.events.forEach(function(t){this.chart.off(t.type),this.chart.on(t.type,function(e){t.fn.call(this,e)},this)}.bind(this))),angular.isString(n.data)){if(o)return;return o=!0,this.chart.showLoading({text:n.config.loading||"...",textStyle:r}),void e.get(n.data).success(function(e){o=!1,this.chart.hideLoading(),e?(i=this._getOption(e,n.config,t),n.config.forceClear&&this.chart.clear(),i.series.length?(i.series[0].data||(i.series[0].data=[]),this.chart.setOption(i),this.chart.resize()):this.chart.showLoading({text:n.config.errorMsg||"",textStyle:r})):this.chart.showLoading({text:n.config.emptyMsg||"",textStyle:r})}.bind(this)).error(function(t){o=!1,this.chart.showLoading({text:n.config.emptyMsg||"",textStyle:r})})}i=this._getOption(n.data,n.config,t),n.config.forceClear&&this.chart.clear(),i.series.length?(i.series[0].data||(i.series[0].data=[]),this.chart.setOption(i),this.chart.resize()):this.chart.showLoading({text:n.config.errorMsg||"",textStyle:r})}},_isMapChart:function(){var t=this._scope.data.series,e="chart"==this._type&&angular.isArray(t)&&t.length>0&&"map"==t[0].type;e&&this._scope.config.mapName!=t[0].map&&(this._scope.data.series[0].map=this._scope.data.series[0].mapType=this._scope.config.mapName);var n=this._scope.data.geo,i="chart"==this._type&&n&&n.map;return i&&this._scope.config.mapName!=n.map&&(this._scope.data.geo.map=this._scope.config.mapName),e=e||i,"map"==this._type||e},_refresh:function(){this._timer&&n.cancel(this._timer);var t=this._scope;if(this._isMapChart()&&t.config.isJson)return void e.get(t.config.jsonPath).success(function(e){this._echarts.registerMap(t.config.mapName,e),this._setOption()}.bind(this)).error(function(t){throw new Error(".")});this._setOption()},refresh:function(){this._timer&&n.cancel(this._timer),setImmediate(this._refresh.bind(this))},build:function(){this._timer&&n.cancel(this._timer),this._timer=n(this._refresh.bind(this),300)},_destroy:function(){this.emit("destroy"),this._configWatch(),this._chartInterval&&clearInterval(this._chartInterval),angular.element(window).off("resize",this._onResize),this._element=this._scope=this._attrs=null,this._timer&&n.cancel(this._timer)}});return MicroEvent.mixin(r),r}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}var e="line bar pie radar map area gauge  scatter effectScatter treemap boxplot candlestick k heatmap parallel lines graph sankey funnel".split(/ +/);angular.forEach(e,function(e){!function(e){var n=e.charAt(0).toUpperCase()+e.slice(1);t.directive("hy"+n+"Chart",["$onsen","HyChartView",function(t,n){return{restrict:"EA",scope:{config:"= ",data:"=hyaData"},link:{pre:function(t,e){e.addClass("hyc-chart")},post:function(i,o,r){var s=new n(i,o,r,e);t.declareVarAttribute(r,s),t.registerEventHandlers(s,"destroy"),o.data("hy-"+e+"-chart",s),i.$on("$destroy",function(){t.removeModifierMethods(s),o.data("hy-"+e+"-chart",void 0),o=null}),t.fireComponentEvent(o[0],"init")}}}}])}(e)}),t.directive("hyChart",["$onsen","HyChartView",function(t,e){return{restrict:"EA",scope:{config:"=hyaConfig",data:"=hyaData"},link:{pre:function(t,e){e.addClass("hyc-chart")},post:function(n,i,o){var r=new e(n,i,o,"chart");t.declareVarAttribute(o,r),t.registerEventHandlers(r,"destroy"),i.data("hy-chart",r),n.$on("$destroy",function(){t.removeModifierMethods(r),i.data("hy-chart",void 0),i=null}),t.fireComponentEvent(i[0],"init")}}}}])}(),function(){"use strict";function t(t,e){function n(t,e){return e.hasOwnProperty("hyInkRippleCheckbox")?'<div class="hy-container" hy-ink-ripple hy-ink-ripple-checkbox><div class="hy-icon"></div></div><div ng-transclude class="hy-label"></div>':'<div class="hy-container" ><div class="hy-icon"></div></div><div ng-transclude class="hy-label"></div>'}function i(n,i){function o(n,i,o,r){function s(t){t.which||t.keyCode}function a(t){i[0].hasAttribute("disabled")||n.skipToggle||n.$apply(function(){var e=o.ngChecked?o.checked:!r.$viewValue;r.$setViewValue(e,t&&t.type),r.$render()})}function l(){i.toggleClass("hy-checked",!!r.$viewValue&&!u)}function c(t){u=!1!==t,u&&i.attr("aria-checked","mixed"),i.toggleClass("hy-indeterminate",u)}var u;r=r||e.fakeNgModel(),e.parseAttributeBoolean(o.hyIndeterminate)&&(c(),n.$watch(o.hyIndeterminate,c)),o.ngChecked&&n.$watch(n.$eval.bind(n,o.ngChecked),function(t){r.$setViewValue(t),r.$render()}),function(t,e,r){o[t]&&n.$watch(o[t],function(t){r[t]&&i.attr(e,r[t])})}("ngDisabled","tabindex",{true:"-1",false:o.tabindex}),t.link.pre(n,{on:angular.noop,0:{}},o,[r]),n.mouseActive=!1,i.on("click",a).on("keypress",s),r.$render=l}return i.$set("tabindex",i.tabindex||"0"),i.$set("type","checkbox"),i.$set("role",i.type),{pre:function(t,e){e.on("click",function(t){this.hasAttribute("disabled")&&t.stopImmediatePropagation()})},post:o}}return t=t[0],{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:n,compile:i}}t.$inject=["inputDirective","$hyUtil"];var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.directive("hyCheckbox",t)}(),function(){"use strict";function t(){return{require:"?ngModel",link:function(t,e,n,i){i&&(e.bind("input",function(){var o=!1,r=e.html();n.noLineBreaks&&(r=r.replace(/<div>/g,"").replace(/<br>/g,"").replace(/<\/div>/g,""),o=!0),t.$apply(function(){i.$setViewValue(r),o&&i.$render()})}),e.bind("blur",function(){console.log(""),e.flur()}),i.$render=function(){e.html(i.$viewValue)},i.$render())}}}var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.directive("contenteditable",t)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyCountDown",["$onsen","CountDownView",function(t,e){function n(){return'<div class="layout-row layout-align-around-center"><span ng-if=ifDay><span style="background: black;color: white">{{day}}</span><span></span></span><span ng-if=ifHour><span style="background: black;color: white">{{hour}}</span><span></span></span><span ng-if=ifMinute><span style="background: black;color: white">{{minute}}</span><span></span></span><span ng-if=ifSecond><span style="background: black;color: white">{{second}}</span><span></span></span></div>'}return{restrict:"E",template:n,transclude:!1,scope:{hyaTime:"=",hyaDateFormat:"@"},compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(r),i.data("hy-count-down",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-count-down",void 0),i=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}]),t.factory("CountDownView",["$onsen","$interval",function(t,e){var n=Class.extend({init:function(t,n,i){this._element=n,this._scope=t,this._attrs=i,this._scope.day="00",this._scope.hour="00",this._scope.minute="00",this._scope.second="00",this._scope.ifDay=!1,this._scope.ifHour=!1,this._scope.ifMinute=!1,this._scope.ifSecond=!1,this.jude="true",this._scope.$on("$destroy",this._destroy.bind(this)),this._scope.$watch("hyaTime",function(){e.cancel(this.aaa),this._hyaTime=t.hyaTime,this._resetTime=this._surplusTime(),this._downTime(),this.times=angular.bind(this,this._subtractTime),console.log(t.hyaTime)}.bind(this))},_judgeSpan:function(){if(this._scope.hyaDateFormat)for(var t=this._scope.hyaDateFormat.split(":"),e=0;e<t.length;e++)"dd"==t[e]?this._scope.ifDay=!0:"hh"==t[e]?this._scope.ifHour=!0:"mm"==t[e]?this._scope.ifMinute=!0:"ss"==t[e]&&(this._scope.ifSecond=!0);else this._scope.ifDay=!0,this._scope.ifHour=!0,this._scope.ifMinute=!0,this._scope.ifSecond=!0,"00"==this._scope.day&&(this._scope.ifDay=!1),"00"==this._scope.hour&&(this._scope.ifHour=!1),"00"==this._scope.minute&&(this._scope.ifMinute=!1)},_surplusTime:function(){return new Date(this._hyaTime).getTime()-(new Date).getTime()},_subtractTime:function(){var t=this._resetTime/1e3;if("true"==this.jude&&(this._judgeSpan(),this.jude="false"),t<=0)return void e.cancel(this.aaa);this._resetTime-=1e3;var n=Math.floor(t/60),i=Math.floor(n/60),o=Math.floor(i/24);this._scope.day=this._addZero(o),this._scope.hour=this._addZero(i%24),this._scope.minute=this._addZero(n%60),this._scope.second=this._addZero(Math.floor(t%60))},_downTime:function(){var t=this;t.aaa=e(function(){console.log("222"),t.times()},1e3)},_addZero:function(t){return t<10?"0"+t:t},_destroy:function(){this.emit("destroy"),e.cancel(this.aaa)}});return MicroEvent.mixin(n),n}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyDashBoard",["$onsen","DashBoardView",function(t,e){return{restrict:"E",template:'<div style="width:100%;height:100%"></div>',replace:!0,scope:{value:"=hyaValue",maxValue:"=hyaMaxValue"},compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(r),i.data("hy-dash-board",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-dash-board",void 0),i=null})},post:function(e,n,i){t.fireComponentEvent(n[0],"init")}}}}}]),t.factory("DashBoardView",["$onsen",function(t){var e=16,n="rgba(255,255,255,0.9)",i="rgba(255,255,200,0.9)",o=.9*Math.PI,r=2.1*Math.PI,s=2.11*Math.PI,a=1.2*Math.PI/30,l=["rgb(109,239,194)","rgb(109,239,194)","rgb(110,238,92)","rgb(149,239,87)","rgb(228,237,90)","rgb(219,56,116)","rgb(255,31,100)"],c=Class.extend({init:function(t,e,n){this._scope=t,this._element=e,this._attrs=n,this.initCompent=angular.bind(this,this._initCompent),this.canvas=document.createElement("canvas"),this._element[0].appendChild(this.canvas),this._scope.maxValue=this._scope.maxValue||600,this.step=this._scope.maxValue/6,this._scope.value=this._scope.value||0,this.percent=this._scope.value/this._scope.maxValue,setTimeout(this.initCompent,20)},_initCompent:function(){this._scope._width=this._element[0].clientWidth<this._element[0].clientHeight?this._element[0].clientWidth:this._element[0].clientHeight,this.width=this._element[0].clientWidth,this.height=this._element[0].clientHeight,this.canvas.width=2*this.width,this.canvas.height=2*this.height,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.canvas.style.postion="absolute";var t=parseInt(2*(this._scope._width-1)/3);this.width<this.height?t=parseInt((this.width-1)/2):this.width>this.height&&2*t>this.width&&(t=parseInt((this.width-1)/2)),this.circle={radius:2*t,x:parseInt(this.canvas.width/2),y:parseInt(2*t*1.1)},console.log(this.circle),this.ctx=this.canvas.getContext("2d"),this.linerPosition={startX:this.circle.x-this.circle.radius,startY:0,endX:this.canvas.width-this.circle.x+this.circle.radius,endY:0},this.linerGradient=this.ctx.createLinearGradient(this.linerPosition.startX,this.linerPosition.startY,this.linerPosition.endX,this.linerPosition.endY),this.linerGradient.addColorStop(0,"rgb(109,239,194)"),this.linerGradient.addColorStop(.8,"rgb(221,248,92)"),this.linerGradient.addColorStop(1,"rgb(235,60,0)"),this._drawDashBoard()},_drawDashBoard:function(){this._drawTopArc(),this._drawMiddleArc(),this._drawPercentArc(),this._drawPercentFillArc(),this._drawTicks(),this._drawAnnotations()},_drawTopArc:function(){this.ctx.beginPath(),this.ctx.arc(this.circle.x,this.circle.y,this.circle.radius,o,r,!1),this.ctx.strokeStyle=this.linerGradient,this.ctx.lineWidth=2,this.ctx.stroke(),this.ctx.closePath()},_drawMiddleArc:function(){this.ctx.beginPath(),this.ctx.arc(this.circle.x,this.circle.y,this.circle.radius-16,o,r,!1),this.ctx.strokeStyle="rgba(255,255,255, 0.3)",this.ctx.lineWidth=16,this.ctx.stroke(),this.ctx.closePath()},_drawTicks:function(){for(var t=this.circle.radius-16-8,r=this,l=o,c=0;l<s;l+=a,c++)!function(t,o,s){var a;r.ctx.save(),s%5==0?(a=e,r.ctx.lineWidth=4,r.ctx.strokeStyle=n):(a=e/2,r.ctx.lineWidth=2,r.ctx.strokeStyle=i),r.ctx.beginPath(),r.ctx.moveTo(r.circle.x+Math.cos(t)*o,r.circle.y+Math.sin(t)*o),r.ctx.lineTo(r.circle.x+Math.cos(t)*(o+a),r.circle.y+Math.sin(t)*(o+a)),r.ctx.stroke(),r.ctx.restore()}(l,t,c)},_drawPercentArc:function(){this.ctx.beginPath(),this.ctx.arc(this.circle.x,this.circle.y,this.circle.radius-16,o,o+1.2*this.percent*Math.PI,!1),this.ctx.strokeStyle=this.linerGradient,this.ctx.lineWidth=16,this.ctx.stroke(),this.ctx.closePath()},_drawPercentFillArc:function(){this.ctx.beginPath();var t={x:this.circle.x+Math.cos(o+1.2*this.percent*Math.PI)*this.circle.radius,y:this.circle.y+Math.sin(o+1.2*this.percent*Math.PI)*this.circle.radius,radius:6};console.log(t),this.ctx.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),this.ctx.fillStyle=this.linerGradient,this.ctx.lineWidth=1,this.ctx.strokeStyle="rgba(255,255,255,0)",this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()},_drawAnnotations:function(){var t=this.circle.radius-16;this.ctx.save(),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.font="18px Helvetial";for(var n=o,i=0;n<s;n+=1.2*Math.PI/6,i++)this.ctx.save(),this.ctx.beginPath(),this.ctx.fillStyle=l[i],this.ctx.textAlign="center",this.ctx.translate(this.circle.x+Math.cos(n)*(t-2*e),this.circle.y+Math.sin(n)*(t-2*e)),this.ctx.rotate((250+36.6*i)*Math.PI/180),this.ctx.fillText(i*this.step,0,0),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore();this.ctx.restore()}});return MicroEvent.mixin(c),c}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("DatePickerView",["$onsen","$q","$hyDateLocale",function(t,e,n){var i=Class.extend({init:function(t,e,i){this._element=e,this._scope=t,this._attrs=i,this._$hyDateLocale=n,this._dialog=null,this._dialogCompent=null,this._type="calendar",this._scope.onshow=angular.bind(this,this.onShow),this._scope.valueChange=angular.bind(this,this.dateValueChanged),this._scope.typeSelect=angular.bind(this,this.typeSelect);var o=this;this._scope.$watch("dateModel",function(t){void 0!==o._scope.dateModel&&null!==o._scope.dateModel&&""!==o._scope.dateModel?"String"===o._scope.dateType?(t=t.replace(/\-/g,"/"),o._scope.dateValue=o._$hyDateLocale.parseDate(t)):"Long"===o._scope.dateType?o._scope.dateValue=o._$hyDateLocale.parseDate(t):"Date"===o._scope.dateType&&(o._scope.dateValue=t):""===o._scope.dateModel&&(o._scope.formatValue="")}),this._scope.$watch("dateValue",function(t){o._initAttributeValue(),o._dateValueFormat(t),void 0!==t&&null!==t&&""!==t&&("String"===o._scope.dateType?o._scope.dateModel=o._$hyDateLocale.formatDate(t,o._scope.dateFormat):"Long"===o._scope.dateType?o._scope.dateModel=t.getTime():"Date"===o._scope.dateType&&(o._scope.dateModel=t))}),this._scope.$watch("iconName",function(){"undefined"!==o._scope.iconName&&void 0!==o._scope.iconName&&null!==o._scope.iconName&&""!==o._scope.iconName||(o._scope.iconName="fa-calendar")})},_isAttribute:function(t){return angular.isDefined(t.hyDatepicker)},_initAttributeValue:function(){void 0===this._scope.dateFormat&&("true"===this._scope.isTimer?this._scope.dateFormat="YYYY-MM-DD hh:mm":this._scope.dateFormat="YYYY-MM-DD"),void 0===this._scope.placeholder&&(this._scope.placeholder="")},_dateValueFormat:function(t){var e=null;void 0!==t&&null!==t&&""!==t?(this._scope.formatValue=this._$hyDateLocale.formatDate(t,this._scope.dateFormat),e=t):e=new Date,"true"===this._scope.isTimer&&("calendar"===this._type?(this._scope.displayIcon="fa-clock-o",this._scope.displayText="  "+this._$hyDateLocale.getTimerFromDate(e)):(this._scope.displayIcon="fa-calendar",this._scope.displayText="  "+this._$hyDateLocale.formatDate(e,"YYYY-MM-DD")))},dateValueChanged:function(t){this._scope.dateValue=t,this._dateValueFormat(this._scope.dateValue),"true"===this._scope.isTimer?this.typeSelect():this._dialogCompent.hide(),this._scope.dateChange&&this._scope.dateChange({newValue:this._scope.formatValue})},_createDialog:function(t){if(!t)throw new Error("");angular.element(document.body).append(angular.element(this._dialog));var n=376,i="";"true"===this._scope.isTimer&&(i="");var o=angular.element('<div class="hy-datetime-picker-header"><div class="hy-datetime-picker-header-inner">'+i+"</div></div>");if(this._dialog.append(o),"true"===this._scope.isTimer){n+=48;var r=angular.element('<hy-timer hya-inline="false" hya-date-change="valueChange(date);" hya-date-value="dateValue" ></hy-timer>'),s=angular.element('<div class="hy-datetime-picker-toolbar"><div class="hy-datetime-picker-toolbar-innner"><div class="hy-date-type-select" ng-click="typeSelect()"><ons-icon icon="{{displayIcon}}" class="ons-icon"   ></ons-icon>&nbsp;&nbsp;{{displayText}}</div></div></div>');this._dialog.append(r),this._dialog.append(s)}this._dialog.append(t),ons.$compile(this._dialog)(this._scope);var a=e.defer();return this._dialog.on("ons-dialog:init",function(t){var e=t.component._element[0].querySelector(".dialog"),i=e.getAttribute("style"),o=function(t,e){return(";"===t.substr(-1)?t:t+";")+(";"===e.substr(-1)?e:e+";")}("height: "+n+"px; width: 300px",i);e.setAttribute("style",o),a.resolve(t.component)}),a.promise},onShow:function(t){if(void 0===this._attrs.disabled){var e=this;this._dialog=angular.element("<ons-dialog  cancelable>");var n=angular.element('<hy-calendar hya-inline="true" hya-date-change="valueChange(date);" hya-date-value="dateValue" hya-min-date="minDate" hya-max-date="maxDate"></hy-calendar>');this._createDialog(n).then(function(n){e._dialogCompent=n,n.show(t),n.on("posthide",function(){e._dialog.remove()})})}},typeSelect:function(t){var e=angular.element(this._dialog[0].querySelector(".hy-datepicker-calendar-pane")),n=angular.element(this._dialog[0].querySelector(".hy-timer-pane"));"calendar"===this._type?(this._type="timer",this._scope.displayIcon="fa-calendar",this._scope.displayText="   "+this._$hyDateLocale.formatDate(this._scope.dateValue,"YYYY-MM-DD"),setTimeout(function(){e.addClass("hidden"),n.removeClass("hidden")},20)):(this._type="calendar",this._scope.displayIcon="fa-clock-o",this._scope.displayText="  "+this._$hyDateLocale.getTimerFromDate(this._scope.dateValue),setTimeout(function(){n.addClass("hidden"),e.removeClass("hidden")},20))}});return MicroEvent.mixin(i),i}]),t.factory("DatePickerView2",["$onsen","$q","$hyDateLocale",function(t,e,n){var i=Class.extend({init:function(t,e,i){this._element=e,this._scope=t,this._attrs=i,this._$hyDateLocale=n,this._dialog=null,this._dialogCompent=null,this._type="calendar",this._scope.yearList=[],this._monthList=["01","02","03","04","05","06","07","08","09","10","11","12"],this._scope.monthList=["01","02","03","04","05","06","07","08","09","10","11","12"],this._scope.dayList=[],this._createListData(),this._scope.onshow=angular.bind(this,this.onShow),this._scope.yearValueChange=angular.bind(this,this._yearValueChange),this._scope.monthValueChange=angular.bind(this,this._monthValueChange),this._scope.dayValueChange=angular.bind(this,this._dayValueChange),this._scope.okButton=angular.bind(this,this._okButton),this._scope.clearButton=angular.bind(this,this._clearButton);var o=this;this._scope.$watch("dateModel",function(t){void 0!==o._scope.dateModel&&null!==o._scope.dateModel&&""!==o._scope.dateModel&&("String"==o._scope.dateType?o._scope.dateValue=o._$hyDateLocale.parseDate(t):"Long"==o._scope.dateType?o._scope.dateValue=o._$hyDateLocale.parseDate(t):"Date"==o._scope.dateType&&(o._scope.dateValue=t))}),this._scope.$watch("dateValue",function(t){o._initAttributeValue(),o._valueChange(),o._dateValueFormat(t),void 0!==t&&null!==t&&""!==t&&("String"==o._scope.dateType?o._scope.dateModel=o._$hyDateLocale.formatDate(t,o._scope.dateFormat):"Long"==o._scope.dateType?o._scope.dateModel=t.getTime():"Date"==o._scope.dateType&&(o._scope.dateModel=t))}),this._scope.$watch("iconName",function(){"undefined"!==o._scope.iconName&&void 0!==o._scope.iconName&&null!==o._scope.iconName&&""!==o._scope.iconName||(o._scope.iconName="fa-calendar")})},_isAttribute:function(t){return angular.isDefined(t.hyDatepicker2)},_createMonthList:function(t,e){for(var n=[],i=t;i<e;i++)n.push(i>8?i+1+"":"0"+(i+1));this._scope.monthList=n},_createListData:function(){this._scope.minYear=this._scope.minDate?this._scope.minDate.getFullYear():1900,this._scope.maxYear=this._scope.maxDate?this._scope.maxDate.getFullYear():(new Date).getFullYear()+20,this._minMonth=this._scope.minDate?this._scope.minDate.getMonth():0,this._maxMonth=this._scope.maxDate?this._scope.maxDate.getMonth():11,this._minDay=this._scope.minDate?this._scope.minDate.getDate():1,this._maxDay=this._scope.maxDate?this._scope.maxDate.getDate():31;var t=new Date,e=0;t.getTime()<new Date(this._scope.minYear,this._minMonth,this._minDay).getTime()?(this._scope.selectYearValue=this._scope.minYear,this._scope.selectMonthValue=this._minMonth>8?this._minMonth+1+"":"0"+(this._minMonth+1),this._scope.selectDayValue=this._minDay>9?this._minDay+"":"0"+this._minDay,this._createMonthList(this._minMonth,12),this._createDayList(this._minDay,this._maxDay)):t.getTime()>new Date(this._scope.maxYear,this._maxMonth,this._maxDay).getTime()?(this._scope.selectYearValue=this._scope.maxYear,this._scope.selectMonthValue=this._maxMonth>8?this._maxMonth+1+"":"0"+(this._maxMonth+1),this._scope.selectDayValue=this._maxDay>9?this._maxDay+"":"0"+this._maxDay,this._createMonthList(0,this._maxMonth+1),this._createDayList(1,this._maxDay)):(this._scope.selectYearValue=t.getFullYear(),this._scope.selectMonthValue=t.getMonth()>8?t.getMonth()+1+"":"0"+(t.getMonth()+1),this._scope.selectDayValue=t.getDate()>9?t.getDate()+"":"0"+t.getDate(),e=new Date(this._scope.selectYearValue,this._scope.selectMonthValue,0).getDate(),this._scope.minYear==this._scope.maxYear?(this._createMonthList(this._minMonth,this._maxMonth+1),this._minMonth==this._maxMonth?this._createDayList(this._minDay,this._maxDay):t.getMonth()==this._minMonth?this._createDayList(this._minDay,e):t.getMonth()==this._maxMonth?this._createDayList(1,this._maxDay):this._createDayList(1,e)):t.getFullYear()==this._scope.minYear?(this._createMonthList(this._minMonth,12),t.getMonth()==this._minMonth?this._createDayList(this._minDay,e):this._createDayList(1,e)):t.getFullYear()==this._scope.maxYear?(this._createMonthList(0,this._maxMonth),t.getMonth()==this._maxMonth?this._createDayList(1,this._maxDay):this._createDayList(1,e)):(this._createMonthList(0,12),this._createDayList(1,e)));for(var n=this._scope.minYear;n<=this._scope.maxYear;n++)this._scope.yearList.push(n)},_yearValueChange:function(t){this._scope.selectYearValue=t,this._valueChange()},_monthValueChange:function(t){this._scope.selectMonthValue=t,this._valueChange()},_dayValueChange:function(t){this._scope.selectDayValue=t+""},_createDayList:function(t,e){this._scope.dayList.length=0;for(var n=t;n<=e;n++)n<=9?this._scope.dayList.push("0"+n):this._scope.dayList.push(n+"");var i=new Date(this._scope.selectYearValue,this._scope.selectMonthValue,0).getDate();if(0!=this._scope.selectDayValue.substr(0,1)){parseInt(this._scope.selectDayValue)>i&&(this._scope.selectDayValue=i+"")}},_valueChange:function(){var t=0==this._scope.selectMonthValue.substr(0,1)?this._scope.selectMonthValue.substr(1,1):this._scope.selectMonthValue,e=0,n=new Date(this._scope.selectYearValue,t,0).getDate();if(this._scope.selectYearValue==this._scope.minYear&&this._scope.selectYearValue!=this._scope.maxYear&&(this._createMonthList(this._minMonth,12),t<=this._minMonth+1?(this._scope.selectMonthValue=this._minMonth>8?this._minMonth+1+"":"0"+(this._minMonth+1),t=this._minMonth+1,n=new Date(this._scope.selectYearValue,t,0).getDate(),this._scope.selectDayValue=this._minDay>9?this._minDay+"":"0"+this._minDay,this._createDayList(this._minDay,n)):this._createDayList(1,n),e=1),this._scope.selectYearValue==this._scope.maxYear&&this._scope.selectYearValue!=this._scope.minYear&&(this._createMonthList(0,this._maxMonth+1),t>=this._maxMonth+1?(this._scope.selectMonthValue=this._maxMonth>8?this._maxMonth+1+"":"0"+(this._maxMonth+1),t=this._maxMonth+1,this._scope.selectDayValue="01",this._createDayList(1,this._maxDay)):this._createDayList(1,n),e=2),this._scope.selectYearValue==this._scope.maxYear&&this._scope.selectYearValue==this._scope.minYear&&(this._createMonthList(this._minMonth,this._maxMonth+1),this._maxMonth==this._minMonth?(this._scope.selectMonthValue=this._maxMonth>8?this._maxMonth+1+"":"0"+(this._maxMonth+1),t=this._maxMonth+1,this._scope.selectDayValue=this._minDay>9?this._minDay+"":"0"+this._minDay,this._createDayList(this._minDay,this._maxDay)):t>=this._maxMonth+1?(this._scope.selectMonthValue=this._maxMonth>8?this._maxMonth+1+"":"0"+(this._maxMonth+1),t=this._maxMonth+1,this._scope.selectDayValue="01",this._createDayList(1,this._maxDay)):t<=this._minMonth+1?(this._scope.selectMonthValue=this._minMonth>8?this._minMonth+1+"":"0"+(this._minMonth+1),t=this._minMonth+1,n=new Date(this._scope.selectYearValue,t,0).getDate(),this._scope.selectDayValue=this._minDay>9?this._minDay+"":"0"+this._minDay,this._createDayList(this._minDay,n)):this._createDayList(1,n),e=3),0==e&&(this._createMonthList(0,12),n!==this._scope.dayList.length)){this._scope.dayList.length=0;for(var i=1;i<=n;i++)i<=9?this._scope.dayList.push("0"+i):this._scope.dayList.push(i+"");if(0!=this._scope.selectDayValue.substr(0,1)){parseInt(this._scope.selectDayValue)>n&&(this._scope.selectDayValue=n+"")}}},_initAttributeValue:function(){void 0===this._scope.dateFormat&&("true"===this._scope.isTimer?this._scope.dateFormat="YYYY-MM-DD hh:mm":this._scope.dateFormat="YYYY-MM-DD"),void 0===this._scope.placeholder&&(this._scope.placeholder="")},_dateValueFormat:function(t){var e=null;void 0!==t&&null!==t&&""!==t?(this._scope.formatValue=this._$hyDateLocale.formatDate(t,this._scope.dateFormat),e=t):e=new Date,this._scope.selectYearValue=e.getFullYear()+"",this._scope.selectMonthValue=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1+"",this._scope.selectDayValue=e.getDate()>9?e.getDate()+"":"0"+e.getDate()},_createDialog:function(t){if(!t)throw new Error("");angular.element(document.body).append(angular.element(this._dialog));var n=angular.element('<div class="hy-datetime-picker-header"><div class="hy-datetime-picker-header-inner"></div></div>');this._dialog.append(n);var i=angular.element('<div class="hy-datepicker-select-toolbar"><div class="hy-datepicker-select-toolbar-innner hy-layout-row hy-layout-align-space-between-center"><hy-button  class="hy-datepicker-toolbar-button right-border"  ng-click="clearButton()">&nbsp;&nbsp;</hy-button><hy-button class="hy-datepicker-toolbar-button " ng-click="okButton()">&nbsp;&nbsp;</hy-button></div></div>');this._dialog.append(i),this._dialog.append(t),ons.$compile(this._dialog)(this._scope);var o=e.defer();return this._dialog.on("ons-dialog:init",function(t){var e=t.component._element[0].querySelector(".dialog"),n=e.getAttribute("style"),i=function(t,e){return(";"===t.substr(-1)?t:t+";")+(";"===e.substr(-1)?e:e+";")}("height: 346px; width: 330px;border-radius:5px;",n);e.setAttribute("style",i),o.resolve(t.component)}),o.promise},onShow:function(t){if(void 0===this._attrs.disabled){var e=this;void 0!==e._scope.dateModel&&null!==e._scope.dateModel&&""!==e._scope.dateModel&&("String"==e._scope.dateType?e._scope.dateValue=e._$hyDateLocale.parseDate(e._scope.dateModel):"Long"==e._scope.dateType?e._scope.dateValue=e._$hyDateLocale.parseDate(e._scope.dateModel):"Date"==e._scope.dateType&&(e._scope.dateValue=e._scope.dateModel)),e._valueChange(),e._dateValueFormat(e._scope.dateValue),this._dialog=angular.element("<ons-dialog  cancelable>");var n=null;n=this._scope.noSelectDay?angular.element('<div class="hy-datepicker-select-pane hy-layout-row hy-layout-align-space-around"><div style="width:50%;height:100%;" ><hy-scroller hya-data="yearList" hya-value="selectYearValue" select-value="yearValueChange(data)" ></hy-scroller></div><div style="width:50%;height:100%;"><hy-scroller hya-data="monthList" hya-value="selectMonthValue" select-value="monthValueChange(data)" ></hy-scroller></div></div>'):angular.element('<div class="hy-datepicker-select-pane hy-layout-row hy-layout-align-space-around"><div style="width:33.33%;height:100%;" ><hy-scroller hya-data="yearList" hya-value="selectYearValue" select-value="yearValueChange(data)" ></hy-scroller></div><div style="width:33.33%;height:100%;" ><hy-scroller hya-data="monthList" hya-value="selectMonthValue" select-value="monthValueChange(data)" ></hy-scroller></div><div style="width:33.33%;height:100%;" ng-hide="noSelectDay"><hy-scroller hya-data="dayList" hya-value="selectDayValue" select-value="dayValueChange(data)" ></hy-scroller></div></div>'),this._createDialog(n).then(function(n){e._dialogCompent=n,n.show(t),n.on("posthide",function(){e._dialog.remove()})})}},_okButton:function(t){var e=!1,n=new Date(this._scope.selectYearValue+"/"+this._scope.selectMonthValue+"/"+this._scope.selectDayValue);void 0==this._scope.dateValue&&(this._scope.dateValue=n,e=!0);var i=this._scope.dateValue.getFullYear()+"",o=this._scope.dateValue.getMonth()<9?"0"+(this._scope.dateValue.getMonth()+1):this._scope.dateValue.getMonth()+1+"",r=this._scope.dateValue.getDate()>9?this._scope.dateValue.getDate()+"":"0"+this._scope.dateValue.getDate(),s=this._$hyDateLocale.formatDate(n,this._scope.dateFormat),a=this._$hyDateLocale.formatDate(this._scope.dateValue,this._scope.dateFormat);this._scope.dateValue=n,this._dateValueFormat(this._scope.dateValue),e?this._scope.dateChange&&this._scope.dateChange({newValue:s,oldValue:null}):this._scope.selectYearValue==i&&this._scope.selectMonthValue==o&&this._scope.selectDayValue==r||this._scope.dateChange&&this._scope.dateChange({newValue:s,oldValue:a}),this._dialogCompent.hide()},_clearButton:function(){this._scope.formatValue="",this._scope.dateValue=void 0,this._scope.dateModel=void 0,this._dialogCompent.hide()}});return MicroEvent.mixin(i),i}]),t.directive("hyDatepicker",["$onsen","DatePickerView","$compile",function(t,e,n){function i(t){return angular.isDefined(t.hyDatepicker)}function o(t,e){return i(e)?"HY-DATEPICKER"===t[0].nodeName?(console.warn(""),!1):"<div ng-transclude></div>":'<div layout="row"><input ng-model="formatValue" ng-click="onshow($event)" placeholder="{{placeholder}}" class="text-input hy-date-picker-input {{nobuttonstyle}} {{inputClass}} "  readonly id="my-input"><hy-button ng-if="hasButton"  class="hy-datepicker-button hy-fill" ng-click="onshow($event)"> <hy-icon hy-font-icon="{{iconName}}" style="line-height: 1.1;"></hy-icon></hy-button></div>'}return{restrict:"EA",template:o,transclude:!0,scope:{minDate:"=hyaMinDate",maxDate:"=hyaMaxDate",placeholder:"@hyaPlaceholder",dateFormat:"@hyaFormat",dateModel:"=hyaDateValue",isTimer:"@hyaTimer",isbutton:"@hyaHasbutton",inputClass:"@hyaInputClass",
iconName:"@hyaIconName",dateType:"@hyaDateType",dateChange:"&hyaDateChange"},compile:function(n,o){return{pre:function(n,o,r){"undefined"===n.isbutton||void 0===n.isbutton||null===n.isbutton||"true"===n.isbutton?(n.hasButton=!0,n.nobuttonstyle=""):(n.hasButton=!1,n.nobuttonstyle="nobutton"),"undefined"!==n.dateType&&void 0!==n.dateType&&null!==n.dateType&&""!==n.dateType||(n.dateType="Long"),"Long"!==n.dateType&&"String"!==n.dateType&&"Date"!==n.dateType&&(console.warn("datePickerhya-date-type:Long,String,Date;Long"),n.dateType="Long");var s=new e(n,o,r);t.declareVarAttribute(r,s),o.data("hy-datepicker",s),n.$on("destory",function(){s._events=void 0,t.removeModifierMethods(s),o.data("hy-datepicker",void 0),o=null}),i(r)&&o.on("click",function(t){s.onShow(t)})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}]),t.directive("hyDatepicker2",["$onsen","DatePickerView2","$compile",function(t,e,n){function i(t){return angular.isDefined(t.hyDatepicker)}function o(t,e){return i(e)?"HY-DATEPICKER2"===t[0].nodeName?(console.warn(""),!1):"<div ng-transclude></div>":'<div layout="row"><input ng-model="formatValue" ng-click="onshow($event)" placeholder="{{placeholder}}" class="text-input hy-date-picker-input {{nobuttonstyle}} {{inputClass}} "  readonly id="my-input"><hy-button ng-if="hasButton"  class="hy-datepicker-button hy-fill" ng-click="onshow($event)"> <hy-icon hy-font-icon="{{iconName}}" style="line-height: 1.1"></hy-icon></hy-button></div>'}return{restrict:"EA",template:o,transclude:!0,scope:{minDate:"=hyaMinDate",maxDate:"=hyaMaxDate",placeholder:"@hyaPlaceholder",dateFormat:"@hyaFormat",dateModel:"=hyaDateValue",isbutton:"@hyaHasbutton",inputClass:"@hyaInputClass",iconName:"@hyaIconName",dateType:"@hyaDateType",dateChange:"&hyaDateChange",noDay:"@hyaNoDay"},compile:function(n,o){return{pre:function(n,o,r){"undefined"===n.isbutton||void 0===n.isbutton||null===n.isbutton||"true"===n.isbutton?(n.hasButton=!0,n.nobuttonstyle=""):(n.hasButton=!1,n.nobuttonstyle="nobutton"),"undefined"===n.noDay||void 0===n.noDay||null===n.noDay?n.noSelectDay=!1:"true"!==n.noDay&&"1"!=n.noDay||(n.noSelectDay=!0),"undefined"!==n.dateType&&void 0!==n.dateType&&null!==n.dateType&&""!==n.dateType||(n.dateType="Long"),"Long"!=n.dateType&&"String"!=n.dateType&&"Date"!=n.dateType&&(console.warn("datePicker2hya-date-type:Long,String,Date;Long"),n.dateType="Long");var s=new e(n,o,r);t.declareVarAttribute(r,s),o.data("hy-datepicker2",s),n.$on("destory",function(){s._events=void 0,t.removeModifierMethods(s),o.data("hy-datepicker2",void 0),o=null}),i(r)&&o.on("click",function(t){s.onShow(t)})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}]),t.directive("hyTimepicker",["$onsen","TimePickerView",function(t,e){function n(t){return angular.isDefined(t.hyTimepicker)}function i(t,e){return n(e)?"HY-TIMEPICKER"===t[0].nodeName?(console.warn(""),!1):t.html():'<div layout="row"><input ng-model="formatValue" ng-click="onshow($event)" placeholder="{{placeholder}}" class="text-input hy-date-picker-input {{nobuttonstyle}} {{inputClass}}" readonly  id="my-input"><hy-button ng-if="hasButton"  class="hy-timepicker-button hy-fill" ng-click="onshow($event)" > <hy-icon style="line-height: 1.1" hy-font-icon="{{iconName}}" ></hy-icon></hy-button></div>'}return{restrict:"E",template:i,scope:{placeholder:"@hyaPlaceholder",timeModel:"=hyaTimeValue",isbutton:"@hyaHasbutton",inputClass:"@hyaInputClass",iconName:"@hyaIconName",dateType:"@hyaDateType"},compile:function(i,o){return{pre:function(i,o,r){"undefined"===i.isbutton||void 0===i.isbutton||null===i.isbutton||"true"===i.isbutton?(i.hasButton=!0,i.nobuttonstyle=""):(i.hasButton=!1,i.nobuttonstyle="nobutton"),"undefined"!==i.dateType&&void 0!==i.dateType&&null!==i.dateType&&""!==i.dateType||(i.dateType="Long"),"Long"!=i.dateType&&"String"!=i.dateType&&"Date"!=i.dateType&&(console.warn("timePickerhya-date-type:Long,String,Date;Long"),i.dateType="Long");var s=new e(i,o,r);t.declareVarAttribute(r,s),o.data("hy-timepicker",s),i.$on("destory",function(){s._events=void 0,t.removeModifierMethods(s),o.data("hy-timepicker",void 0),o=null}),n(r)&&o.on("click",function(t){s.onShow(t)})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}]),t.factory("TimePickerView",["$onsen","$q","$hyDateLocale",function(t,e,n){var i=Class.extend({init:function(t,e,i){this._element=e,this._scope=t,this._attrs=i,this._$hyDateLocale=n,this._dialog=null,this._dialogCompent=null;var o=angular.element(this._element[0].querySelector(".hy-date-picker-div"));if(!this._isAttribute(i)){if(i.class)for(var r=i.class.split(" "),s=0;s<r.length;s++)o.addClass(r[s]);i.style&&o[0].setAttribute("style",i.style)}this._scope.onshow=angular.bind(this,this.onShow),this._scope.valueChange=angular.bind(this,this.dateValueChanged);var a=this;this._scope.$watch("timeModel",function(t){void 0!==a._scope.timeModel&&null!==a._scope.timeModel&&""!==a._scope.timeModel&&("String"==a._scope.dateType?a._scope.timeValue=a._$hyDateLocale.parseDate(t):"Long"==a._scope.dateType?a._scope.timeValue=a._$hyDateLocale.parseDate(t):"Date"==a._scope.dateType&&(a._scope.timeValue=t))}),this._scope.$watch("timeValue",function(t){a._initAttributeValue(),a._dateValueFormat(t),void 0!==t&&null!==t&&""!==t&&("String"==a._scope.dateType?a._scope.timeModel=a._$hyDateLocale.formatDate(t,"YYYY-MM-DD hh:mm:ss"):"Long"==a._scope.dateType?a._scope.timeModel=t.getTime():"Date"==a._scope.dateType&&(a._scope.timeModel=t))}),this._scope.$watch("iconName",function(){"undefined"!==a._scope.iconName&&void 0!==a._scope.iconName&&null!==a._scope.iconName&&""!==a._scope.iconName||(a._scope.iconName="fa-clock-o")})},_isAttribute:function(t){return angular.isDefined(t.hyTimepicker)},_initAttributeValue:function(){void 0===this._scope.placeholder&&(this._scope.placeholder="")},_dateValueFormat:function(t){void 0!==t&&null!==t&&(this._scope.formatValue=(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()))},dateValueChanged:function(t){this._scope.timeValue=t,this._dateValueFormat(this._scope.timeValue),this._dialogCompent.hide()},_createDialog:function(t){if(!t)throw new Error("");angular.element(document.body).append(angular.element(this._dialog));var n=angular.element('<div class="hy-datetime-picker-header"><div class="hy-datetime-picker-header-inner"></div></div>');this._dialog.append(n),this._dialog.append(t),ons.$compile(this._dialog)(this._scope);var i=e.defer();return this._dialog.on("ons-dialog:init",function(t){var e=t.component._element[0].querySelector(".dialog"),n=e.getAttribute("style"),o=function(t,e){return(";"===t.substr(-1)?t:t+";")+(";"===e.substr(-1)?e:e+";")}("height: 376px; width: 300px",n);e.setAttribute("style",o),i.resolve(t.component)}),i.promise},onShow:function(t){if(void 0===this._attrs.disabled){var e=this;this._dialog=angular.element("<ons-dialog  cancelable>");var n=angular.element('<hy-timer hya-inline="false" hya-date-change="valueChange(date);" hya-date-value="timeValue" ></hy-timer>');this._createDialog(n).then(function(n){e._dialogCompent=n,n.show(t),n.on("posthide",function(){e._dialog.remove()})})}}});return MicroEvent.mixin(i),i}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("DatePickerView3",["$onsen","$q","$hyDateLocale",function(t,e,n){var i=Class.extend({init:function(t,e,i){this._element=e,this._scope=t,this._attrs=i,this._$hyDateLocale=n,this._dialog=null,this._dialogCompent=null,this._type="calendar",this._scope.yearList=[],this._monthList=["01","02","03","04","05","06","07","08","09","10","11","12"],this._hourList=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],this._minuteList=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],this._scope.monthList=["01","02","03","04","05","06","07","08","09","10","11","12"],this._scope.hourList=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],this._scope.minuteList=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],this._scope.dayList=[],this._createListData(),this._scope.onshow=angular.bind(this,this.onShow),this._scope.yearValueChange=angular.bind(this,this._yearValueChange),this._scope.monthValueChange=angular.bind(this,this._monthValueChange),this._scope.dayValueChange=angular.bind(this,this._dayValueChange),this._scope.hourValueChange=angular.bind(this,this._hourValueChange),this._scope.minuteValueChange=angular.bind(this,this._minuteValueChange),this._scope.okButton=angular.bind(this,this._okButton),this._scope.clearButton=angular.bind(this,this._clearButton);var o=this;this._scope.$watch("dateModel",function(t){void 0!==o._scope.dateModel&&null!==o._scope.dateModel&&""!==o._scope.dateModel&&("String"==o._scope.dateType?o._scope.dateValue=o._$hyDateLocale.parseDate(t):"Long"==o._scope.dateType?o._scope.dateValue=o._$hyDateLocale.parseDate(t):"Date"==o._scope.dateType&&(o._scope.dateValue=t))}),this._scope.$watch("dateValue",function(t){o._initAttributeValue(),o._valueChange(),o._dateValueFormat(t),void 0!==t&&null!==t&&""!==t&&("String"==o._scope.dateType?o._scope.dateModel=o._$hyDateLocale.formatDate(t,o._scope.dateFormat):"Long"==o._scope.dateType?o._scope.dateModel=t.getTime():"Date"==o._scope.dateType&&(o._scope.dateModel=t))}),this._scope.$watch("iconName",function(){"undefined"!==o._scope.iconName&&void 0!==o._scope.iconName&&null!==o._scope.iconName&&""!==o._scope.iconName||(o._scope.iconName="fa-calendar")})},_isAttribute:function(t){return angular.isDefined(t.hyDatepicker3)},_createMonthList:function(t,e){for(var n=[],i=t;i<e;i++)n.push(i>8?i+1+"":"0"+(i+1));this._scope.monthList=n},_createListData:function(){this._scope.minYear=this._scope.minDate?this._scope.minDate.getFullYear():1900,this._scope.maxYear=this._scope.maxDate?this._scope.maxDate.getFullYear():(new Date).getFullYear()+20,this._minMonth=this._scope.minDate?this._scope.minDate.getMonth():0,this._maxMonth=this._scope.maxDate?this._scope.maxDate.getMonth():11,this._minDay=this._scope.minDate?this._scope.minDate.getDate():1,this._maxDay=this._scope.maxDate?this._scope.maxDate.getDate():31;var t=new Date,e=0;this._scope.selectHourValue=t.getHours()>9?t.getHours()+"":"0"+t.getHours(),this._scope.selectMinuteValue=t.getMinutes()>9?t.getMinutes()+"":"0"+t.getMinutes(),t.getTime()<new Date(this._scope.minYear,this._minMonth,this._minDay).getTime()?(this._scope.selectYearValue=this._scope.minYear,this._scope.selectMonthValue=this._minMonth>8?this._minMonth+1+"":"0"+(this._minMonth+1),this._scope.selectDayValue=this._minDay>9?this._minDay+"":"0"+this._minDay,this._createMonthList(this._minMonth,12),this._createDayList(this._minDay,this._maxDay)):t.getTime()>new Date(this._scope.maxYear,this._maxMonth,this._maxDay).getTime()?(this._scope.selectYearValue=this._scope.maxYear,this._scope.selectMonthValue=this._maxMonth>8?this._maxMonth+1+"":"0"+(this._maxMonth+1),this._scope.selectDayValue=this._maxDay>9?this._maxDay+"":"0"+this._maxDay,this._createMonthList(0,this._maxMonth+1),this._createDayList(1,this._maxDay)):(this._scope.selectYearValue=t.getFullYear(),this._scope.selectMonthValue=t.getMonth()>8?t.getMonth()+1+"":"0"+(t.getMonth()+1),this._scope.selectDayValue=t.getDate()>9?t.getDate()+"":"0"+t.getDate(),e=new Date(this._scope.selectYearValue,this._scope.selectMonthValue,0).getDate(),this._scope.minYear==this._scope.maxYear?(this._createMonthList(this._minMonth,this._maxMonth+1),this._minMonth==this._maxMonth?this._createDayList(this._minDay,this._maxDay):t.getMonth()==this._minMonth?this._createDayList(this._minDay,e):t.getMonth()==this._maxMonth?this._createDayList(1,this._maxDay):this._createDayList(1,e)):t.getFullYear()==this._scope.minYear?(this._createMonthList(this._minMonth,12),t.getMonth()==this._minMonth?this._createDayList(this._minDay,e):this._createDayList(1,e)):t.getFullYear()==this._scope.maxYear?(this._createMonthList(0,this._maxMonth),t.getMonth()==this._maxMonth?this._createDayList(1,this._maxDay):this._createDayList(1,e)):(this._createMonthList(0,12),this._createDayList(1,e)));for(var n=this._scope.minYear;n<=this._scope.maxYear;n++)this._scope.yearList.push(n)},_yearValueChange:function(t){this._scope.selectYearValue=t,this._valueChange()},_monthValueChange:function(t){this._scope.selectMonthValue=t,this._valueChange()},_dayValueChange:function(t){this._scope.selectDayValue=t+""},_hourValueChange:function(t){this._scope.selectHourValue=t+""},_minuteValueChange:function(t){this._scope.selectMinuteValue=t+""},_createDayList:function(t,e){this._scope.dayList.length=0;for(var n=t;n<=e;n++)n<=9?this._scope.dayList.push("0"+n):this._scope.dayList.push(n+"");var i=new Date(this._scope.selectYearValue,this._scope.selectMonthValue,0).getDate();if(0!=this._scope.selectDayValue.substr(0,1)){parseInt(this._scope.selectDayValue)>i&&(this._scope.selectDayValue=i+"")}},_valueChange:function(){var t=0==this._scope.selectMonthValue.substr(0,1)?this._scope.selectMonthValue.substr(1,1):this._scope.selectMonthValue,e=0,n=new Date(this._scope.selectYearValue,t,0).getDate();if(this._scope.selectYearValue==this._scope.minYear&&this._scope.selectYearValue!=this._scope.maxYear&&(this._createMonthList(this._minMonth,12),t<=this._minMonth+1?(this._scope.selectMonthValue=this._minMonth>8?this._minMonth+1+"":"0"+(this._minMonth+1),t=this._minMonth+1,n=new Date(this._scope.selectYearValue,t,0).getDate(),this._scope.selectDayValue=this._minDay>9?this._minDay+"":"0"+this._minDay,this._createDayList(this._minDay,n)):this._createDayList(1,n),e=1),this._scope.selectYearValue==this._scope.maxYear&&this._scope.selectYearValue!=this._scope.minYear&&(this._createMonthList(0,this._maxMonth+1),t>=this._maxMonth+1?(this._scope.selectMonthValue=this._maxMonth>8?this._maxMonth+1+"":"0"+(this._maxMonth+1),t=this._maxMonth+1,this._scope.selectDayValue="01",this._createDayList(1,this._maxDay)):this._createDayList(1,n),e=2),this._scope.selectYearValue==this._scope.maxYear&&this._scope.selectYearValue==this._scope.minYear&&(this._createMonthList(this._minMonth,this._maxMonth+1),this._maxMonth==this._minMonth?(this._scope.selectMonthValue=this._maxMonth>8?this._maxMonth+1+"":"0"+(this._maxMonth+1),t=this._maxMonth+1,this._scope.selectDayValue=this._minDay>9?this._minDay+"":"0"+this._minDay,this._createDayList(this._minDay,this._maxDay)):t>=this._maxMonth+1?(this._scope.selectMonthValue=this._maxMonth>8?this._maxMonth+1+"":"0"+(this._maxMonth+1),t=this._maxMonth+1,this._scope.selectDayValue="01",this._createDayList(1,this._maxDay)):t<=this._minMonth+1?(this._scope.selectMonthValue=this._minMonth>8?this._minMonth+1+"":"0"+(this._minMonth+1),t=this._minMonth+1,n=new Date(this._scope.selectYearValue,t,0).getDate(),this._scope.selectDayValue=this._minDay>9?this._minDay+"":"0"+this._minDay,this._createDayList(this._minDay,n)):this._createDayList(1,n),e=3),0==e&&(this._createMonthList(0,12),n!==this._scope.dayList.length)){this._scope.dayList.length=0;for(var i=1;i<=n;i++)i<=9?this._scope.dayList.push("0"+i):this._scope.dayList.push(i+"");if(0!=this._scope.selectDayValue.substr(0,1)){parseInt(this._scope.selectDayValue)>n&&(this._scope.selectDayValue=n+"")}}},_initAttributeValue:function(){void 0===this._scope.dateFormat&&(this._scope.dateFormat="YYYY-MM-DD hh:mm:ss"),void 0===this._scope.placeholder&&(this._scope.placeholder="")},_dateValueFormat:function(t){var e=null;void 0!==t&&null!==t&&""!==t?(this._scope.formatValue=this._$hyDateLocale.formatDate(t,this._scope.dateFormat),e=t):e=new Date,this._scope.selectYearValue=e.getFullYear()+"",this._scope.selectMonthValue=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1+"",this._scope.selectDayValue=e.getDate()>9?e.getDate()+"":"0"+e.getDate(),this._scope.selectHourValue=e.getHours()>9?e.getHours()+"":"0"+e.getHours(),this._scope.selectMinuteValue=e.getMinutes()>9?e.getMinutes()+"":"0"+e.getMinutes()},_createDialog:function(t){if(!t)throw new Error("");angular.element(document.body).append(angular.element(this._dialog));var n=angular.element('<div class="hy-datetime-picker-header"><div class="hy-datetime-picker-header-inner"></div></div>');this._dialog.append(n);var i=angular.element('<div class="hy-datepicker-select-toolbar"><div class="hy-datepicker-select-toolbar-innner hy-layout-row hy-layout-align-space-between-center" ><hy-button  class="hy-datepicker-toolbar-button right-border"  ng-click="clearButton()">&nbsp;&nbsp;</hy-button><hy-button class="hy-datepicker-toolbar-button " ng-click="okButton()">&nbsp;&nbsp;</hy-button></div></div>');this._dialog.append(i),this._dialog.append(t),ons.$compile(this._dialog)(this._scope);var o=e.defer();return this._dialog.on("ons-dialog:init",function(t){var e=t.component._element[0].querySelector(".dialog"),n=e.getAttribute("style"),i=function(t,e){return(";"===t.substr(-1)?t:t+";")+(";"===e.substr(-1)?e:e+";")}("height: 346px; width: 330px;border-radius:5px;",n);e.setAttribute("style",i),o.resolve(t.component)}),o.promise},onShow:function(t){if(void 0===this._attrs.disabled){var e=this;void 0!==e._scope.dateModel&&null!==e._scope.dateModel&&""!==e._scope.dateModel&&("String"==e._scope.dateType?e._scope.dateValue=e._$hyDateLocale.parseDate(e._scope.dateModel):"Long"==e._scope.dateType?e._scope.dateValue=e._$hyDateLocale.parseDate(e._scope.dateModel):"Date"==e._scope.dateType&&(e._scope.dateValue=e._scope.dateModel)),e._valueChange(),e._dateValueFormat(e._scope.dateValue),this._dialog=angular.element("<ons-dialog  cancelable>");var n=angular.element('<div class="hy-datepicker-select-pane hy-layout-row hy-layout-align-space-around" style="padding:0 10px"><div style="width:20%;height:100%;" ><hy-scroller hya-data="yearList" hya-value="selectYearValue" select-value="yearValueChange(data)" ></hy-scroller></div><div style="width:20%;height:100%;" ><hy-scroller hya-data="monthList" hya-value="selectMonthValue" select-value="monthValueChange(data)" ></hy-scroller></div><div style="width:20%;height:100%;" ><hy-scroller hya-data="dayList" hya-value="selectDayValue" select-value="dayValueChange(data)" ></hy-scroller></div><div style="width:20%;height:100%;border-left:1px dashed #EEEEEE" ><hy-scroller hya-data="hourList" hya-value="selectHourValue" select-value="hourValueChange(data)" ></hy-scroller></div><div style="width:20%;height:100%;" ><hy-scroller hya-data="minuteList" hya-value="selectMinuteValue" select-value="minuteValueChange(data)" ></hy-scroller></div></div>');this._createDialog(n).then(function(n){e._dialogCompent=n,n.show(t),n.on("posthide",function(){e._dialog.remove()})})}},_okButton:function(t){var e=!1,n=new Date(this._scope.selectYearValue+"/"+this._scope.selectMonthValue+"/"+this._scope.selectDayValue+" "+this._scope.selectHourValue+":"+this._scope.selectMinuteValue+":00");void 0==this._scope.dateValue&&(this._scope.dateValue=n,e=!0);var i=this._scope.dateValue.getFullYear()+"",o=this._scope.dateValue.getMonth()<9?"0"+(this._scope.dateValue.getMonth()+1):this._scope.dateValue.getMonth()+1+"",r=this._scope.dateValue.getDate()>9?this._scope.dateValue.getDate()+"":"0"+this._scope.dateValue.getDate(),s=this._scope.dateValue.getHours()>9?this._scope.dateValue.getHours()+"":"0"+this._scope.dateValue.getHours(),a=this._scope.dateValue.getMinutes()>9?this._scope.dateValue.getMinutes()+"":"0"+this._scope.dateValue.getMinutes(),l=this._$hyDateLocale.formatDate(n,this._scope.dateFormat),c=this._$hyDateLocale.formatDate(this._scope.dateValue,this._scope.dateFormat);this._scope.dateValue=n,this._dateValueFormat(this._scope.dateValue),e?this._scope.dateChange&&this._scope.dateChange({newValue:l,oldValue:null}):this._scope.selectYearValue==i&&this._scope.selectMonthValue==o&&this._scope.selectDayValue==r&&this._scope.selectHourValue==s&&this._scope.selectMinuteValue==a||this._scope.dateChange&&this._scope.dateChange({newValue:l,oldValue:c}),this._dialogCompent.hide()},_clearButton:function(){this._scope.formatValue="",this._scope.dateValue=void 0,this._scope.dateModel=void 0,this._dialogCompent.hide()}});return MicroEvent.mixin(i),i}]),t.directive("hyDatepicker3",["$onsen","DatePickerView3","$compile",function(t,e,n){function i(t){return angular.isDefined(t.hyDatepicker)}function o(t,e){return i(e)?"HY-DATEPICKER3"===t[0].nodeName?(console.warn(""),!1):"<div ng-transclude></div>":'<div layout="row"><input ng-model="formatValue" ng-click="onshow($event)" placeholder="{{placeholder}}" class="text-input hy-date-picker-input {{nobuttonstyle}} {{inputClass}} "  readonly id="my-input"><hy-button ng-if="hasButton"  class="hy-datepicker-button hy-fill" ng-click="onshow($event)"> <hy-icon hy-font-icon="{{iconName}}" style="line-height: 1.1"></hy-icon></hy-button></div>'}return{restrict:"EA",template:o,transclude:!0,scope:{minDate:"=hyaMinDate",maxDate:"=hyaMaxDate",placeholder:"@hyaPlaceholder",dateFormat:"@hyaFormat",dateModel:"=hyaDateValue",isbutton:"@hyaHasbutton",inputClass:"@hyaInputClass",iconName:"@hyaIconName",dateType:"@hyaDateType",dateChange:"&hyaDateChange"},compile:function(n,o){return{pre:function(n,o,r){"undefined"===n.isbutton||void 0===n.isbutton||null===n.isbutton||"true"===n.isbutton?(n.hasButton=!0,n.nobuttonstyle=""):(n.hasButton=!1,n.nobuttonstyle="nobutton"),"undefined"!==n.dateType&&void 0!==n.dateType&&null!==n.dateType&&""!==n.dateType||(n.dateType="Long"),"Long"!=n.dateType&&"String"!=n.dateType&&"Date"!=n.dateType&&(console.warn("datePicker3hya-date-type:Long,String,Date;Long"),n.dateType="Long");var s=new e(n,o,r);t.declareVarAttribute(r,s),o.data("hy-datepicker3",s),n.$on("destory",function(){s._events=void 0,t.removeModifierMethods(s),o.data("hy-datepicker3",void 0),o=null}),i(r)&&o.on("click",function(t){s.onShow(t)})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";function t(){return{restrict:"E",link:function(t,e,n){}}}var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.directive("hyDivider",t)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyDividerLabel",[function(){return{restrict:"E",template:"<p class='hy-divider-label' ng-transclude></p>",replace:!0,transclude:!0,compile:function(t,e){return{pre:function(t,e,n){},post:function(t,e){}}}}}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/hy_drop_list_dialog.tpl",'<ons-dialog cancelable class="drop-dialog">                <ons-list>                     <ons-list-header class="drop-dialog-header">{{title}}</ons-list-header>                     <ons-list-item class="hy-drop-item" ng-click="itemSelected(null, 0);" ng-class="{active:selectedIndex<0}" ng-if="!hideNullVal">                    <i class="fa fa-circle drop-select-icon"></i>                    <span>------</span>                    </ons-list-item>                    <ons-list-item class="hy-drop-item" ng-repeat="item in items" ng-click="itemSelected(item, $index+1);" ng-class="{active:$index==selectedIndex}">                        <i class="fa fa-circle drop-select-icon"></i>                         <span>{{showOptionTitle(item)}}</span>                    </ons-list-item>                 </ons-list>            </ons-dialog>')}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("HyDropListService",["$onsen",function(t){var e=Class.extend({selectedIndex:-1,selectedItem:null,init:function(t,e,n,i){this._scope=t,this._element=e,this._attrs=n,this._ctrl=i,this._scope.icon=this._scope.icon||"fa-angle-down",this._scope.title=this._attrs.title||"",this._scope.placeholder=this._attrs.placeholder||"------",this._scope.hideArrow=this._attrs.hyaHideArrow&&this._attrs.hyaHideArrow.length>0&&"false"!==this._attrs.hyaHideArrow,this._scope.hideNullVal=this._attrs.hyaHideNullVal&&this._attrs.hyaHideNullVal.length>0&&"false"!==this._attrs.hyaHideNullVal,this._scope.selectedIndex=-1,this._scope.items||(this._scope.items=[]),this._scope.$on("$destroy",this._destroy.bind(this)),this._scope.itemSelected=this._itemSelected.bind(this),this._scope.showOptionTitle=this._showOptionTitle.bind(this),this._scope.selectChange=this.showDialog.bind(this),this._attrs.hasOwnProperty("disabled")&&this._attrs.disabled&&this.setDisabled(!0)},initVal:function(){if(void 0===this._ctrl||!this._ctrl)return void this._itemSelected(null,0,!0);this._ctrl.$render=function(){var t=this._ctrl.$viewValue,e=this._getItemByCode(t),n=this._scope.items.indexOf(e);n<0&&(e=null),this._itemSelected(e,n+1,!0)}.bind(this)},_getItemByCode:function(t){if(!t)return null;var e=this._attrs.hyaValueKey;if(!e)return t;angular.isObject(t)&&(t=t[e]);for(var n=null,i=this._scope.items.length,o=i-1;o>=0;o--){var r=this._scope.items[o];if(angular.isObject(r)&&r[e]==t||r==t){n=r;break}}return n},_getCodeByItem:function(t){if(!t)return"";var e=t,n=this._attrs.hyaValueKey;return t&&n&&angular.isObject(t)&&(e=t[n]),e},itemsChange:function(){if(void 0===this._ctrl||!this._ctrl)return void this._itemSelected(null,0);var t=this._ctrl.$viewValue,e=this._getItemByCode(t),n=this._scope.items.indexOf(e);n<0&&(e=null),this._itemSelected(e,n+1)},_createDialog:function(){if(this._scope.dialog)return void this._setDialog(this._scope.dialog);var e=t.DIRECTIVE_TEMPLATE_URL+"/hy_drop_list_dialog.tpl";ons.createDialog(e,{parentScope:this._scope}).then(function(t){this._setDialog(t)}.bind(this))},_itemSelected:function(t,e,n){if(this._element[0].querySelector(".droplist-title").innerText=this._scope.showOptionTitle(t),n||this.selectedIndex!==e){var i=this._getCodeByItem(t);this.selectedItem=t,this.selectedIndex=e,this._scope.selectedIndex=e-1,this.closeDialog(),this._ctrl&&!n&&this._ctrl.$setViewValue(i),this._scope.selectedFn({$value:i,$item:this.selectedItem,$index:this.selectedIndex,$attrs:this._attrs})}},_setDialog:function(t){this._scope.dialog=t,this._scope.dialog._element.addClass("drop-list-dialog"),this._scope.dialog.show()},_showOptionTitle:function(t){if(!t)return this._scope.placeholder;if(angular.isObject(t)){return t[this._attrs.hyaTitleKey||"title"]}return t},closeDialog:function(){this._scope.dialog&&this._scope.dialog.hide()},showDialog:function(){this.disabled||(this._scope.dialog?this._setDialog(this._scope.dialog):this._createDialog())},destroy:function(){this._scope.$destroy()},_destroy:function(){this._scope=void 0,this._element=void 0,this._attrs=void 0},setDisabled:function(t){this.disabled=t}});return MicroEvent.mixin(e),e}]),t.directive("hyDropList",["HyDropListService","$onsen",function(t,e){return{restrict:"E",require:"?ngModel",scope:{items:"=",selectedFn:"&hyaSelected",icon:"@icon"},replace:!0,template:'<div class="droplist-box" ng-click="selectChange();"><span class="droplist-title" ng-class="{\'no-select-option\':selectedIndex<0}">{{placeholder}}</span><ons-icon ng-if="!hideArrow" icon="{{icon}}" size="20px" fixed-width="false" class="droplist-arrow"></ons-icon></div>',compile:function(n,i){return function(n,i,o,r){var s=new t(n,i,o,r);e.declareVarAttribute(o,s),s.initVal(),n.$watch("items",function(t){s.itemsChange()})}}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("DropPickerView",["$onsen","$q",function(t,e){var n=Class.extend({init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n,this._dialog=null,this._dialogCompent=null,this._scope.displayValue="",this._scope.placeholder=this._scope.placeholder||"",this._scope.separator=this._scope.separator||"",this._scope.dataList&&(this._scope.dataList.length>4?this.itemLength=3:this.itemLength=this._scope.dataList.length),this._createListData(),this._scope.onshow=angular.bind(this,this.onShow),this._scope.valueChange0=angular.bind(this,this._valueChange0),this._scope.valueChange1=angular.bind(this,this._valueChange1),this._scope.valueChange2=angular.bind(this,this._valueChange2),this._scope.valueChange3=angular.bind(this,this._valueChange3),this._scope.dayValueChange=angular.bind(this,this._dayValueChange),this._scope.okButton=angular.bind(this,this._okButton),this._scope.clearButton=angular.bind(this,this._clearButton);var i=this;this._scope.$watch("dataModel",function(t){if(t&&t.length>0){for(var e=0;e<t.length;e++){0==e?(i._scope["dataList"+e]=i._scope.dataList[e]?i._scope.dataList[e]:[],i._scope["dataValue"+e]=t[e]):(i._scope["dataList"+e]=i._scope.dataList[e][i._scope["dataValue"+(e-1)]]?i._scope.dataList[e][i._scope["dataValue"+(e-1)]]:[],i._scope["dataValue"+e]=t[e]);for(var n=0;n<i._scope["dataList"+e].length;n++)i._scope["dataList"+e][n].value==t[e]&&(i._scope["dataObject"+e]=i._scope["dataList"+e][n],i._scope["dataDisplay"+e]=i._scope["dataList"+e][n].text)}i._modifyDisplayValue()}})},_createListData:function(){if(this._scope.dataList)for(var t=0;t<this.itemLength;t++)0==t?(this._scope["dataList"+t]=this._scope.dataList[t]?this._scope.dataList[t]:[],this._scope["dataObject"+t]=this._scope["dataList"+t][0]?this._scope["dataList"+t][0]:void 0,this._scope["dataValue"+t]=this._scope["dataList"+t][0]?this._scope["dataList"+t][0].value:""):(this._scope["dataList"+t]=this._scope.dataList[t][this._scope["dataValue"+(t-1)]]?this._scope.dataList[t][this._scope["dataValue"+(t-1)]]:[],this._scope["dataValue"+t]=this._scope["dataList"+t][0]?this._scope["dataList"+t][0].value:"",this._scope["dataObject"+t]=this._scope["dataList"+t][0]?this._scope["dataList"+t][0]:void 0),this._scope["dataList"+t][0]&&"_0"!=this._scope["dataList"+t][0].value?this._scope["dataDisplay"+t]=this._scope["dataList"+t][0]?this._scope["dataList"+t][0].text:"":this._scope["dataDisplay"+t]=""},_modifyDisplayValue:function(){if(this._scope.displayValue="",this._scope.dataList)for(var t=0;t<this.itemLength;t++)""!=this._scope["dataDisplay"+t]&&(""==this._scope.displayValue?this._scope.displayValue=this._scope["dataDisplay"+t]:this._scope.displayValue=this._scope.displayValue+this._scope.separator+this._scope["dataDisplay"+t])},_modifyValue:function(){if(this._scope.dataModel=[],this._scope.dataList)for(var t=0;t<this.itemLength;t++)this._scope.dataModel.push(this._scope["dataValue"+t]);for(var e=[],n=0;n<this.itemLength;n++)e.push(this._scope["dataObject"+n]);this._scope.dataChange&&this._scope.dataChange({data:e})},_valueChange0:function(t){this._valueChange(t,0)},_valueChange1:function(t){this._valueChange(t,1)},_valueChange2:function(t){this._valueChange(t,2)},_valueChange3:function(t){this._valueChange(t,3)},_valueChange:function(t,e){this._scope["dataObject"+e]=t,this._scope["dataValue"+e]=t.value,this._scope["dataDisplay"+e]=t.text;for(var n=e+1;n<this.itemLength;n++)n==e+1?(this._scope["dataList"+n]=this._scope.dataList[n][t.value]?this._scope.dataList[n][t.value]:[],this._scope["dataValue"+n]=this._scope["dataList"+n][0]?this._scope["dataList"+n][0].value:""):(this._scope["dataList"+n]=this._scope.dataList[n][this._scope["dataValue"+(n-1)]]?this._scope.dataList[n][this._scope["dataValue"+(n-1)]]:[],this._scope["dataValue"+n]=this._scope["dataList"+n][0]?this._scope["dataList"+n][0].value:""),
this._scope["dataList"+n][0]&&"_0"!=this._scope["dataList"+n][0].value?this._scope["dataDisplay"+n]=this._scope["dataList"+n][0]?this._scope["dataList"+n][0].text:"":this._scope["dataDisplay"+n]=""},_createDialog:function(t){if(!t)throw new Error("");angular.element(document.body).append(angular.element(this._dialog));var n=angular.element('<div class="hy-drop-picker-header"><div class="hy-drop-picker-header-inner"></div></div>');this._dialog.append(n);var i=angular.element('<div class="hy-droppicker-select-toolbar"><div class="hy-droppicker-select-toolbar-innner hy-layout-row hy-layout-align-space-between-center"><hy-button  class="hy-droppicker-toolbar-button right-border"  ng-click="clearButton()">&nbsp;&nbsp;</hy-button><hy-button class="hy-droppicker-toolbar-button " ng-click="okButton()">&nbsp;&nbsp;</hy-button></div></div>');this._dialog.append(i),this._dialog.append(t),ons.$compile(this._dialog)(this._scope);var o=e.defer();return this._dialog.on("ons-dialog:init",function(t){var e=t.component._element[0].querySelector(".dialog"),n=e.getAttribute("style"),i=function(t,e){return(";"===t.substr(-1)?t:t+";")+(";"===e.substr(-1)?e:e+";")}("height: 346px; width: 300px;border-radius:5px;",n);e.setAttribute("style",i),o.resolve(t.component)}),o.promise},onShow:function(t){if(void 0===this._attrs.disabled){var e=this;this._dialog=angular.element("<ons-dialog  cancelable>");for(var n=null,i='<div class="hy-droppicker-select-pane hy-layout-row hy-layout-align-space-around">',o=100/this.itemLength,r=0;r<this.itemLength;r++)i+='<div style="width:'+o+'%;height:100%;perspective: 1200px;" ><hy-scroller hya-data="dataList'+r+'" hya-value="dataValue'+r+'" select-value="valueChange'+r+'(data)" ></hy-scroller></div>';i+="</div>",n=angular.element(i),this._createDialog(n).then(function(n){e._dialogCompent=n,n.show(t),n.on("posthide",function(){e._dialog.remove()})})}},_okButton:function(t){this._modifyDisplayValue(),this._modifyValue(),this._dialogCompent.hide()},_clearButton:function(t){this._scope.displayValue="",this._scope.dateModel=void 0,this._dialogCompent.hide()}});return MicroEvent.mixin(n),n}]),t.directive("hyDropPicker",["$onsen","DropPickerView","$compile",function(t,e,n){function i(t,e){return'<div layout="row" class="hy-layout-align-start-center" ng-click="onshow($event)" ><input ng-model="displayValue" placeholder="{{placeholder}}" class="text-input hy-drop-picker-input {{nobuttonstyle}} {{inputClass}} "  readonly ><ons-icon icon="angle-down" size="16px" style="flex:none;margin:5px;" fixed-width="true"></ons-icon></div>'}return{restrict:"E",template:i,transclude:!0,scope:{placeholder:"@hyaPlaceholder",dataModel:"=hyaDataValue",inputClass:"@hyaInputClass",dataList:"=hyaDataList",dataChange:"&hyaDataChange",separator:"@"},compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-drop-picker",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-drop-picker",void 0),i=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}]),t.factory("DropPicker2View",["$onsen","$q",function(t,e){var n=Class.extend({init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n,this._dialog=null,this._dialogCompent=null,this._createListData(),this._scope.displayValue="",this._scope.placeholder=this._scope.placeholder||"",this._scope.onshow=angular.bind(this,this.onShow),this._scope.valueChange0=angular.bind(this,this._valueChange0),this._scope.valueChange1=angular.bind(this,this._valueChange1),this._scope.valueChange2=angular.bind(this,this._valueChange2),this._scope.valueChange3=angular.bind(this,this._valueChange3),this._scope.monthValueChange=angular.bind(this,this._monthValueChange),this._scope.dayValueChange=angular.bind(this,this._dayValueChange),this._scope.okButton=angular.bind(this,this._okButton),this._scope.clearButton=angular.bind(this,this._clearButton);var i=this;this._scope.$watch("dataModel",function(t){if(t){for(var e=0;e<t.length;e++){0==e?(i._scope["dataList"+e]=i._scope.dataList[e]?i._scope.dataList[e]:[],i._scope["dataValue"+e]=t[e]):(i._scope["dataList"+e]=i._scope.dataList[e][i._scope["dataValue"+(e-1)]]?i._scope.dataList[e][i._scope["dataValue"+(e-1)]]:[],i._scope["dataValue"+e]=t[e]);for(var n=0;n<i._scope["dataList"+e].length;n++)i._scope["dataList"+e][n].value==t[e]&&(i._scope["dataDisplay"+e]=i._scope["dataList"+e][n].display)}i._modifyDisplayValue(),i._scope.$evalAsync()}})},_createListData:function(){if(this._scope.dataList){for(var t=0;t<this._scope.dataList.length;t++)0==t?(this._scope["dataList"+t]=this._scope.dataList[t]?this._scope.dataList[t]:[],this._scope["dataValue"+t]=this._scope["dataList"+t][0]?this._scope["dataList"+t][0].value:""):(this._scope["dataList"+t]=this._scope.dataList[t][this._scope["dataValue"+(t-1)]]?this._scope.dataList[t][this._scope["dataValue"+(t-1)]]:[],this._scope["dataValue"+t]=this._scope["dataList"+t][0]?this._scope["dataList"+t][0].value:""),this._scope["dataList"+t][0]&&"_0"!=this._scope["dataList"+t][0].value?this._scope["dataDisplay"+t]=this._scope["dataList"+t][0]?this._scope["dataList"+t][0].display:"":this._scope["dataDisplay"+t]="";this._modifyDisplayValue()}},_modifyDisplayValue:function(){if(this._scope.displayValue="",this._scope.dataList)for(var t=0;t<this._scope.dataList.length;t++)""!=this._scope["dataDisplay"+t]&&(""==this._scope.displayValue?this._scope.displayValue=this._scope["dataDisplay"+t]:this._scope.displayValue=this._scope.displayValue+","+this._scope["dataDisplay"+t])},_modifyValue:function(){if(this._scope.dataModel=[],this._scope.dataList)for(var t=0;t<this._scope.dataList.length;t++)this._scope.dataModel.push(this._scope["dataValue"+t]);this._scope.dataChange&&this._scope.dataChange({data:this._scope.dataModel})},_valueChange0:function(t){this._valueChange(t,0)},_valueChange1:function(t){this._valueChange(t,1)},_valueChange2:function(t){this._valueChange(t,2)},_valueChange3:function(t){this._valueChange(t,3)},_valueChange:function(t,e){this._scope["dataValue"+e]=t.value,this._scope["dataDisplay"+e]=t.display;for(var n=e+1;n<this._scope.dataList.length;n++)n==e+1?(this._scope["dataList"+n]=this._scope.dataList[n][t.value]?this._scope.dataList[n][t.value]:[],this._scope["dataValue"+n]=this._scope["dataList"+n][0]?this._scope["dataList"+n][0].value:""):(this._scope["dataList"+n]=this._scope.dataList[n][this._scope["dataValue"+(n-1)]]?this._scope.dataList[n][this._scope["dataValue"+(n-1)]]:[],this._scope["dataValue"+n]=this._scope["dataList"+n][0]?this._scope["dataList"+n][0].value:""),this._scope["dataList"+n][0]&&"_0"!=this._scope["dataList"+n][0].value?this._scope["dataDisplay"+n]=this._scope["dataList"+n][0]?this._scope["dataList"+n][0].display:"":this._scope["dataDisplay"+n]="";this._modifyDisplayValue(),this._modifyValue(),this._scope.$evalAsync()},_monthValueChange:function(t){this._scope.selectMonthValue=t,this._valueChange()},_dayValueChange:function(t){this._scope.selectDayValue=t+""},_createDayList:function(t,e){this._scope.dayList.length=0;for(var n=t;n<=e;n++)n<=9?this._scope.dayList.push("0"+n):this._scope.dayList.push(n+"");var i=new Date(this._scope.selectYearValue,this._scope.selectMonthValue,0).getDate();if(0!=this._scope.selectDayValue.substr(0,1)){parseInt(this._scope.selectDayValue)>i&&(this._scope.selectDayValue=i+"")}},_initAttributeValue:function(){void 0===this._scope.dateFormat&&("true"===this._scope.isTimer?this._scope.dateFormat="YYYY-MM-DD hh:mm":this._scope.dateFormat="YYYY-MM-DD"),void 0===this._scope.placeholder&&(this._scope.placeholder="")},_dateValueFormat:function(t){var e=null;void 0!==t&&null!==t&&""!==t?(this._scope.formatValue=this._$hyDateLocale.formatDate(t,this._scope.dateFormat),e=t):e=new Date,this._scope.selectYearValue=e.getFullYear()+"",this._scope.selectMonthValue=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1+"",this._scope.selectDayValue=e.getDate()>9?e.getDate()+"":"0"+e.getDate()},_createDialog:function(t){if(!t)throw new Error("");angular.element(document.body).append(angular.element(this._dialog));var n=angular.element('<div class="hy-drop-picker-header"><div class="hy-drop-picker-header-inner"></div></div>');this._dialog.append(n),this._dialog.append(t),ons.$compile(this._dialog)(this._scope);var i=e.defer();return this._dialog.on("ons-dialog:init",function(t){var e=t.component._element[0].querySelector(".dialog"),n=e.getAttribute("style"),o=function(t,e){return(";"===t.substr(-1)?t:t+";")+(";"===e.substr(-1)?e:e+";")}("height: 246px; width: 300px;border-radius:5px;",n);e.setAttribute("style",o),i.resolve(t.component)}),i.promise},onShow:function(t){if(void 0===this._attrs.disabled){var e=this;this._dialog=angular.element("<ons-dialog  cancelable>");for(var n=null,i='<div class="hy-droppicker-select-pane hy-layout-row hy-layout-align-space-around">',o=0;o<this._scope.dataList.length;o++){i+='<div style="width:'+100/this._scope.dataList.length+'%;height:100%;perspective: 1200px;" ><hy-scroller-deg hya-data="dataList'+o+'" hya-value="dataValue'+o+'" select-value="valueChange'+o+'(data)" ></hy-scroller-deg></div>'}i+="</div>",n=angular.element(i),this._createDialog(n).then(function(n){e._dialogCompent=n,n.show(t),n.on("posthide",function(){e._dialog.remove()})})}},_okButton:function(t){var e=!1,n=new Date(this._scope.selectYearValue+"/"+this._scope.selectMonthValue+"/"+this._scope.selectDayValue);void 0==this._scope.dateValue&&(this._scope.dateValue=n,e=!0);var i=this._scope.dateValue.getFullYear()+"",o=this._scope.dateValue.getMonth()<9?"0"+(this._scope.dateValue.getMonth()+1):this._scope.dateValue.getMonth()+1+"",r=this._scope.dateValue.getDate()>9?this._scope.dateValue.getDate()+"":"0"+this._scope.dateValue.getDate(),s=this._$hyDateLocale.formatDate(n,this._scope.dateFormat),a=this._$hyDateLocale.formatDate(this._scope.dateValue,this._scope.dateFormat);this._scope.dateValue=n,this._dateValueFormat(this._scope.dateValue),e?this._scope.dateChange&&this._scope.dateChange({newValue:s,oldValue:null}):this._scope.selectYearValue==i&&this._scope.selectMonthValue==o&&this._scope.selectDayValue==r||this._scope.dateChange&&this._scope.dateChange({newValue:s,oldValue:a}),this._dialogCompent.hide()},_clearButton:function(t){this._scope.formatValue="",this._scope.dateModel=void 0,this._dialogCompent.hide()}});return MicroEvent.mixin(n),n}]),t.directive("hyDropPicker2",["$onsen","DropPicker2View","$compile",function(t,e,n){function i(t,e){return'<div layout="row" class="hy-layout-align-start-center"><input ng-model="displayValue" ng-click="onshow($event)" placeholder="{{placeholder}}" class="text-input hy-drop-picker-input {{nobuttonstyle}} {{inputClass}} "  readonly ><ons-icon icon="angle-down" size="16px" style="flex:none;margin:5px;" fixed-width="true"></ons-icon></div>'}return{restrict:"E",template:i,transclude:!0,scope:{placeholder:"@hyaPlaceholder",dataModel:"=hyaDataValue",inputClass:"@hyaInputClass",dataList:"=hyaDataList",dataChange:"&hyaDataChange"},compile:function(e,n){return{pre:function(e,n,i){var o=new DropPickerView(e,n,i);t.declareVarAttribute(i,o),n.data("hy-drop-picker",o),e.$on("destory",function(){o._events=void 0,t.removeModifierMethods(o),n.data("hy-drop-picker",void 0),n=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";function t(){return{restrict:"EA",template:"<div style='width:100%;height:100%'></div>",replace:!0,scope:{option:"=hyaOption",config:"=hyaConfig"},link:function(t,e,n,i){function o(){var n=t.config&&t.config.theme?t.config.theme:"default",i=echarts.init(e[0],n);t.config&&!1===t.config.dataLoaded&&i.showLoading(),t.config&&t.config.dataLoaded&&(i.setOption(t.option),i.resize(),i.hideLoading()),t.config&&t.config.event&&angular.isArray(t.config.event)&&angular.forEach(t.config.event,function(t,e){for(var n in t)i.on(n,t[n])})}"undefined"!=typeof echarts?(t.$watch(function(){return t.config},function(t){t&&o()},!0),t.$watch(function(){return t.option},function(t){t&&o()},!0)):console.log("Echart")}}}var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.directive("hyEcharts",t)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",[])}t.directive("hyFileInput",function(){return{restrict:"EA",scope:{hyaFileTypes:"=",hyaMaxSize:"=",hyaFileSelect:"&"},link:function(t,e,n){e.bind("change",function(e){var n=[],i=[],o=t.hyaFileTypes,r=e.target.files;if(null!=r)for(var s=0;s<r.length;s++)if(o&&o.length>0){var a=r[s].name,l=a.substring(a.lastIndexOf("."),a.length).toLowerCase();o.indexOf(l)>-1?t.hyaMaxSize&&t.hyaMaxSize<r[s].size?i.push({file:a,errorMsg:""+t.hyaMaxSize}):n.push(r[s]):i.push({file:a,errorMsg:""+o.join(",")})}else n.push(r[s]);t.hyaFileSelect&&t.hyaFileSelect({$files:n,$error:i})}),t.$on("$destroy",function(){t=e=n=null})}}})}(),function(){"use strict";function t(t){return{scope:{trigger:"@focusMe"},link:function(e,n){e.$watch("trigger",function(e){"true"===e&&t(function(){n[0].focus()})})}}}t.$inject=["$timeout"];var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.directive("focusMe",t)}(),function(){"use strict";function t(){function t(t,e){for(var n=t[0];n.parentNode&&(n=n.parentNode,!(n.className&&n.className.split(/\s+/).indexOf(e)>=0)););return angular.element(n)}function e(t,e){t.css("transform","translateY("+e+"px)"),t.css("webkitTransform","translateY("+e+"px)")}return{restrict:"A",compile:function(o,r){return{pre:function(o,r,s){var a=t(r,"hy-focus-scroll-content");r.on("focus",function(){n=!0;var t=r[0].getBoundingClientRect().top,o=document.body.clientHeight;i=o/2-60-t+i,i>=0&&(i=0),e(a,i),setTimeout(function(){n=!1},100)}),r.on("blur",function(){setTimeout(function(){n||(i=0,e(a,0))},20)})},post:function(t,e){}}}}}var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.directive("hyFocusScroll",t);var n=!1,i=0}(),function(){"use strict;";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("HyFormAnimator",function(){return Class.extend({show:function(t){throw new Error("This method must be implemented.")},hide:function(t){throw new Error("This method must be implemented.")}})}),t.factory("HyFormView",["$onsen","$compile",function(t,e){var n=Class.extend({FORM_VALIDATE_ERROR_MESSAGE:{required:"!",maxlength:"{0}!",minlength:"{0}!",pattern:"!"},init:function(t,e,n){this._scope=t,this._element=e,this._attrs=n,this._name=n.name,this._createErrorTooltip(),this._scope.$on("$destroy",this._destroy.bind(this))},_createErrorTooltip:function(){for(var t=this._element[0],e=t.elements,n=e.length,i=0;i<n;i++){var o=angular.element(e[i]);o.attr("ng-model")&&this._setErrorTooltip(o)}},_setErrorTooltip:function(t){var n=this._name,i=t.attr("name");if(i){var o=t.attr("required"),r=o&&this._getErrorMessage(i,"required"),s=parseInt(t.attr("ng-maxlength")||0),a=s&&this._getErrorMessage(i,"maxlength",s),l=parseInt(t.attr("ng-minlength")||0),c=l&&this._getErrorMessage(i,"minlength",l),u=t.attr("ng-pattern"),h=u&&this._getErrorMessage(i,"pattern");if(o||s||l||u){var d='<div class="error-tooltip" ng-if="'+n+"."+i+'.$invalid"><div class="tooltip-inner"><span ng-if="'+n+"."+i+'.$error.required">'+r+'</span><span ng-if="'+n+"."+i+'.$error.maxlength">'+a+'</span><span ng-if="'+n+"."+i+'.$error.minlength">'+c+'</span><span ng-if="'+n+"."+i+'.$error.pattern">'+h+"</span></div></div>",p=angular.element(d),f=t[0].offsetTop+t[0].offsetHeight-31;p.css({top:f+"px",right:"5px"}),t.after(p),e(p)(this._scope)}}},_getErrorMessage:function(t,e){var n=Array.prototype.slice.call(arguments,2);n=n||[],n.unshift(this.FORM_VALIDATE_ERROR_MESSAGE[e]);var i=this._errorFormat.apply(this,n);return t&&this._attrs.hyFormValidate?"{{"+this._attrs.hyFormValidate+"."+t+"."+e+"||'"+i+"'}}":i},check:function(){return this._element.addClass("hyc-form-checked"),this._scope[this._name].$valid},getErrors:function(t){return t&&this._scope[this._name][t]?this._scope[this._name][t].$error:this._scope[this._name].$error},_errorFormat:function(t){if(!t)return t;for(var e=arguments.length,n=1;n<e;n++)t=t.replace(new RegExp("\\{"+(n-1)+"\\}","g"),arguments[n]);return t},_destroy:function(){this._element=this._scope=this._attrs=null}});return MicroEvent.mixin(n),n._animatorDict={default:null,none:null},n.registerAnimator=function(t,e){if(!(e instanceof HyFormAnimator))throw new Error('"animator" param must be an instance of HyFormAnimator');this._animatorDict[t]=e},n.getFormName=function(){return"form-"+(new Date).getTime()},n}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyFormValidate",["$onsen","$compile","HyFormView",function(t,e,n){return{restrict:"A",scope:!1,compile:function(e,i){if("FORM"!==e[0].tagName)throw new Error('"hy-form-validate" only use in "form" ');e.addClass("hyc-form-validate");var o=i.name||n.getFormName;return e.attr("name",o),function(e,i,o){var r=new n(e,i,o);t.declareVarAttribute(o,r)}}}}])}(),function(t){"use strict";function e(){}function n(t,e){this.url=t,this.viewBoxSize=e||s.defaultViewBoxSize}function i(e,n,i,o,r,s){function a(e,n){e&&"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e.cloneNode(!0))[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function l(n){return n=n||"",t.isString(n)||(n=s.getTrustedUrl(n)),v[n]?i.when(u(v[n])):b.test(n)||w.test(n)?f(n).then(h(n)):(-1==n.indexOf(":")&&(n="$default:"+n),(e[n]?d:p)(n).then(h(n)))}function c(n){if(t.isUndefined(n)||!(n&&n.length))return e.defaultFontSet;var i=n;return t.forEach(e.fontSets,function(t){t.alias==n&&(i=t.fontSet||i)}),i}function u(e){var n=e.clone(),i="_cache"+r.nextUid();return n.id&&(n.id+=i),t.forEach(n.querySelectorAll("[id]"),function(t){t.id+=i}),n}function h(t){return function(n){return v[t]=m(n)?n:new a(n,e[t]),v[t].clone()}}function d(t){var n=e[t];return f(n.url).then(function(t){return new a(t,n)})}function p(t){function n(e){var n=t.slice(t.lastIndexOf(":")+1),i=e.querySelector("#"+n);return i?new a(i,l):r(t)}function r(t){var e="icon "+t+" not found";return o.warn(e),i.reject(e||t)}var s=t.substring(0,t.lastIndexOf(":"))||"$default",l=e[s];return l?f(l.url).then(n):r(t)}function f(e){return w.test(e)?function(e){var n=w.exec(e),o=/base64/i.test(e),r=o?window.atob(n[2]):n[2];return i.when(t.element(r)[0])}(e):function(e){return i(function(i,r){var s=function(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;o.warn(n),r(e)},a=function(n){y[e]||(y[e]=t.element("<div>").append(n)[0].querySelector("svg")),i(y[e])};n(e,!0).then(a,s)})}(e)}function m(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function g(){var n=this.config?this.config.viewBoxSize:e.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n,focusable:!1},function(t,e){this.element.setAttribute(e,t)},this)}function _(){return this.element.cloneNode(!0)}var v={},y={},b=/[-\w@:%\+.~#?&\/\/=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%\+.~#?&\/\/=]*)?/i,w=/^data:image\/svg\+xml[\s*;\w\-\=]*?(base64)?,(.*)$/i;return a.prototype={clone:_,prepare:g},l.fontSet=c,l}function o(t,e){function n(e,n,i){function o(){if(!i.hySvgIcon&&!i.hySvgSrc){i.hyFontIcon&&(n.removeClass(r),n.addClass(i.hyFontIcon),r=i.hyFontIcon);var e=t.fontSet(i.hyFontSet);s!==e&&(n.removeClass(s),n.addClass(e),s=e)}}var r=i.hyFontIcon,s=t.fontSet(i.hyFontSet);!function(){i.hySvgIcon||i.hySvgSrc||(i.hyFontIcon&&n.addClass("hy-font "+i.hyFontIcon),n.addClass(s))}(),i.$observe("hyFontIcon",o),i.$observe("hyFontSet",o);var a=(n[0].getAttribute(i.$attr.hySvgSrc),i.alt||i.hyFontIcon||i.hySvgIcon||n.text()),l=i.$normalize(i.$attr.hySvgIcon||i.$attr.hySvgSrc||"");i["aria-label"]||(""===a||function(){var t=n.parent();return!(!t.attr("aria-label")&&!t.text())||!(!t.parent().attr("aria-label")&&!t.parent().text())}())&&n.text(),l&&i.$observe(l,function(e){n.empty(),e&&t(e).then(function(t){n.empty(),n.append(t)})})}return{restrict:"E",link:n}}i.$inject=["config","$templateRequest","$q","$log","$hyUtil","$sce"];var r=null;try{r=t.module("haiyiMobile")}catch(e){r=t.module("haiyiMobile",["onsen"])}r.provider("$hyIcon",e).directive("hyIcon",["$hyIcon","$sce",o]);var s={defaultViewBoxSize:24,defaultFontSet:"fa",fontSets:[{alias:"fa",fontSet:"fa"},{alias:"ion",fontSet:"ion"}]};e.prototype={icon:function(t,e,i){return-1==t.indexOf(":")&&(t="$default:"+t),s[t]=new n(e,i),this},iconSet:function(t,e,i){return s[t]=new n(e,i),this},defaultIconSet:function(t,e){return s.$default||(s.$default=new n(t,e)),s.$default.viewBoxSize=e||s.defaultViewBoxSize,this},defaultViewBoxSize:function(t){return s.defaultViewBoxSize=t,this},fontSet:function(t,e){return s.fontSets.push({alias:t,fontSet:e||t}),this},defaultFontSet:function(t){return s.defaultFontSet=t||"",this},defaultIconSize:function(t){return s.defaultIconSize=t,this},$get:["$templateRequest","$q","$log","$hyUtil","$sce",function(t,e,n,o,r){return i(s,t,e,n,o,r)}]}}(window.angular),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",[])}t.directive("hyImageIndicator",["$compile","$timeout",function(t,e){return{restrict:"E",replace:!0,scope:{hyaImages:"=",hyaImageOnClick:"&",hyaAutoRecycle:"@",hyaRecycleTime:"@",hyaIndicatorPosition:"@"},link:function(n,i,o){var r=(new Date).getTime(),s="hyCarousel"+r;if(n.carouselName=s,i.append(t(angular.element('<div class="haiyiImageIndicator"> \n <ons-carousel fullscreen swipeable overscrollable auto-scroll auto-refresh auto-scroll-ratio="0.1" var="{{carouselName}}"> \n <ons-carousel-item ng-repeat="image in hyaImages"> \n <div class="inner" ng-click="imageOnClick(image)"> \n <img ng-src="{{image.src}}" alt="{{image.src}}"> \n </div> \n </ons-carousel-item> \n  <ons-carousel-cover ng-if="checkDesc()"> \n  <div class="cover-label"> \n  {{desc}} \n</div> \n</ons-carousel-cover> \n</ons-carousel> \n<div class="indicators {{hyaIndicatorPosition}}"> \n<a ng-repeat="image in hyaImages" ng-class="{true: \'active\', false: \'\'}[image.isActive]"></a>\n </div> \n </div>'))(n)),!n.hyaImages)throw new Error("hya-images.");n.desc=n.hyaImages[0].desc,n.hyaImages[0].isActive=!0,n.hyaImages[0].sIndex=0;for(var a=1;a<n.hyaImages.length;a++)n.hyaImages[a].isActive=!1,n.hyaImages[a].sIndex=a;n.hyaIndicatorPosition||(n.hyaIndicatorPosition="bottomRight"),window[s].on("postchange",function(t){var e=t.activeIndex,i=n.hyaImages.length;n.$apply(function(){for(var t=0;t<i;t++)n.hyaImages[t].isActive=t==e;n.desc=n.hyaImages[e].desc})});var l=function(){var t=window[s].getActiveCarouselItemIndex();t==n.hyaImages.length-1?window[s].setActiveCarouselItemIndex(0):window[s].setActiveCarouselItemIndex(t+1)},c=function(){var t=3e3;n.hyaRecycleTime&&(t=n.hyaRecycleTime),e(function(){null!=n&&void 0!=n&&(l(),c())},t)};n.hyaAutoRecycle&&"true"==n.hyaAutoRecycle&&c(),n.imageOnClick=function(t){n.hyaImageOnClick({image:t})},n.checkDesc=function(){return null!=n.desc&&""!=n.desc},n.$on("$destroy",function(){n=i=o=null})}}}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/hy_image_show_dialog.tpl",'<ons-dialog cancelable class="hyc-image-dialog">                <div style="background-color: #AAAAAA;color: #FFFFFF;" class="delete-btn" ng-click="dialog.hide();">                    <ons-icon icon="ion-close-round" fixed-width="true" size="16px"></ons-icon>                </div>                <hy-image-scan hya-src="{{activeImage.image.src}}" var="hyImageScanDialog">                </hy-image-scan>            </ons-dialog>')}])}(),function(){"use strict;";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("HyImageListView",["$onsen","$compile",function(t,e){var n=Class.extend({DEFAULT_COLUMN:4,init:function(t,e,n){this._scope=t,this._element=e,this._attrs=n,this._scope.maxNum=isNaN(parseInt(this._scope.maxNum))?0:parseInt(this._scope.maxNum),this._scope.deleteImage=this.deleteImage.bind(this),this._scope.addImage=this.addImage.bind(this),this._scope.showImageDialog=this.showImageDialog.bind(this),this._scope.activeImage={},this._createImageList(),this._scope.$on("$destroy",this._destroy.bind(this))},_createImageList:function(){var t=this._getAddImgHtml(),n=this._element.html(),i=this._attrs.hyaColumn||this.DEFAULT_COLUMN;i=parseInt(i)>100?this.DEFAULT_COLUMN:parseInt(i);var o={add:this._attrs.hasOwnProperty("hyaAddDisabled"),del:this._attrs.hasOwnProperty("hyaDelDisabled")};this._scope.canDel=function(t){return!this._attrs.hasOwnProperty("hyaItemDel")||!this._scope.itemDelFn||this._scope.itemDelFn({$item:t})}.bind(this),this._scope.hyDisabled=o;var r=this._attrs.width,s=this._attrs.height,a=r?r+"px":100/i+"%",l=s?s+"px":"100%",c='<div class="hyc-image-items"><div class="hyc-image-item hyc-image" ng-if="maxNum<=0||$index<maxNum"    ng-repeat="item in images track by $index" style="width:'+a+";height:"+l+'"><div class="delete-btn" ng-click="deleteImage($index,item);" ng-if="!hyDisabled.del&&canDel(item)"><ons-icon icon="ion-close-round" fixed-width="true"></ons-icon></div><div class="img" ng-click="showImageDialog($index,item);">'+n+'</div></div><div class="hyc-image-item hyc-image-add-btn" ng-show="!hyDisabled.add && (maxNum<=0||!images||images.length<maxNum)" style="width:'+a+";height:"+l+'"><div class="img img-hide-btn" style="opacity: 0;"></div><div class="img img-show-btn"   ng-click="addImage();"></div></div></div>',u=angular.element(c);e(u)(this._scope),this._element.html(""),this._element.append(u),this._setAddBtnImg(u);var h=angular.element(t);e(h)(this._scope.$parent),setImmediate(function(){angular.element(u[0].querySelector(".hyc-image-add-btn .img-show-btn")).append(h)})},_getAddImgHtml:function(){var t=null,e=angular.element(this._element[0].querySelector("hy-image-add"));return e&&0<e.length&&(t=e[0].outerHTML,e.remove()),(!t||t.length<=0)&&(t='<div class="img-btn"><ons-icon icon="ion-plus-round" size="3p" fixed-width="true"></ons-icon></div>'),t},_setAddBtnImg:function(t){setImmediate(function(){var e=t[0].querySelectorAll(".hyc-image .img");!e||e.length<=0||(e=e[e.length-1],angular.element(t[0].querySelector(".hyc-image-add-btn .img-hide-btn")).html(angular.element(e).html()))})},deleteImage:function(t,e){var n=function(){this._scope.images.splice(t,1),this._scope.activeImage={},this._setAddBtnImg(this._element)}.bind(this);this._scope.del({$index:t,$item:e,$done:n})},_showDialog:function(){if(!this._scope.dialog)return void this._createDialog(function(t){this._scope.dialog=t,this._showDialog()}.bind(this));this._scope.dialog._element.addClass("img-list-dialog"),this._scope.dialog.show()},_createDialog:function(e){var n=t.DIRECTIVE_TEMPLATE_URL+"/hy_image_show_dialog.tpl";ons.createDialog(n,{parentScope:this._scope}).then(function(t){e.call(this,t)}.bind(this))},addImage:function(){this._scope.add({$callback:function(t,e){t&&(this._scope.images=this._scope.images||[],angular.isArray(t)&&(e?Array.prototype.push.apply(t,this._scope.images):Array.prototype.push.apply(this._scope.images,t)),e?this._scope.images.unshift(t):this._scope.images.push(t),this._setAddBtnImg(this._element),this._scope.$evalAsync())}.bind(this)})},getImageList:function(){return this._scope.images},showImageDialog:function(t,e){t!=this._scope.activeImage.$index&&(this._scope.dialog&&(this._scope.dialog._element.remove(),this._scope.dialog=null),this._scope.activeImage={$index:t,image:this._getDialogImg(e)}),this._showDialog()},_getDialogImg:function(t){if(!t||angular.isString(t))return{src:t};var e=this._attrs.hyaSrcKey||"src";return{src:angular.isObject(t)?t[e]||t.src:null}},_destroy:function(){this._element=this._scope=this._attrs=null}});return MicroEvent.mixin(n),n}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyImageList",["$onsen","HyImageListView",function(t,e){return{restrict:"E",scope:{images:"=hyaList",add:"&hyaAdd",del:"&hyaDelete",maxNum:"@hyaMax",itemDelFn:"&hyaItemDel"},compile:function(n,i){return n.addClass("hyc-image-list"),function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r)}}}}]),t.directive("hyImageAdd",["$onsen",function(t){return{restrict:"E",compile:function(t,e){return t.addClass("hyc-image-add"),function(t,e,n){}}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("HyImageScanView",function(){var t=Class.extend({_elementSize:{w:0,h:0},_initialZoom:1,_startPoint:null,_maxZoom:4,_pinchStartZoom:1,_pinchPointers:[],init:function(t,e,n){this._element=e,this._attrs=n,this._scope=t,this._hyaImage={src:this._scope.hyaSrc,desc:this._scope.hyaDesc,zoom:1},this._scope.hyaImage=this._hyaImage,this._scope.top=0,this._scope.left=0;var i=this;this._scope.$watch("hyaSrc",function(){console.log(""),i._hyaImage={src:i._scope.hyaSrc,desc:i._scope.hyaDesc,zoom:1},setImmediate(i._initZoom.bind(i))}),this._scope.onPanstart=this._onPanstart.bind(this),this._scope.onPanmove=this._onPanmove.bind(this),this._scope.onPinchstart=this._onPinchstart.bind(this),this._scope.onPinchin=this._onPinchin.bind(this),this._scope.onPinchout=this._onPinchout.bind(this),this._scope.onPinchend=this._onPinchend.bind(this),this._scope.onTap=this._onTap.bind(this),this._scope.onDoubletap=this._onDoubletap.bind(this),this._scope.$on("$destroy",this._destroy.bind(this))},_initZoom:function(){var t=this._element,e=new Image;e.src=this._hyaImage.src,e.complete?this._initImage(e,t):e.onload=function(){this._initImage(e,t)}.bind(this)},_initImage:function(t,e){var n={w:0,h:0},i=this._getElementSize(e);if(n.w=t.width,n.h=t.height,!(n.w*n.h<=0||i.w*i.h<=0)){var o=i.w/n.w,r=i.h/n.h,s=o<r?o:r;this._initialZoom=s<1?s:1,this._hyaImage.zoom=this._initialZoom,this._hyaImage.baseSize=n,this._hyaImage.size={w:n.w*s,h:n.h*s},this._elementSize=i;var a=(i.h-this._hyaImage.size.h)/2,l=(i.w-this._hyaImage.size.w)/2;this._scope.top=a,this._scope.left=l,this._scope.hyaImage=this._hyaImage,this._scope.$evalAsync()}},_getElementSize:function(t){var e={w:0,h:0};return t?(e.w=t[0].offsetWidth,e.h=t[0].offsetHeight,e.w*e.h<=0?this._getElementSize(t.parent()):e):(e.w=document.body.offsetWidth,e.h=document.body.offsetHeight,e)},_onPanstart:function(t){this._startPoint={X:t.pointers[0].clientX,Y:t.pointers[0].clientY}},_moveImage:function(t,e){var n=this._scope,i=n.left-t,o=n.top-e,r=this._hyaImage.size.w,s=this._hyaImage.size.h,a=this._elementSize.w-r;a=a>0?a/2:a;var l=a>0?a:0;i>=a&&i<=l&&(n.left=i);var c=this._elementSize.h-s;c=c>0?c/2:c;var u=c>0?c:0;o>=c&&o<=u&&(n.top=o),n.$evalAsync()},_onPanmove:function(t){if(!(this._hyaImage.zoom<=this.initialZoom)&&this._startPoint){var e=t.pointers[0].clientX,n=t.pointers[0].clientY,i=this._startPoint.X-e,o=this._startPoint.Y-n;this._moveImage(i,o),this._startPoint={X:t.pointers[0].clientX,Y:t.pointers[0].clientY}}},_onPinchstart:function(t){var e=t.pointers;e.length<=1||(this._pinchStartZoom=this._hyaImage.zoom,this._pinchPointers=e)},_onPinchin:function(t){var e=t.pointers;e.length<=1||(this._pinchImage(this._pinchPointers,e),this._pinchStartZoom=this._hyaImage.zoom,this._pinchPointers=e)},_pinchImage:function(t,e){var n=this._scope,i=this._caculate(e[0],e[1]),o=this._caculate(t[0],t[1]),r=i/o*this._pinchStartZoom,s=this._getImageLocation(t,e,r,this._pinchStartZoom);n.top+=s.top,n.left+=s.left;var a=this._hyaImage.baseSize;this._hyaImage.zoom=r,this._hyaImage.size={w:a.w*r,h:a.h*r},n.hyaImage=this._hyaImage,n.$evalAsync()},
_getImageLocation:function(t,e,n,i){var o=this._getLineCenter(t[0],t[1]),r=this._getLineCenter(e[0],e[1]),s=this._getImageCenter(o),a=this._getImageCenter(r),l=a.X-s.X*n/i;return{top:a.Y-s.Y*n/i,left:l}},_getImageCenter:function(t){var e=this._scope;return{X:t.clientX-e.left,Y:t.clientY-e.top}},_onPinchout:function(t){var e=t.pointers;e.length<=1||(this._pinchImage(this._pinchPointers,e),this._pinchStartZoom=this._hyaImage.zoom,this._pinchPointers=e)},_onPinchend:function(t){var e=this._scope,n=e.top,i=e.left;if(this._hyaImage.zoom<this._initialZoom){this._hyaImage.zoom=this._initialZoom;var o=this._hyaImage.zoom*this._hyaImage.baseSize.w,r=this._hyaImage.zoom*this._hyaImage.baseSize.h;this._hyaImage.size={w:o,h:r};var n=(this._elementSize.h-r)/2,i=(this._elementSize.w-o)/2}else if(this._hyaImage.zoom>this._maxZoom){var n=e.top+(this._hyaImage.zoom-this._maxZoom)*this._hyaImage.baseSize.h/2,i=e.left+(this._hyaImage.zoom-this._maxZoom)*this._hyaImage.baseSize.w/2;this._hyaImage.zoom=this._maxZoom}var o=this._hyaImage.zoom*this._hyaImage.baseSize.w,r=this._hyaImage.zoom*this._hyaImage.baseSize.h,s=this._elementSize.w-o;s=s>0?s/2:s;var a=s>0?s:0;i<s&&(i=s),i>a&&(i=a);var l=this._elementSize.h-r;l=l>0?l/2:l;var c=l>0?l:0;n<l&&(n=l),n>c&&(n=c),this._hyaImage.size={w:o,h:r},e.top=n,e.left=i,e.hyaImage=this._hyaImage,e.$evalAsync()},_onTap:function(t){var e=this._scope;e.hyaImageClick({image:e.hyaImage,event:t})},_onDoubletap:function(t){var e=this._scope;e.hyaImageDoubleClick({image:e.hyaImage,event:t}),this._hyaImage.zoom<=this._initialZoom?this._hyaImage.zoom=this._maxZoom:this._hyaImage.zoom=this._initialZoom;var n=this._hyaImage.zoom*this._hyaImage.baseSize.w,i=this._hyaImage.zoom*this._hyaImage.baseSize.h;this._hyaImage.size={w:n,h:i};var o=(this._elementSize.h-i)/2,r=(this._elementSize.w-n)/2;e.hyaImage=this._hyaImage,e.top=o,e.left=r,e.$evalAsync()},_caculate:function(t,e){var n=t.clientX,i=t.clientY,o=e.clientX,r=e.clientY,s=Math.abs(n-o),a=Math.abs(i-r);return Math.sqrt(s*s+a*a)},_getLineCenter:function(t,e){var n=t.clientX<e.clientX?t.clientX:e.clientX,i=t.clientY<e.clientY?t.clientY:e.clientY,o=t.clientX<e.clientX?e.clientX:t.clientX,r=t.clientY<e.clientY?e.clientY:t.clientY;return{clientX:Math.abs(n-o)+n,clientY:Math.abs(i-r)+i}},destroy:function(){this._scope.$destroy()},_destroy:function(){this._scope=this._attrs=this._element=null}});return MicroEvent.mixin(t),t})}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen","hmTouchEvents"])}t.directive("hyImageScan",["$onsen","HyImageScanView",function(t,e){return{restrict:"E",replace:!0,transclude:!0,scope:{hyaSrc:"@",hyaDesc:"@",hyaImageClick:"&",hyaImageDoubleClick:"&"},template:'<div class="hy-image-scan" hm-tap="onTap" hm-doubletap="onDoubletap" hm-panstart="onPanstart" hm-panmove="onPanmove" hm-pinchstart="onPinchstart" hm-pinchin="onPinchin" hm-pinchout="onPinchout" hm-pinchend="onPinchend"> <div class="gesture-body"> <img class="gesture-body-img" ng-src="{{hyaImage.src}}" style="position:absolute;width:{{hyaImage.size.w}}px;height:{{hyaImage.size.h}}px;top:{{top}}px;left:{{left}}px"/></div> <ons-scroller class="desc-body" ng-if="hyaImage.desc"> <div>{{hyaImage.desc}}</div> </ons-scroller> </div>',link:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r)}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("ImgView",["$onsen","$hyHttp",function(t,e){var n=Class.extend({init:function(t,e,n){this._scope=t,this._scope.src=null,this._element=e,this._attrs=n,this._visible=!0,this._img=angular.element(e[0].querySelector(".hy-img")),this._scope.$on("$destroy",this._destroy.bind(this)),this._checkArgs()},_checkArgs:function(){var t=this;this._scope.$watch("hyaSrc",function(e,n){var i=t._scope.hyaParams||{};i.cache=!0,t.reloadImg(t._scope.hyaSrc,i)}),this._scope.$watch("hyaParams",function(e,n){var i=t._scope.hyaParams||{};i.cache=!0,e!==n&&t.reloadImg(t._scope.hyaSrc,i)})},reloadImg:function(t,n){var i=this;i._scope.hyaLoadingImg&&(i._scope.src=i._scope.hyaLoadingImg),e.getFile(t,n).success(function(t){i._scope.src=t}).error(function(t){console.error("hyImg: error = "+JSON.stringify(t)),i._scope.hyaErrorImg&&(i._scope.src=i._scope.hyaErrorImg)}).progress(function(t){})},destroy:function(){this._parentScope?(this._parentScope.$destroy(),this._parentScope=null):this._scope.$destroy()},_destroy:function(){this.emit("destroy"),this._scope=this._attrs=this._element=this._img=null}});return MicroEvent.mixin(n),n}]),t.directive("hyImg",["$onsen","ImgView",function(t,e){return{restrict:"E",template:'<img ng-src="{{src}}"/>',replace:!0,scope:{hyaSrc:"@",hyaLoadingImg:"@",hyaErrorImg:"@",hyaParams:"@"},link:{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),t.registerEventHandlers(r,"destroy"),i.data("hy-img",r),n.$on("$destroy",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-img",void 0),i=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}])}(),function(){"use strict";function t(){return{restrict:"A",priority:200,compile:function(t,e){return{pre:function(t,e,n){e.on("load",function(){e[0].clientWidth>=e[0].clientHeight?e.css({height:"100%"}):e.css({width:"100%"})})},post:function(t,e){}}}}}var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.directive("hyImgAuto",t)}(),function(){"use strict";function t(t,e,n){return{restrict:"E",scope:{icon:"@hyaIcon",iconImg:"@hyaIconImg",activeIcon:"@hyaActiveIcon",activeIconImg:"@hyaActiveIconImg",label:"@hyaLabel",position:"@hyaPosition"},compile:function(e,i){e.addClass("haiyi-img-btn button");var o=e.html();return function(e,i,r){var s=e.label||o||"";e.label=s,e.tabIcon=e.icon,e.tabIconImg=e.iconImg;var a=new n(e,i,r);a.isActive()&&a.setActive(),t.declareVarAttribute(r,a)}}}}var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.factory("HyImgBtnView",["$compile","$rootScope","$sce",function(t,e,n){function i(t){t=t.toLowerCase();var e="top",n="bottom";switch(t){case"left":e="left",n="right";break;case"right":e="right",n="left";break;case"bottom":e="bottom",n="top"}return{icon:e,label:n}}function o(t,e){e.content=n.trustAsHtml(e.label||"");var i='<div class="haiyi-icon" >';i+='<img ng-if="iconImg" ng-src="{{tabIconImg}}" class="icon-img"/>',i+='<ons-icon ng-if="icon && !iconImg" icon="{{tabIcon}}"></ons-icon>',i+="</div>";var o='<div class="haiyi-label" ng-bind-html="content"></div>',r="";return r+="<table>","top"==t.icon?(r+='<tr ng-if="icon || iconImg">',r+="<td>",r+=i,r+="</td>",r+="</tr>",r+='<tr ng-if="label">',r+="<td>",r+=o,r+="</td>",r+="</tr>"):"bottom"==t.icon?(r+='<tr ng-if="label">',r+="<td>",r+=o,r+="</td>",r+="</tr>",r+='<tr ng-if="icon || iconImg">',r+="<td>",r+=i,r+="</td>",r+="</tr>"):"left"==t.icon?(r+="<tr>",r+='<td ng-if="icon || iconImg">',r+=i,r+="</td>",r+='<td ng-if="label">',r+=o,r+="</td>",r+="</tr>"):"right"==t.icon&&(r+="<tr>",r+='<td ng-if="label">',r+=o,r+="</td>",r+='<td ng-if="icon || iconImg">',r+=i,r+="</td>",r+="</tr>"),r+="</table>"}var r=Class.extend({init:function(n,r,s){this._element=r,this._attrs=s,n.position=n.position||"top",this.position=i(n.position),n.iconPosition=this.position.icon,n.labelPosition=this.position.label,this._scope=n;var a=o(this.position,this._scope),l=angular.element(a);t(l)(this._scope),setImmediate(function(){var t=angular.element(l[0].querySelector("img.icon-img"));this._attrs.hyaImgWidth&&this._attrs.hyaImgWidth.length>0&&t.css({width:this._attrs.hyaImgWidth,"max-width":this._attrs.hyaImgWidth}),this._attrs.hyaImgHeight&&this._attrs.hyaImgHeight.length>0&&t.css({height:this._attrs.hyaImgHeight,"max-height":this._attrs.hyaImgHeight})}.bind(this)),this._element.html(""),this._element.append(l);this._element.on("click",function(t){var n=function(){this.toggle()}.bind(this);e.$$phase?this._scope.$evalAsync(n):this._scope.$apply(n)}.bind(this)),this._scope.$on("$destroy",this._destroy.bind(this))},setActive:function(){this._element.addClass("active"),this._scope.activeIcon&&(this._scope.tabIcon=this._scope.activeIcon),this._scope.activeIconImg&&(this._scope.tabIconImg=this._scope.activeIconImg)},setInactive:function(){this._element.removeClass("active"),this._scope.tabIcon=this._scope.icon,this._scope.tabIconImg=this._scope.iconImg},isActive:function(){return this._element.hasClass("active")},toggle:function(){this.isActive()?this.setInactive():this.setActive()},destroy:function(){this._scope.$destroy()},_destroy:function(){this._scope=this._attrs=this._element=null}});return MicroEvent.mixin(r),r}]),e.directive("hyImgBtn",t),t.$inject=["$onsen","$rootScope","HyImgBtnView"]}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyInput",["$timeout","HyInputView","$onsen",function(t,e,n){function i(t,e){return angular.isDefined(e.hyInput)?"":'<div style="position: relative;flex-shrink: 1;"><input type="{{type}}" placeholder="{{placeholder}}" class="hy-input-delete {{hyaInputClass}}" ng-model="value" /><i  ng-click="deleteText()"  class="hy-input-delete-icon {{hyaIcon}} {{hyaIconClass}} {{hyaIconShow}} "></i></div>'}return{restrict:"EA",template:i,scope:{value:"=hyValue",placeholder:"@placeholder",hyaInputClass:"@",hyaIcon:"@",type:"@",hyaIconClass:"@",hyaScrollHei:"@"},link:function(t,i,o){var r=new e(t,i,o);n.declareVarAttribute(o,r),i.data("hy-input",r),t.$on("destory",function(){r._events=void 0,n.removeModifierMethods(r),i.data("hy-input",void 0),i=null}),n.fireComponentEvent(i[0],"init")}}}]),t.factory("HyInputView",["$onsen","$q","$timeout",function(t,e,n){var i=Class.extend({init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n,this.timer,this._scope.placeholder=this._scope.placeholder||"",this._scope.hyaIcon=this._scope.hyaIcon||"ion-close-circled",this._scope.type=this._scope.type||"text",this._scope.deleteText=angular.bind(this,this._deleteText),this.pickerDiv=angular.element(this._element[0].querySelector(".hy-input-delete"));var i=this;this._scope.$watch("value",function(){null!==i._scope.value&&void 0!==i._scope.value&&""!==i._scope.value?i._scope.hyaIconShow="hy-input-delete-icon-show":i._scope.hyaIconShow=""});var i=this;this.ewHei=10,this._scope.hyaScrollHei&&(this.ewHei=parseInt(this._scope.hyaScrollHei)),angular.isDefined(this._attrs.hyInput)?this._element.bind("click",function(){i._scrollStart(i._element)}):this.pickerDiv.bind("click",function(){i._scrollStart(i.pickerDiv)})},_deleteText:function(){this._scope.value="",this._scope.hyaIconShow=""},_scrollStart:function(t){this.timer&&n.cancel(this.timer);var e=this;this.element=t,this.timer=n(function(){var t=e._findScrollContent(e.element),i=e._getNeedScroll(t,e.element[0]);if(!1===i)return void(e.timer&&n.cancel(e.timer));t.scrollTop=i},300)},_getNeedScroll:function(t,e){var n=e.getBoundingClientRect().top+this.ewHei,i=e.offsetHeight,o=t.getBoundingClientRect().top,r=t.offsetHeight,s=t.scrollTop;return n<o?s+n-o:n+i>r+o&&s+n+i-r-o},_findScrollContent:function(t){for(var e=t[0];e.parentNode&&(e=e.parentNode,!("hidden"!=e.style.overflow&&"no"!=e.scroll&&e.scrollHeight>e.offsetHeight))&&!(e.className&&e.className.split(/\s+/).indexOf("page__content")>=0););return e}});return MicroEvent.mixin(i),i}])}(),function(){"use strict";function t(){var t=Class.extend({init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n,this._scope.placeholder=this._scope.placeholder||"",this._scope.readonly=this._attrs.hasOwnProperty("readonly"),this._scope.hyaIconClass?this._scope.hyaIcon="":this._scope.hyaIcon=this._scope.hyaIcon||"ion-close-circled",this._scope.type=this._scope.type||"text",this._scope.hyChange=this._scope.hyChange||angular.noop(),this._scope.isForce=!1,this._scope.clearHyInputText=angular.bind(this,this._clearText),this._scope.initIconShow=angular.bind(this,this._initIconShow),this._scope.hideIcon=angular.bind(this,this._hideIcon),this._scope.setForce=angular.bind(this,this._setForce),this._scope.setBlur=angular.bind(this,this._setBlur),this._scope.$watch("value",this._initIconShow.bind(this))},_initIconShow:function(){!this.readonly&&this._scope.isForce&&null!==this._scope.value&&void 0!==this._scope.value&&""!==this._scope.value?this._scope.hyaIconShow="show":this._scope.hyaIconShow=""},_setForce:function(){this._scope.readonly||(this._scope.isForce=!0,this._initIconShow())},_setBlur:function(){this._scope.isForce=!1,this._scope.hyaIconShow="",this._scope.hyBlur&&this._scope.hyBlur.call(this)},_hideIcon:function(){this._scope.hyaIconShow=""},_clearText:function(){this._scope.value="",this._scope.hyaIconShow="",this._scope.$evalAsync()}});return MicroEvent.mixin(t),t}function e(t,e){function n(t,e){return'<div class="hy-input-clear-content"><input ng-readonly="readonly" type="{{type}}" class="hy-input-clear" pattern="{{pattern}}" ng-focus="setForce()" ng-change="hyChange()" ng-blur="setBlur()" placeholder="{{placeholder}}" ng-model="value"/><div  ng-click="clearHyInputText()"  class="hy-input-clear-icon {{hyaIcon}} {{hyaIconClass}} {{hyaIconShow}} "></div></div>'}return{restrict:"E",template:n,replace:!0,scope:{value:"=hyValue",type:"@type",placeholder:"@placeholder",hyaIconClass:"@",hyChange:"&",hyBlur:"&",pattern:"@pattern"},compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-input-clear",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-input-clear",void 0),i=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}e.$inject=["$onsen","$hyInputClearView"];var n=null;try{n=angular.module("haiyiMobile")}catch(t){n=angular.module("haiyiMobile",["onsen"])}n.factory("$hyInputClearView",t).directive("hyInputClear",e)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("LoadModal",["$onsen","$timeout",function(t,e){var n=Class.extend({init:function(t,e,n){this._scope=t,this._element=e,this._attrs=n,this._visible=!0,this._modal=angular.element(e[0].querySelector(".Modal")),this._modalContent=angular.element(e[0].querySelector(".ModalContent")),this._scope.$on("$destroy",this._destroy.bind(this))},show:function(t){this._desTime&&e.cancel(this._desTime),this._modal.css("height","24px"),this._modal.css("display","block"),this._modalContent.css("height","20px"),this._visible=!0,this._time=t||1e3;var n=this;this._desTime=e(function(){n._modal.css("height","0"),n._modalContent.css("height","0"),n._visible=!1,this._desTime&&e.cancel(this._desTime)}.bind(this),n._time)},hide:function(){this._modal.css("height","0"),this._modalContent.css("height","0"),this._visible=!1},toggle:function(){return this._visible?this.hide().apply(this,arguments):this.show.apply(this,arguments)},_destroy:function(){this.emit("destroy"),this._element.remove(),this._scope=this._attrs=this._element=this._modal=null}});return MicroEvent.mixin(n),n}]),t.directive("hyLoadModal",["$onsen","LoadModal",function(t,e){return{restrict:"E",scope:{hyaContentShow:"@",hyaWidth:"@",hyaColor:"@",hyaLocation:"@"},template:'<div class="Modal" style="width:{{hyaWidth}};left:{{left}};background-color: {{hyaColor}};position: {{position}};bottom: {{bottom}}">\t\t\t\t\t\t <div class = "ModalContent">{{hyaContentShow}}</div>\t\t\t\t\t  </div>',compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),t.registerEventHandlers(r,"destroy"),i.data("hy-load-modal",r),n.$on("$destroy",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-load-modal",void 0),i=null}),n.left=(parseInt(100)-parseInt(n.hyaWidth))/parseInt(2)+"%","bottom"==n.hyaLocation?(n.position="absolute",n.bottom="0"):n.position="absolute"},post:function(t,e,n){}}}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("HyGeolocationView",["$onsen",function(t){var e=Class.extend({init:function(t,e,n){this.type=0,this._success=t,this._error=e,this._options=n||{enableHighAccuracy:!0,timeout:6e4},this._geolocation,navigator&&navigator.geolocation&&(this._geolocation=navigator.geolocation)},location:function(t,e,n){if(t=t||this._success,e=e||this._error,n=n||this._options,!this._geolocation)return void(e&&e({message:""}));navigator.geolocation.getCurrentPosition(t,e,n)}});return MicroEvent.mixin(e),e}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("HyMapView",["$onsen","HyGeolocationView",function(t,e){var n=Class.extend({_baiduAk:null,_defaultOptions:{location:{latitude:116.404,longitude:39.915},level:15},_defaultControls:[{name:"MapTypeControl",options:null},{name:"ScaleControl",options:null},{name:"NavigationControl",options:null},{name:"GeolocationControl",options:null}],init:function(t,e,n){if(this._element=e,this._attrs=n,this._scope=t,this._scope._haiyiMap=this._getBaiduBMap(),this._scope._haiyiMap){this._selfControls=[],this.setMapCenter=this._setMapCenter,this.getDistance=this._getDistance,this.addMarkerPoint=function(t,e,n){var i=this._scope._haiyiMap;if(this.map){n=this._translateOptions(i,n);var o=this._createMarkerPoint(t,e,n);return this.map.addOverlay(o),o}}.bind(this),this.addMarkerCircle=function(t,e,n){var i=this._scope._haiyiMap;if(this.map){t instanceof i.Point||(t=new i.Point(t.lng,t.lat)),n=this._translateOptions(i,n);var o=this._createMarkerCircle(t,e,n);return this.map.addOverlay(o),o}}.bind(this),this.createMarkerPoint=this._createMarkerPoint,this.createMarkerCircle=this._createMarkerCircle,this.removeOverlay=function(t){this.map&&(t?this.map.removeOverlay(t):this.map.clearOverlays())},this.options={},this._attrs.hyaLevel&&parseInt(this._attrs.hyaLevel)>0&&(this.options.level=this._attrs.hyaLevel),this.options=angular.extend({},this._defaultOptions,this.options),this._scope.controls&&angular.isArray(this._scope.controls)||(this._scope.controls=this._defaultControls),this.geoSuccess=this._geoSuccess.bind(this),this.geoFail=this._geoFail.bind(this);var i=function(t){t&&(this.map=t,this._addControls(this._scope.controls),this.geolocationControl||(this.geolocationControl=this._createGeolocationControl(this.geoSuccess,this.geoFail)),this._scope.init({$event:this}))};this._createMap(this.options,i),this._scope.$on("$destroy",this._destroy.bind(this))}},_removeBaiduLogo:function(){var t=this._element[0].querySelectorAll(".anchorBL");if(t&&!(t.length<=0))for(var e=t.length-1;e>=0;e--){var n=t[e],i=n.querySelector("img");if(i&&"http://api0.map.bdimg.com/images/copyright_logo_hd.png"==i.src){angular.element(n).remove();break}}},_getBaiduBMap:function(){if(!window.BMap){window.__bMapInit=function(){this.init(this._scope,this._element,this._attrs)}.bind(this);var t=document.createElement("script"),e=this._attrs.hyaAk||this._baiduAk;return t.src="http://api.map.baidu.com/api?v=2.0&ak="+e+"&callback=__bMapInit",document.body.appendChild(t),null}return window.BMap},_createMap:function(t,e){if(!this._scope._haiyiMap)return null;var n=this._scope._haiyiMap,i=new n.Map(this._element[0]),o=function(n){"point"==n.type?i.centerAndZoom(n.point,t.level):i.centerAndZoom(n.city,t.level),e&&angular.isFunction(e)&&e.call(this,i)}.bind(this);return this._initMapCenter(t,o),i},_initMapCenter:function(t,e){var n=this._scope._haiyiMap,i=this._attrs.hyaCenter,o={};if(o.type="point",o.latitude=t.location.latitude,o.longitude=t.location.longitude,!i)return o.point=new n.Point(o.latitude,o.longitude),e&&angular.isFunction(e)&&e.call(this,o),o;i="string"==typeof i?i.trim():i;var r=i.split(",");if(!r||2!=r.length||isNaN(parseFloat(r[0]))||isNaN(parseFloat(r[1])))return o.type="city",o.city=i,e&&angular.isFunction(e)&&e.call(this,o),o;o.type="point",o.latitude=parseFloat(r[0]),o.longitude=parseFloat(r[1]),o.point=new n.Point(o.latitude,o.longitude);var s=this._attrs.hyaCenterType||5;return 5==s&&e&&angular.isFunction(e)?(e.call(this,o),o):e&&angular.isFunction(e)?(this._translateLocation(o.point,function(i,r){o.point=0===r?i:new n.Point(t.location.latitude,t.location.longitude),e.call(this,o)}.bind(this),s,5),o):o},_translateOptions:function(t,e){if(!e)return e;if(angular.isFunction(e))return e=e.call(this),this._translateOptions(e);if(e.offset&&(e.offset=new t.Size(e.offset.h||18,e.offset.v||18)),e.icon){var n=null;e.icon.opts&&(n=this._translateOptions(t,e.icon.opts)),e.icon=new t.Icon(e.icon.src,new t.Size(e.icon.w||14,e.icon.h||14),n)}return e.locationIcon&&(e.locationIcon=new t.Icon(e.locationIcon.src,new t.Size(e.locationIcon.w||14,e.locationIcon.h||14))),e.shadow&&(e.shadow=new t.Icon(e.shadow.src,new t.Size(e.shadow.w||14,e.shadow.h||14))),e.anchor&&angular.isObject(e.anchor)&&(e.anchor=new t.Size(e.anchor.w||0,e.anchor.h||0)),e.imageOffset&&angular.isObject(e.imageOffset)&&(e.imageOffset=new t.Size(e.imageOffset.w,e.imageOffset.h)),e},_geoSuccess:function(t){var e={};e.lng=t.coords.longitude,e.lat=t.coords.latitude;var n=this;this._translateLocation(e,function(t,e){var i={};i.point=t,i.state=e,i.addressComponent={},n._autoGeo&&(n._setMapCenter(this.map,t),n._autoGeo=!1),n._scope.geolocation.call(n,{$event:i,$map:n})},1,5)},_geoFail:function(t){t.point=null,this._scope.geolocation.call(this,{$event:t,$map:this})},_createGeolocationControl:function(t,n,i){return this._scope._haiyiMap?new e(t,n):null},_createMapTypeControl:function(t){return this._scope._haiyiMap?(t=t||{anchor:BMAP_ANCHOR_TOP_RIGHT,mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP]},new this._scope._haiyiMap.MapTypeControl(t)):null},_createScaleControl:function(t){if(!this._scope._haiyiMap)return null;var e=this._scope._haiyiMap;return t=t||{anchor:BMAP_ANCHOR_BOTTOM_LEFT},new e.ScaleControl(t)},_createNavigation:function(t){if(!this._scope._haiyiMap)return null;var e=this._scope._haiyiMap;return t=t||{anchor:BMAP_ANCHOR_BOTTOM_RIGHT,type:BMAP_NAVIGATION_CONTROL_ZOOM},new e.NavigationControl(t)},_setMapCenter:function(t,e){if(t&&e)return void t.panTo(e);this.geolocationControl&&(this._autoGeo=!0,this.geolocationControl.location())},_createMarkerPoint:function(t,e,n){return this._scope._haiyiMap?new this._scope._haiyiMap.Marker(new BMap.Point(t,e),n):null},_createMarkerPolyline:function(t,e){return this._scope._haiyiMap?new this._scope._haiyiMap.Polyline(t,e):null},_createMarkerCircle:function(t,e,n){return this._scope._haiyiMap?new this._scope._haiyiMap.Circle(t,e,n):null},translateLocation:function(t,e,n,i){this._translateLocation(t,e,n,i)},_translateLocation:function(t,e,n,i){if(t&&this._scope._haiyiMap){var o=this._scope._haiyiMap,r=angular.isArray(t);if(!r){var s=t;t=[],t.push(s)}for(var a in t)t[a]instanceof o.Point||(t[a]=new o.Point(t[a].lng,t[a].lat));n=n||1,i=i||5;var l=function(t){if(e&&angular.isFunction(e)){var n=null;0===t.status&&(n=r?t.points:t.points[0]),e.call(this,n,t.status)}};n==i&&l.call(this,{points:t,status:1});(new o.Convertor).translate(t,n,i,l)}},_getLocation:function(t,e){this._getLocationByHtml5(t,e)},_getLocationByHtml5:function(t,e,n){navigator&&navigator.geolocation&&(n=n||{enableHighAcuracy:!0,timeout:5e3,maximumAge:3e3},navigator.geolocation.getCurrentPosition(function(e){var n={latitude:e.coords.latitude,longitude:e.coords.longitude};t&&angular.isFunction(t)&&t.call(this,n)},function(t){e&&angular.isFunction(e)&&e.call(this,t)},n))},_isSelfControl:function(t,e){return!!t&&!t[e]},_addControls:function(t){var e=this._scope._haiyiMap;if(this.map&&e)for(var n=t.length-1;n>=0;n--){var i=t[n],o=this._createSelfControl(e,i);o&&this.map.addControl(o)}},_createControlByName:function(t,e,n){if(!t)return null;if(n=this._translateOptions(t,n),"GeolocationControl"==e){var i=this._createGeolocationControl(this.geoSuccess,this.geoFail,n);return this.geolocationControl=i,i}var o=this["_create"+e];return o&&angular.isFunction(o)?o.call(this,n):(o=t[e],o?new o(n):void 0)},_addSelfControl:function(t){var e=this._scope._haiyiMap;if(this.map&&e){var n=this._createSelfControl(e,t);n&&this.map.addControl(n)}},_createSelfControl:function(t,e){if(!(t=t||this._scope._haiyiMap)||!e||!e.name)return null;var n=e.name;if(!this._isSelfControl(t,n))return this._createControlByName(t,n,e.options);t[n]=function(){this.defaultAnchor=e.anchor,this.defaultOffset=new t.Size(e.offset.h||0,e.offset.v||0)},t[n].prototype=new t.Control;var i=this;return t[n].prototype.initialize=function(t){var n=e.initialize.call(i,t);return t.getContainer().appendChild(n),n},this._selfControls.push(n),new t[n]},_getDistance:function(t,e){var n=this._scope._haiyiMap;return n?(t instanceof n.Point||(t=new n.Point(t.lng,t.lat)),e instanceof n.Point||(e=new n.Point(e.lng,e.lat)),this.map.getDistance(t,e).toFixed(2)):0},getMapPoint:function(t){var e=this._scope._haiyiMap;return e&&t?(t instanceof e.Point||(t=new e.Point(t.lng,t.lat)),t):null},destroy:function(){this._scope.$destroy()},_destroy:function(){var t=this._scope._haiyiMap;if(t){for(var e=this._selfControls.length-1;e>=0;e--){var n=this._selfControls[e];t[n]&&(t[n]=null)}t=this._scope._haiyiMap=null}this._scope=this._attrs=this._element=this.map=this.geolocationControl=null}});return MicroEvent.mixin(n),n}]),t.directive("hyMap",["HyMapView","$onsen",function(t,e){return{restrict:"EA",scope:{controls:"=hyaControls",geolocation:"&hyaGeolocation",init:"&hyaInit"},compile:function(n,i){return n.addClass("hyc-map"),function(n,i,o){var r=new t(n,i,o);e.declareVarAttribute(o,r)}}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.run(["$templateCache",function(t){t.put("templates/hy_multi_drop_list_dialog.tpl",'<ons-dialog cancelable class="hy-multi-drop-dialog">                <div class="hy-multi-drop-dialog-title">                    <div class="hy-multi-drop-search-content hy-layout-row hy-layout-align-start-center">                         <div class="hy-layout-row hy-layout-align-center-center" style="width:50px;height:30px">                             <ons-icon icon="search" size="20px" class="hy-multi-drop-search-icon"></ons-icon>                         </div>                         <hy-input-clear  type="text" placeholder="" hy-value="search_text" class="tf-input-clear"></hy-input-clear>                     </div>                </div>                <div class="hy-multi-drop-dialog-content">                <ons-list class="hy-multi-drop-ons-list">                         <ons-list-item class="hy-multi-drop-item" ng-repeat="item in items | hyListFilter : search_text : [\'title\']" ng-class="{active:$index==selectedIndex}">                             <hy-checkbox class="hy-multi-drop-checkbox" ng-checked="exists(item)" ng-click="toggle(item)">{{ item.title }} </hy-checkbox>                        </ons-list-item>                     </ons-list>                </div>                <div class="hy-multi-drop-dialog-bottom">                    <div class="hy-layout-row hy-layout-align-start-center" style="width:100%;height:100%">                          <div class="hy-multi-drop-bottom-button border-right" ng-click="selectedEmpty()"></div>                         <div class="hy-multi-drop-bottom-button" ng-click="selectedOk()"></div>                    </div>                </div>            </ons-dialog>')}]),t.directive("hyMultiDropList",["HyMultiDropListService","$onsen",function(t,e){return{restrict:"E",require:"?ngModel",scope:{items:"=",selectedFn:"&hyaSelected",hyaSeparator:"@"},replace:!0,template:'<div class="hy-layout-row hy-layout-align-space-between-center hy-multi-drop-list" ng-click="selectChange();"><div class="hy-multi-drop-list-title" ng-class="{\'hy-multi-drop-no-select\':selectedIndex<0}">{{placeholder}}</div><ons-icon ng-if="!hideArrow" icon="fa-angle-down" class="hy-multi-drop-list-arrow"></ons-icon></div>',compile:function(n,i){return function(n,i,o,r){var s=new t(n,i,o,r);e.declareVarAttribute(o,s),s.initVal(),n.$watch("items",function(t){s.itemsChange()})}}}}]),t.factory("HyMultiDropListService",["$onsen",function(t){var e=Class.extend({selectedIndex:-1,selectedItem:null,init:function(t,e,n,i){this._scope=t,this._element=e,this._attrs=n,this._ctrl=i,this._scope.placeholder=this._attrs.placeholder||"------",this._scope.hideArrow=this._attrs.hyaHideArrow&&this._attrs.hyaHideArrow.length>0&&"false"!==this._attrs.hyaHideArrow,this._scope.selectedIndex=-1,this._scope.items||(this._scope.items=[]),this._scope.selectedList=[],this._scope.hyaSeparator=this._scope.hyaSeparator||",",this._scope.$on("$destroy",this._destroy.bind(this)),this._scope.showOptionTitle=this._showOptionTitle.bind(this),this._scope.selectChange=this.showDialog.bind(this),this._scope.exists=this._exists.bind(this),this._scope.toggle=this._toggle.bind(this),this._scope.selectedOk=this._selectedOk.bind(this),this._scope.selectedEmpty=this._selectedEmpty.bind(this),this.key=this._attrs.hyaValueKey||"id"},initVal:function(){void 0!==this._ctrl&&this._ctrl&&(this._ctrl.$render=function(){var t=this._ctrl.$viewValue;this._initSelectedList(t)}.bind(this))},_initSelectedList:function(t){this._scope.selectedList.length=0,t=t||"";for(var e=t.split(this._scope.hyaSeparator),n="",i=0;i<e.length;i++)for(var o=0;o<this._scope.items.length;o++)if(this._scope.items[o][this.key]===e[i]){this._scope.selectedList.push(this._scope.items[o]),n=n+this._scope.items[o].title+this._scope.hyaSeparator;break}""!==n&&(this._scope.placeholder=n.substring(0,n.length-1)),this._checkSelectList()},_checkSelectList:function(){this._scope.selectedList.length>0?this._scope.selectedIndex=1:this._scope.selectedIndex=-1},itemsChange:function(){if(void 0===this._ctrl||!this._ctrl)return void(this._scope.selectedList.length=0);var t=this._ctrl.$viewValue;this._initSelectedList(t)},_createDialog:function(){if(this._scope.dialog)return void this._setDialog(this._scope.dialog);var e=t.DIRECTIVE_TEMPLATE_URL+"/hy_multi_drop_list_dialog.tpl";ons.createDialog(e,{parentScope:this._scope}).then(function(t){this._setDialog(t)}.bind(this))},_selectedOk:function(){if(this._checkSelectList(),this._scope.selectedList.length<=0)return void(this._scope.placeholder=this._attrs.placeholder||"------");for(var t="",e="",n=0;n<this._scope.selectedList.length;n++)t=t+this._scope.selectedList[n].title+this._scope.hyaSeparator,e=e+this._scope.selectedList[n][this.key]+this._scope.hyaSeparator;t=t.substring(0,t.length-1),e=e.substring(0,e.length-1),this.closeDialog(),this._scope.placeholder=t,this._ctrl&&this._ctrl.$setViewValue(e),this._scope.selectedFn({$value:e,$item:this._scope.selectedList})},_selectedEmpty:function(){this._scope.selectedList.length=0,this._scope.placeholder=this._attrs.placeholder||"------",this._checkSelectList(),this.closeDialog(),this._ctrl&&this._ctrl.$setViewValue(""),this._scope.selectedFn({$value:"",$item:this._scope.selectedList})},_setDialog:function(t){this._scope.dialog=t,this._scope.dialog._element.addClass("hy-multi-drop-list-dialog"),this._scope.dialog.show()},_showOptionTitle:function(t){if(!t)return this._scope.placeholder;if(angular.isObject(t)){return t[this._attrs.hyaTitleKey||"title"]}return t},closeDialog:function(){this._scope.dialog&&this._scope.dialog.hide()},showDialog:function(){this._attrs.hasOwnProperty("disabled")&&this._attrs.disabled||(this._scope.dialog?this._setDialog(this._scope.dialog):this._createDialog())},_exists:function(t){return this._scope.selectedList.indexOf(t)>-1},_toggle:function(t){var e=this._scope.selectedList.indexOf(t);e>-1?this._scope.selectedList.splice(e,1):this._scope.selectedList.push(t)},destroy:function(){this._scope.$destroy()},_destroy:function(){this._scope=void 0,this._element=void 0,this._attrs=void 0}});return MicroEvent.mixin(e),e}])}(),function(){"use strict";function t(){var t={},e=!1;this.setFilter=function(n){for(var i=0;i<n.length;i++)t[n[i].target]=n[i];n.length>0&&(e=!0)},
this.$get=function(){return{getFilter:function(){return t},isFilter:function(){return e}}}}function e(t,e,n,i,r,s,a,l,c,u,h,d,p,f,m,g){var _=Class.extend({_element:void 0,_attrs:void 0,pages:void 0,_scope:void 0,_doorLock:void 0,_profiling:!1,init:function(t,e,n){this._element=e||angular.element(window.document.body),this._scope=t||this._element.scope(),this._attrs=n,this._doorLock=new DoorLock,this.pages=[],this._isPopping=this._isPushing=!1,this._deviceBackButtonHandler=r.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this)),this._scope.$on("$destroy",this._destroy.bind(this))},_destroy:function(){this.emit("destroy"),this.pages.forEach(function(t){t.destroy()}),this._deviceBackButtonHandler.destroy(),this._deviceBackButtonHandler=null,this._element=this._scope=this._attrs=null},_onDeviceBackButton:function(t){this.pages.length>1?this._scope.$evalAsync(this.popPage.bind(this)):t.callParentHandler()},_normalizePageElement:function(t){for(var e=0;e<t.length;e++)if(1===t[e].nodeType)return angular.element(t[e]);throw new Error("invalid state")},_createPageElementAndLinkFunction:function(t,e,n){function o(t){var e=t.$root.$$phase;"$apply"!==e&&"$digest"!==e&&t.$apply()}var r=document.createElement("div");r.innerHTML=t.trim();var s=angular.element(r);if(1!==r.childElementCount||"ons-page"!==r.childNodes[0].nodeName.toLowerCase())throw new Error('You can not supply no "ons-page" element to "ons-navigator".');s=angular.element(r.childNodes[0]);var a=i(s);return{element:s,link:function(){a(e),o(e)}}},insertPage:function(t,e,n){if((n=n||{})&&"object"!=typeof n)throw new Error("options must be an object. You supplied "+n);if(t===this.pages.length)return this.pushPage.apply(this,[].slice.call(arguments,1));this._doorLock.waitUnlock(function(){var o=this._doorLock.lock();r.getPageHTMLAsync(e).then(function(r){var s=this._createPageScope(),a=this._createPageElementAndLinkFunction(r,s),l=a.element,c=a.link;l=this._normalizePageElement(l);var u=this._createPageObject(e,l,s,n);this.pages.length>0?(t=i(t),this._element[0].insertBefore(l[0],this.pages[t]?this.pages[t].element[0]:null),this.pages.splice(t,0,u),c(),setTimeout(function(){this.getCurrentPage()!==u&&l.css("display","none"),o(),l=null}.bind(this),1e3/60)):(this._element.append(l),this.pages.push(u),c(),o(),l=null)}.bind(this),function(){throw o(),new Error("Page is not found: "+e)})}.bind(this));var i=function(t){return t<0&&(t=this.pages.length+t),t}.bind(this)},pushPage:function(t,e,n){var i={responseType:"json",cache:!1};if(p.isFilter()&&!n){var o=p.getFilter(),r=o[t];if(r&&r.target&&"push"==r.type){if(f.getUserInfo()){if(e.cancelIfRunning&&this._isPushing)return;return this._isPushing=!0,i.headers=f.getLoginArgs(),void m.post("userInfo",i).success(function(n,i,o,s){var a=n.code;this._isPushing=!1,0==a&&n.content?(f.saveUserInfo(n.content),this.pushPage(t,e,!0)):f.show({targetUrl:t,hideMode:"other",callback:function(){if(r.callback)return void r.callback.call(this,this._scope,t,e);r.toTarget&&this.replacePage(t,e,!0)}.bind(this)})}.bind(this)).error(function(){this._isPushing=!1,hyMui.toast({message:"",duration:3e3,position:"bottom",addPixelsY:-60})}.bind(this))}return void f.show({targetUrl:t,hideMode:"other",callback:function(){if(r.callback)return void r.callback.call(this,this._scope,t,e);r.toTarget&&this.replacePage(t,e,!0)}.bind(this)})}}if(this._profiling&&console.time("pushPage"),e=e||{},!e.cancelIfRunning||!this._isPushing){if(e&&"object"!=typeof e)throw new Error("options must be an object. You supplied "+e);this._emitPrePushEvent()||(this._isPushing=!0,this._doorLock.waitUnlock(function(){this._pushPage(t,e)}.bind(this)))}},_pushPage:function(t,e){var n=this._doorLock.lock(),i=function(){this._isPushing=!1,n(),this._profiling&&console.timeEnd("pushPage")}.bind(this);r.getPageHTMLAsync(t).then(function(n){var o=this._createPageScope(),r=this._createPageElementAndLinkFunction(n,o);setImmediate(function(){this._pushPageDOM(t,r.element,r.link,o,e,i),r=null}.bind(this))}.bind(this),function(){throw i(),new Error("Page is not found: "+t)}.bind(this))},getDeviceBackButtonHandler:function(){return this._deviceBackButtonHandler},_getAnimatorOption:function(t,e){var n=null;if(t.animation instanceof l)return t.animation;if("string"==typeof t.animation&&(n=_._transitionAnimatorDict[t.animation]),!n&&this._element.attr("animation")&&(n=_._transitionAnimatorDict[this._element.attr("animation")]),n||(n=e||_._transitionAnimatorDict.default),!(n instanceof l))throw new Error('"animator" is not an instance of NavigatorTransitionAnimator.');return n},_createPageScope:function(){return this._scope.$new()},_createPageObject:function(t,e,n,i){return i.animator=this._getAnimatorOption(i),new o({page:t,element:e,pageScope:n,options:i,navigator:this})},_pushPageDOM:function(t,e,n,i,o,r){this._profiling&&console.time("pushPageDOM"),r=r||function(){},o=o||{},e=this._normalizePageElement(e);var s=this._createPageObject(t,e,i,o),a={enterPage:s,leavePage:this.pages[this.pages.length-1],navigator:this};this.pages.push(s);var l=function(){this.pages[this.pages.length-2]&&this.pages[this.pages.length-2].element.css("display","none"),this._profiling&&console.timeEnd("pushPageDOM"),this._isPushing=!1,r(),this.emit("postpush",a),"function"==typeof o.onTransitionEnd&&o.onTransitionEnd(),e=null}.bind(this);if(this._isPushing=!0,this.pages.length>1){var c=this.pages.slice(-2)[0],u=this.pages.slice(-1)[0];this._element.append(e),n(),o.animator.push(u,c,l),e=null}else this._element.append(e),n(),l(),e=null},_emitPrePushEvent:function(){var t=!1,e=this,n={navigator:this,currentPage:this.getCurrentPage(),cancel:function(){e._isPushing=!1,t=!0}};return this.emit("prepush",n),t},_emitPrePopEvent:function(){var t=!1,e=this.getCurrentPage(),n=this,i={navigator:this,currentPage:e,leavePage:e,enterPage:this.pages[this.pages.length-2],cancel:function(){n._isPopping=!1,t=!0}};return this.emit("prepop",i),t},popPage:function(t){t=t||{},t.cancelIfRunning&&this._isPopping||this._doorLock.waitUnlock(function(){if(this.pages.length<=1)throw new Error("NavigatorView's page stack is empty.");this._emitPrePopEvent()||(this._isPopping=!1,this._popPage(t))}.bind(this))},_popPage:function(t){var e=this._doorLock.lock(),n=this.pages.pop();this.pages[this.pages.length-1]&&this.pages[this.pages.length-1].element.css("display","block");var i=this.pages[this.pages.length-1],o={leavePage:n,enterPage:this.pages[this.pages.length-1],navigator:this},r=function(){n.destroy(),this._isPopping=!1,e(),this.emit("postpop",o),o.leavePage=null,"function"==typeof t.onTransitionEnd&&t.onTransitionEnd()}.bind(this);this._isPopping=!0,this._getAnimatorOption(t,n.options.animator).pop(i,n,r)},removePage:function(t,e){if(e=e||{},t<0&&(t=this.pages.length+t),!(t<this.pages.length-1))return this.popPage(e);var n=this.pages[t],i=this.pages[this.pages.length-1];this.pages.splice(t,1),this.pages[this.pages.length-1]&&this.pages[this.pages.length-1].element.css("display","block");var o={leavePage:n,enterPage:i,navigator:this},r=function(){n.destroy(),this.emit("postpop",o),o.leavePage=null,"function"==typeof e.onTransitionEnd&&e.onTransitionEnd()}.bind(this);this._getAnimatorOption(e,_._transitionAnimatorDict.none).pop(i,n,r)},replacePage:function(t,e,n){e=e||{};var i=e.onTransitionEnd||function(){};e.onTransitionEnd=function(){this.pages.length>1&&this.pages[this.pages.length-2].destroy(),i()}.bind(this),this.pushPage(t,e,n)},resetToPage:function(t,e){e=e||{},e.animator||e.animation||(e.animation="none");var n=e.onTransitionEnd||function(){},i=this;e.onTransitionEnd=function(){for(;i.pages.length>1;)i.pages.shift().destroy();n()},this.pushPage(t,e)},getCurrentPage:function(){return this.pages[this.pages.length-1]},getPages:function(){return this.pages},canPopPage:function(){return this.pages.length>1}});return _._transitionAnimatorDict={default:r.isAndroid()?new a:new h,slide:r.isAndroid()?new a:new h,simpleslide:new a,lift:new c,fade:new d,none:new u},_.registerTransitionAnimator=function(t,e){if(!(e instanceof l))throw new Error('"animator" param must be an instance of NavigatorTransitionAnimator');this._transitionAnimatorDict[t]=e},MicroEvent.mixin(_),_}function n(t,e,n){return{restrict:"E",transclude:!1,scope:!0,compile:function(i){var o=n.normalizePageHTML(i.html());return i.contents().remove(),{pre:function(i,r,s,a){var l=new e(i,r,s);if(n.declareVarAttribute(s,l),n.registerEventHandlers(l,"prepush prepop postpush postpop destroy"),s.page)l.pushPage(s.page,{});else{var c=l._createPageScope(),u=angular.element(o),h=t(u),d=function(){h(c)};l._pushPageDOM("",u,d,c,{}),u=null}r.data("hy-navi",l),r.data("_scope",i),i.$on("$destroy",function(){r.data("_scope",void 0),l._events=void 0,r.data("hy-navi",void 0),r=null})},post:function(t,e,i){n.fireComponentEvent(e[0],"init")}}}}}e.$inject=["$http","$parse","$templateCache","$compile","$onsen","$timeout","SimpleSlideTransitionAnimator","NavigatorTransitionAnimator","LiftTransitionAnimator","NullTransitionAnimator","IOSSlideTransitionAnimator","FadeTransitionAnimator","$hyLoginFilter","$loginService","$hyHttp","$hyUtil"],n.$inject=["$compile","$hyNavigatorView","$onsen"];var i=null;try{i=angular.module("haiyiMobile")}catch(t){i=angular.module("haiyiMobile",["onsen"])}var o=Class.extend({init:function(t){this.page=t.page,this.name=t.page,this.element=t.element,this.pageScope=t.pageScope,this.options=t.options,this.navigator=t.navigator,this._blockEvents=function(t){(this.navigator._isPopping||this.navigator._isPushing)&&(t.preventDefault(),t.stopPropagation())}.bind(this),this.element.on(this._pointerEvents,this._blockEvents)},_pointerEvents:"touchmove",getPageView:function(){if(!this._pageView&&(this._pageView=this.element.inheritedData("ons-page"),!this._pageView))throw new Error("Fail to fetch PageView from ons-page element.");return this._pageView},destroy:function(){this.pageScope.$destroy(),this.element.off(this._pointerEvents,this._blockEvents),this.element.remove(),this.element=null,this._pageView=null,this.pageScope=null,this.options=null;var t=this.navigator.pages.indexOf(this);-1!==t&&this.navigator.pages.splice(t,1),this.navigator=null}});i.factory("$hyNavigatorView",e).provider("$hyLoginFilter",t).directive("hyNavi",n)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("NineGridView",["$onsen",function(t){var e=Class.extend({init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n;var i=this;this._scope.hyaNumOfRows=this._scope.hyaNumOfRows?this._scope.hyaNumOfRows:3,this._scope.hyaRowHeight=this._scope.hyaRowHeight?this._scope.hyaRowHeight:80,this.hyGridPane=angular.element(this._element[0].querySelector(".hy-grid-pane")),this._scope.$watch("hyaImages",function(){i._initImageList(),i._initGridSize()}),this._element[0].hasAttribute("hasborder")&&(this._scope.rowBorder="hy-grid-row-border",this._scope.colBorder="hy-grid-col-border"),this._scope.selectMenu=angular.bind(this,this._selectMenu),this._bindresizeGrid=angular.bind(this,this._resizeGrid),angular.element(window).on("resize",this._bindresizeGrid)},_initImageList:function(){if(this._scope.hyaImages&&this._scope.hyaImages.length>0){this.rows=this._scope.hyaImages.length/this._scope.hyaNumOfRows,this._scope.hyaImages.length%this._scope.hyaNumOfRows!=0&&(this.rows=parseInt(this._scope.hyaImages.length/this._scope.hyaNumOfRows)+1),this._scope.rowItems=[];for(var t=0,e=0;e<this.rows;e++){for(var n=new Array,i=0;i<this._scope.hyaNumOfRows;i++){t=this._scope.hyaNumOfRows*e+i;var o={};if(t<this._scope.hyaImages.length){for(var r in this._scope.hyaImages[t])o[r]=this._scope.hyaImages[t][r];o.hyFlag=!0}else o.hyFlag=!1;n.push(o)}this._scope.rowItems.push(n)}}},_initGridSize:function(){this._scope.colWidth=100/this._scope.hyaNumOfRows+"%",0!=this.hyGridPane[0].scrollWidth&&(this.colWidth_t=this.hyGridPane[0].scrollWidth/this._scope.hyaNumOfRows,this.colHeight_t=this._scope.hyaRowHeight-35,this._scope.imgWidth=Math.min(this.colHeight_t,this.colWidth_t)-5,this._scope.imgStyle="width:"+this._scope.imgWidth+"px;height:"+this._scope.imgWidth+"px;")},_resizeGrid:function(){this._initGridSize(),this._scope.$apply()},_selectMenu:function(t){t.hyFlag&&this._scope.hyaImageClick&&this._scope.hyaImageClick({item:t})}});return MicroEvent.mixin(e),e}]),t.directive("hyNineGrids",["$onsen","NineGridView",function(t,e){function n(t,e){return'<div class="hy-grid-pane"><div class="hy-grid-row {{rowBorder}}" style="height:{{hyaRowHeight}}px" ng-repeat="rows in rowItems"><div class="hy-grid-col {{colBorder}}" style="width:{{colWidth}}" hy-active="{{col.hyFlag}}" ng-click="selectMenu(col)" ng-repeat="col in rows"><div ng-if="col.hyFlag" class="hy-grid-col-top"><img class="hy-grid-img {{hyaGridImgClass}}" style="{{imgStyle}}" ng-src="{{col.imgSrc}}" /></div><div ng-if="col.hyFlag" class="hy-grid-col-bottom"><span class="hy-grid-text {{hyaGridTextClass}}">{{col.menuName}}</span></div></div></div></div>'}return{restrict:"E",scope:{hyaNumOfRows:"@",hyaImages:"=",hyaGridTextClass:"@",hyaGridImgClass:"@",hyaImageClick:"&",hyaHasBorder:"@",hyaRowHeight:"@"},template:n,compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(r),i.data("hy-nine-grid",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-nine-grid",void 0),i=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyNoSelector",function(){return{restrict:"E",scope:{hyaNumSeparatorLen:"@",hyaNumSeparator:"@",hyaNumMax:"@",hyaNumMin:"@",hyaNumInputWidth:"@",hyaNumAlignType:"@",hyaNumStep:"@",hyaNumInputHeight:"@",hyaNumStyle:"@",hyaNumValue:"="},template:"<div class='button-bar haiyi-numselector' style ='floatleft;'><div  class='button-bar button-bar__item {{hyaNumStyle}}'  ><div class='button-bar__item'><button class='button-bar__button' ng-click = 'sub()'><i class='ion-minus-round'></i>-</button></div></div><div  class='button-bar button-bar__item {{hyaNumStyle}}'  ><div class='button-bar__item'><button class='button-bar__button' ng-click = 'sub()'><i class='ion-minus-round'></i></button></div><div class='button-bar__item '><button class='button-bar__button' ng-click = 'add()'><i class='ion-plus-round'></i></button></div> </div><div  button-bar__item><input type='text'  class='text-input text-input--underbar' style='width:{{hyaNumInputWidth}};height:{{ hyaNumInputHeight}}'   ng-model='hyaNumValue'/></div><div  class='button-bar button-bar__item {{hyaNumStyle}}'  ><div class='button-bar__item'><button class='button-bar__button' ng-click = 'add()'><i class='ion-plus-round'></i></button></div></div><div  class='button-bar button-bar__item {{hyaNumStyle}} ' ><div class='button-bar__item '><button class='button-bar__button' ng-click = 'add()'><i class='ion-plus-round'></i></button></div><div class='button-bar__item ' ><button class='button-bar__button' ng-click = 'sub()'><i class='ion-minus-round'></i></button></div> </div></div>",link:function(t,e,n){function i(e){var n=e+"";if(t.hyaNumSeparator&&n.length>parseFloat(t.hyaNumSeparatorLen)){var i="",o=n,r="";-1!=n.lastIndexOf(".")&&(r=n.substring(n.lastIndexOf("."),n.length),o=n.substring(0,n.lastIndexOf(".")));var s=o.length%t.hyaNumSeparatorLen,a=Math.ceil(o.length/t.hyaNumSeparatorLen);if(0==s)for(var l=0;l<a;l++)i=i+o.substr(l*t.hyaNumSeparatorLen,t.hyaNumSeparatorLen)+t.hyaNumSeparator;else for(var l=0;l<a;l++)i=0==l?i+o.substr(l,s)+t.hyaNumSeparator:i+o.substr((l-1)*t.hyaNumSeparatorLen+s,t.hyaNumSeparatorLen)+t.hyaNumSeparator;-1!=i.lastIndexOf(t.hyaNumSeparator)&&(i=i.substring(0,i.length-1)),t.hyaNumValue=i+r}}function o(t,e,n){return(t+"").replace(new RegExp(n,"gm"),e)}var r=/^-?\d+$/,s=/^-?\d+\.?\d*$/;t.hyaNumStep||(t.hyaNumStep=1),t.hyaNumValue||(t.hyaNumValue=1),t.hyaNumInputWidth||(t.hyaNumInputWidth="150px"),t.hyaNumMax||(t.hyaNumMax=100),t.hyaNumMin||(t.hyaNumMin=1),t.hyaNumSeparatorLen||(t.hyaNumSeparatorLen=3),t.hyaNumInputHeight||(t.hyaNumInputHeight="32px"),t.$watch("hyaNumValue",function(e,n){return t.hyaNumSeparator&&(e=o(e,"",t.hyaNumSeparator),n=o(n,"",t.hyaNumSeparator)),e&&parseFloat(e)>parseFloat(t.hyaNumMax)?(console.log(""+t.hyaNumMax+""),t.hyaNumValue=n,void i(n)):e&&parseFloat(e)<parseFloat(t.hyaNumMin)?(console.log(""+t.hyaNumMin),t.hyaNumValue=t.hyaNumMin,void i(n)):s.test(e)?void i(e):(t.hyaNumValue=n,void i(n))}),t.hyaNumAlignType&&"center"!=t.hyaNumAlignType?"left"==t.hyaNumAlignType?(angular.element(e.find("div")[1]).css("display","none"),angular.element(e.find("div")[7]).css("display","none"),angular.element(e.find("div")[9]).css("display","none")):"right"==t.hyaNumAlignType&&(angular.element(e.find("div")[1]).css("display","none"),angular.element(e.find("div")[3]).css("display","none"),angular.element(e.find("div")[7]).css("display","none")):(t.hyaNumAlignType="center",angular.element(e.find("div")[3]).css("display","none"),angular.element(e.find("div")[9]).css("display","none")),t.sub=function(){var e=o(t.hyaNumValue,"",t.hyaNumSeparator);if(t.hyaNumValue=parseFloat(e)-parseFloat(t.hyaNumStep),!r.test(t.hyaNumValue)){var n=t.hyaNumStep+"";if(-1!=n.indexOf(".")){var i=n.substring(n.indexOf(".")+1,n.length).length,s=t.hyaNumValue.toFixed(i),a=s+"";t.hyaNumValue=a.substr(0,parseInt(a.indexOf("."))+parseInt(i)+1)}}},t.add=function(){var e=o(t.hyaNumValue,"",t.hyaNumSeparator);if(t.hyaNumValue=parseFloat(e)+parseFloat(t.hyaNumStep),!r.test(t.hyaNumValue)){var n=t.hyaNumStep+"";if(-1!=n.indexOf(".")){var i=n.substring(n.indexOf(".")+1,n.length).length,s=t.hyaNumValue.toFixed(i),a=s+"";t.hyaNumValue=a.substr(0,parseInt(a.indexOf("."))+parseInt(i)+1)}}}}}})}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("HyPasswordView",["$onsen",function(t){var e=Class.extend({init:function(t,e,n,i){this._element=e,this._attrs=n,this._scope=t,this._controller=i,this._scope.plaintPassword=this.toggle.bind(this),this._scope.password_plaintext=this._attrs.hasOwnProperty("hyaPlaintext")&&this._attrs.hyaPlaintext,this._scope.password_value=this._attrs.hasOwnProperty("hyaValue")?this._attrs.hyaValue:"",this._scope.placeholder=this._attrs.hasOwnProperty("placeholder")?this._attrs.placeholder:"",this._setPassword(),this._element.append(this._createPassInput()),this._element.append(this._createPlainTextPassInput()),this._element.append(this._createPlainBtn()),this._element.append(this._createHidePassInput()),this._scope.$on("$destroy",this._destroy.bind(this))},_setPassword:function(){if(this._controller){var t=this._controller;this._scope.password_value&&0<this._scope.password_value.length?t.$setViewValue(this._scope.password_value):this._scope.password_value=t.$viewValue,this._setHidePasswordVal(this._scope.password_value),this._scope.$watch("password_value",function(e){this._setHidePasswordVal(e),e!=t.$viewValue&&t.$setViewValue(e)}.bind(this)),t.$render=function(){var e=t.$isEmpty(t.$viewValue)?"":t.$viewValue;this._scope.password_value=e}.bind(this)}},_isVaidClass:function(t){return/^ng-(dirty|valid|invalid)/i.test(t)},_setInputClass:function(){var t=this._element.attr("class");if(t){for(var e=t.split(/\s+/),n=e.length,i=[],o=0;o<n;o++){var r=e[o];this._isVaidClass(r)&&i.push(r)}var s=this._element[0].querySelector(".hyc-password-input"),a=this._element[0].querySelector(".hyc-password-plaint-input");s&&(s=angular.element(s),s.removeClass(),s.addClass("hyc-password-input"),s.addClass("text-input text-input--underbar"),s.addClass(i.join(" "))),a&&(a=angular.element(a),a.removeClass(),a.addClass("hyc-password-plaint-input"),a.addClass("text-input text-input--underbar"),a.addClass(i.join(" ")))}},_copyEleAttrs:function(t){var e=this._attrs;if(!t||!e)return t;for(var n in e.$attr)"type"!=n.toLowerCase()&&"hyPassword"!=n&&"ngModel"!=n&&"class"!=n.toLowerCase()&&"name"!=n.toLowerCase()&&"id"!=n.toLowerCase()&&t.attr(e.$attr[n],e[n]);return t},_createPassInput:function(){var t=this._scope,e=angular.element('<input type="password" ng-show="!password_plaintext" placeholder="{{placeholder}}" ng-model="password_value" class="hyc-password-input"/>');return e.addClass("text-input text-input--underbar"),ons.$compile(e)(t)},_createPlainTextPassInput:function(){var t=this._scope,e=angular.element('<input type="text" ng-show="password_plaintext" placeholder="{{placeholder}}" ng-model="password_value" class="hyc-password-plaint-input"/>');return e.addClass("text-input text-input--underbar"),ons.$compile(e)(t)},_createHidePassInput:function(){var t=this._scope,e=angular.element('<input type="text" ng-show="1==0" placeholder="{{placeholder}}" class="hyc-password-hide-input"/>');return this._attrs.name&&e.attr("name",this._attrs.name),ons.$compile(this._copyEleAttrs(e))(t)},_createPlainBtn:function(){var t=this._scope,e='<ons-icon icon="fa-eye-slash" ng-click="plaintPassword();" class="hyc-eye" ng-if="!password_plaintext"></ons-icon>';e+='<ons-icon icon="fa-eye" ng-click="plaintPassword();" class="hyc-eye active" ng-if="password_plaintext"></ons-icon>';var n=angular.element(e);return ons.$compile(n)(t)},_setHidePasswordVal:function(t){var e=this._element[0].querySelector(".hyc-password-hide-input");e&&(e=angular.element(e),e.val(t))},setActive:function(){this._scope.password_plaintext=!0},setInactive:function(){this._scope.password_plaintext=!1},isActive:function(){return this._scope.password_plaintext},toggle:function(){this.isActive()?this.setInactive():this.setActive()},destroy:function(){this._scope.$destroy()},_destroy:function(){this._scope=this._attrs=this._element=null}});return MicroEvent.mixin(e),e}]),t.directive("hyPassword",["HyPasswordView","$onsen",function(t,e){return{restrict:"E",scope:{},require:"?^ngModel",compile:function(n){return n.addClass("hyc-password"),function(n,i,o,r){var s=new t(n,i,o,r);e.declareVarAttribute(o,s)}}}}])}(),function(){"use strict";function t(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.factory("PositionListView",["$onsen",function(e){var n=Class.extend({init:function(t,e,n){this._element=e,this._attrs=n,this._scope=t,this._scope._otherDataKey="#",this._scope.itemTouch=function(t,e){this._itemTouch(t,e);var n=this._scope.$root.$$phase;"$apply"!==n&&"$digest"!==n?this._scope.$apply(function(){this._scope._activePosition=t}.bind(this)):this._scope._activePosition=t}.bind(this),this._scope.repeatList=this._scope.repeatList||[],this._scope.positionItems=this._scope.positionItems||[],this._element.addClass("haiyi-position-list slider"),this._scope.positionItems=this._getPositionItems(this._scope),this._scope._activePosition=this._scope.positionItems[0]||null,this._scope.positionList=this._getPositionList(this._scope);var i=this._createListItem();this._element.html(""),this._element.append(i),this._prepareListEventListeners(i[0]);var o=this._createPositionItem();this._prepareEventListeners(o[0]),this._element.append(o),this._scope.$on("$destroy",this._destroy.bind(this))},_initPositionHeader:function(t){return t?t.toUpperCase():null},_initPositionItems:function(t){for(var e=t.length,n=0;n<e;n++)t[n]=this._initPositionHeader(t[n]);return t},_getPositionItems:function(e){var n=e.key||"header";if(e.key=n,e.positionItems&&0<e.positionItems.length)return this._initPositionItems(e.positionItems);for(var i=[],o=e.repeatList.length,r=0;r<o;r++){var s=e.repeatList[r][n];s=this._initPositionHeader(s),s&&t(i,s)<0&&i.push(s)}return i},_getPositionList:function(e){for(var n=e.positionItems.sort(),i=e.key,o={},r=[],s=e.repeatList.length,a=0;a<s;a++){var l=e.repeatList[a][i];l=this._initPositionHeader(l),(!l||t(n,l)<0)&&(l=this._initPositionHeader(e._otherDataKey),t(n,l)<0&&n.push(l)),o[l]=o[l]||[],o[l].push(e.repeatList[a])}s=n.length;for(var a=0;a<s;a++){var c=n[a],u=o[c]||[];r.push({key:c,val:u})}return r},_itemTouch:function(t,e){var n=this._element[0].querySelector(".slider-content"),i=n.querySelector('[position-header="'+t+'"]');if(i){var o=i.offsetTop,r=n.offsetTop,s=o-r-0;this._scrollAnimate(n,{scroll:s,time:300})}},_scrollAnimate:function(t,e){function n(){var e=Math.max(0,a+l-s()),n=e/l||0,c=1-n,u=function(e){t.scrollTop=e},h=(o-i)*c+i;1===c?(u(h),function(){r&&(clearInterval(r),r=null)}()):u(h)}var i=t.scrollTop,o=e.scroll;if(i!=o){var r,s=function(){return+new Date},a=s(),l=e.time;r=setInterval(n,13)}},_createListItem:function(){var t=this._scope,e=t.hyaElementHtml||this._element.html();t.hyaElementHtml=e;var n='<div class="slider-content"><ons-list ng-repeat="header in positionList" class="list-content"   ng-class="{\'selected\':_activePosition==header.key,\'no-header\':hideHeader}"   position-header="{{header.key}}"><ons-list-header ng-bind="header.key" ng-click="itemTouch(header.key,$event)" ng-if="!hideHeader"></ons-list-header><div ng-repeat="item in header.val">'+e+"</div></ons-list></div>";return n=angular.element(n),ons.$compile(n)(t)},_createPositionItem:function(){var t=this._scope;if(t.positionItems.length<=0)return"";var e='<div class="slider-nav"><ul class="slider-nav-ul"><li class="slider-nav-li" ng-repeat="p in positionItems"    hy-touch="itemTouch(p,$event)"   position-key="{{p}}"   ng-class="{\'active\':_activePosition==p}"\t><a ng-bind="p"></a></li></ul></div>';return e=angular.element(e),ons.$compile(e)(t)},_getPositionHeight:function(){var t=this._element[0].clientHeight,e=this._scope.positionItems,n=e?e.length:0;return n<=0?t:(t-12)/n},_getPositionItemByTop:function(t){t=t||0;var e=this._element[0].querySelector(".slider-nav");if(!e)return null;for(var n=null,i=e.querySelector("ul").querySelectorAll("li.slider-nav-li"),o=0;o<i.length;o++){var r=i[o];if(r.offsetTop<=t&&t<r.offsetTop+r.offsetHeight){n=r;break}}return n},_prepareListEventListeners:function(t){(t=t||this._element[0].querySelector(".slider-content"))&&(this._bindOnScroll=this._onScroll.bind(this),angular.element(t).on("scroll",this._bindOnScroll))},_prepareEventListeners:function(t){(t=t||this._element[0].querySelector(".slider-nav"))&&(this._hammer=new Hammer(t),this._hammer.on("panstart",this._bindOnPanStart.bind(this)),this._hammer.on("pan panup pandown",this._bindOnPan.bind(this)),this._hammer.on("panend",this._bindOnPanEnd.bind(this)))},_bindOnPan:function(t){var e=this._getSliderOffsetTop(t),n=this._getPositionItemByTop(e);n=angular.element(n);var i=n.attr("position-key");i&&this._scope._activePosition!=i&&this._scope.itemTouch(i)},_bindOnPanStart:function(t){var e=angular.element(this._element[0].querySelector(".slider-nav"));e&&e.addClass("slider-nav-pan")},_bindOnPanEnd:function(t){var e=angular.element(this._element[0].querySelector(".slider-nav"));e&&e.removeClass("slider-nav-pan")},_getTouchEvents:function(){return["pan","panstart","panend","panup","pandown"].join(" ")},_getSliderOffsetTop:function(t){var e=this._element[0].querySelector(".slider-nav"),n=e.getBoundingClientRect().top;return t.center.y-n},_onScroll:function(t){var e=this._getScrollSliderKey(t.target);e&&this._scope._activePosition!=e&&(this._scope._activePosition=e,this._scope.$evalAsync())},_getScrollSliderKey:function(t){var e=null,n=t.querySelectorAll("[position-header]");if(!n||n.length<=0)return e;for(var i=t.scrollTop,o=t.offsetTop,r=n.length,s=0,a=0;a<r;a++){var l=n[a],c=l.offsetTop;if(!(c+25-o-i<0)){if(t.offsetHeight<c+25-o-i){s=a-1;break}s=a;break}}return s=s<0?0:r-1<s?r-1:s,e=angular.element(n[s]).attr("position-header")},refresh:function(){this.init(this._scope,this._element,this._attrs)},destroy:function(){this._scope.$destroy()},_destroy:function(){this._hammer&&this._hammer.off("pan panstart panup pandown panend"),this._scope=this._attrs=this._element=null}});return MicroEvent.mixin(n),n}]),e.directive("hyTouch",["$onsen",function(t){return{restrict:"EA",scope:{touch:"&hyTouch"},link:function(e,n,i){function o(t){t.target=n,e.touch({$event:t})}var r="tap".split(/ +/),s=new Hammer(n[0]);s.on(r.join(" "),o),t.cleaner.onDestroy(e,function(){s.off(r.join(" "),o),t.clearComponent({scope:e,element:n,attrs:i}),s.element=e=n=i=null})}}}]),e.directive("hyPositionList",["$onsen","PositionListView",function(t,e){return{restrict:"E",scope:{repeatList:"=hyaRepeatList",positionItems:"=hyaPositionItems",key:"@hyaHeaderKey",hideHeader:"@hyaHideHeader"},compile:function(){return function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),n.$watch("repeatList",function(){r.refresh()})}}}}])}(),function(){"use strict";function t(t,e,n){function i(i,r,h){function g(n,r,s,u,h){var d=++k,p=(new Date).getTime(),f=r-n,m=a(i.hyDiameter),g=m-l(m),_=s||e.easeFn,v=u||e.duration;r===n?S.attr("d",o(r,m,g,h)):b=c(function e(){var i=t.Math.max(0,t.Math.min((new Date).getTime()-p,v));S.attr("d",o(_(i,n,f,v),m,g,h)),d===k&&i<v&&(b=c(e))})}function _(){g(C,T,e.easeFnIndeterminate,e.durationIndeterminate,E),E=(E+T)%100;var t=C;C=-T,T=-t}function v(){w||(w=n(_,e.durationIndeterminate+50,0,!1),_(),r.addClass(m).removeAttr("aria-valuenow"))}function y(){w&&(n.cancel(w),w=null,r.removeClass(m))}var b,w,$=r[0],x=angular.element($.querySelector("svg")),S=angular.element($.querySelector("path")),C=e.startIndeterminate,T=e.endIndeterminate,E=0,k=0;r.toggleClass(f,h.hasOwnProperty("disabled")),i.hyMode===p&&v(),i.$on("$destroy",function(){y(),b&&u(b)}),i.$watchGroup(["value","hyMode",function(){var t=$.disabled;return!0===t||!1===t?t:angular.isDefined(r.attr("disabled"))}],function(t,e){var n=t[1],i=t[2];if(i!==e[2]&&r.toggleClass(f,!!i),i)y();else if(n!==d&&n!==p&&(n=p,h.$set("hyMode",n)),n===p)v();else{var o=s(t[0]);y(),r.attr("aria-valuenow",o),g(s(e[0]),o)}}),i.$watch("hyDiameter",function(t){var e=a(t),n=l(e),i=e/2+"px",o={width:e+"px",height:e+"px"};x[0].setAttribute("viewBox","0 0 "+e+" "+e),x.css(o).css("transform-origin",i+" "+i+" "+i),r.css(o),S.css("stroke-width",n+"px")})}function o(t,e,n,i){var o,s=i||0,a=e/2,l=n/2,c=3.5999*s,u=3.5999*t,h=r(a,l,c),d=r(a,l,u+c),p=u<0?0:1;return o=u<0?u>=-180?0:1:u<=180?0:1,"M"+h+"A"+l+","+l+" 0 "+o+","+p+" "+d}function r(e,n,i){var o=(i-90)*h;return e+n*t.Math.cos(o)+","+(e+n*t.Math.sin(o))}function s(e){return t.Math.max(0,t.Math.min(e||0,100))}function a(t){var n=e.progressSize;if(t){var i=parseFloat(t);return t.lastIndexOf("%")===t.length-1&&(i=i/100*n),i}return n}function l(t){return e.strokeWidth/100*t}var c=t.requestAnimationFrame||t.webkitRequestAnimationFrame||angular.noop,u=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||angular.noop,h=t.Math.PI/180,d="determinate",p="indeterminate",f="_hy-progress-circular-disabled",m="hy-mode-indeterminate";return{restrict:"E",scope:{value:"@",hyDiameter:"@",hyMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(t,e){if(t.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),angular.isUndefined(e.hyMode)){var n=angular.isDefined(e.value),o=n?d:p;e.$set("hyMode",o)}else e.$set("hyMode",e.hyMode.trim());return i}}}function e(){function t(t,e,n,i){return n*t/i+e}function e(t,e,n,i){var o=(t/=i)*t,r=o*t;return e+n*(6*r*o+-15*o*o+10*r)}var n={progressSize:50,strokeWidth:10,duration:100,easeFn:t,durationIndeterminate:500,startIndeterminate:3,endIndeterminate:80,easeFnIndeterminate:e,easingPresets:{linearEase:t,materialEase:e}};return{configure:function(t){return n=angular.extend(n,t||{})},$get:function(){return n}}}t.$inject=["$window","$hyProgressCircular","$interval"];var n=null;try{n=angular.module("haiyiMobile")}catch(t){n=angular.module("haiyiMobile",["onsen"])}n.directive("hyProgressCircular",t).provider("$hyProgressCircular",e)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}
t.directive("hyProgressBar",function(){return{restrict:"E",scope:{hyaProgressbar:"=",hyaLocation:"@",hyaTitleStyle:"@",hyaBarStyle:"@",hyaBgBarStyle:"@",hyaOrientation:"@"},link:function(t,e,n){var i=function(t,e,n,i,o){var r=100*o/n.max,s=100*i/n.max;s>100&&(s=100);var a=10*(s-r);t.css("-webkit-transition","width "+a+"ms linear"),t.css("width",s+"%");var l=i;l>n.max&&(l=n.max),null!=e&&e.text(l+"/"+n.max)};void 0===t.hyaProgressbar.progressFn&&(t.hyaProgressbar.progressFn=i);var o="<div class='"+n.class+"'></div>",r=angular.element(o);e.append(r);var s=null;"top"!=t.hyaLocation&&"bottom"!=t.hyaLocation||(o="<div style='text-align:center'></div>",s=angular.element(o)),o="<span style='position:relative; text-align:center; z-index:0; display:block;'></span>";var a=angular.element(o);a.addClass(t.hyaBarStyle||"hy-progressbar"),o="<div style='overflow:hidden; -webkit-transform-origin:left top 0px;'></div>";var l=angular.element(o);if(l.append(a),l.addClass(t.hyaBgBarStyle||"hy-hbgProgressbar"),"top"==t.hyaLocation?(r.append(s),r.append(l)):"bottom"==t.hyaLocation?(r.append(l),r.append(s)):("center"==t.hyaLocation&&(s=a),r.append(l)),null!=s){o="<span></span>";var c=angular.element(o);s.addClass(t.hyaTitleStyle||"hy-progressbar-text"),s.append(c)}if(t.hyaOrientation&&"vertical"==t.hyaOrientation.toLowerCase()){var u=-1*l[0].clientWidth,h=r[0].clientWidth/2-l[0].clientHeight/2;if(l.css("-webkit-transform","rotate(-90deg) translate("+u+"px, "+h+"px)"),"bottom"==t.hyaLocation){var d=r[0].clientHeight-2*(r[0].clientHeight-l[0].clientWidth);s.css("-webkit-transform","translate(0px,"+d+"px)")}}t.hyaProgressbar.progressFn(a,s,t.hyaProgressbar,t.hyaProgressbar.value,0),t.$watch("hyaProgressbar.value",function(e,n){e!=n&&(void 0===n&&(n=0),t.hyaProgressbar.progressFn&&angular.isFunction(t.hyaProgressbar.progressFn)&&t.hyaProgressbar.progressFn(a,s,t.hyaProgressbar,e,n))})}}})}(),function(){"use strict";var module=null;try{module=angular.module("haiyiMobile")}catch(t){module=angular.module("haiyiMobile",["onsen"])}module.factory("HyPullHookView",["$onsen","$parse",function($onsen,$parse){var HyPullHookView=Class.extend({STATE_INITIAL:"initial",STATE_PREACTION:"preaction",STATE_ACTION:"action",DIRECTION_DOWN:"down",DIRECTION_UP:"up",init:function(t,e,n){if(this._element=e,this._scope=t,this._attrs=n,this._scrollElement=this._createScrollElement(),this._pageElement=this._scrollElement.parent(),!this._pageElement.hasClass("page__content")&&!this._pageElement.hasClass("ons-scroller__content"))throw new Error("<ons-pull-hook> must be a direct descendant of an <ons-page> or an <ons-scroller> element.");this._currentTranslation=0,this._createEventListeners(),this._setState(this.STATE_INITIAL,!0),this._setStyle(),this._scope.$on("$destroy",this._destroy.bind(this))},_createScrollElement:function(){if(this._element.parent().hasClass("scroll"))return this._element.parent();var t=angular.element('<div style="min-height: 100%;">').addClass("scroll"),e=this._element.parent(),n=e.children();return e.append(t),t.append(n),t},_setStyle:function(){var t=this.getDirection(),e=this._getHeight();if(this._element.css({height:e+"px",lineHeight:e+"px"}),t==this.DIRECTION_UP){this._element.css({bottom:-e+"px"})}else this._element.css({top:-e+"px"})},_onScroll:function(t){var e=this._pageElement[0];e.scrollTop<0&&(e.scrollTop=0)},_generateTranslationTransform:function(t){return"translate3d(0px, "+t+"px, 0px)"},_onDrag:function(t){if(!this.isDisabled()&&t.direction!==Hammer.DIRECTION_LEFT&&t.direction!==Hammer.DIRECTION_RIGHT){var e=this._pageElement[0];if(e.scrollTop=this._startScroll-t.deltaY,e.scrollTop<window.innerHeight&&(t.direction!==Hammer.DIRECTION_UP&&this.getDirection()!==this.DIRECTION_UP||t.direction!==Hammer.DIRECTION_DOWN&&this.getDirection()!==this.DIRECTION_DOWN)&&t.preventDefault(),0===this._currentTranslation&&0===this._getCurrentScroll()){this._transitionDragLength=t.deltaY;t.direction===Hammer.DIRECTION_DOWN?this._transitionDragLength-=1:this._transitionDragLength+=1}t.srcEvent.stopPropagation();var n;this.getDirection()===this.DIRECTION_DOWN&&t.deltaY>0&&(n=t.deltaY-this._startScroll,n=Math.max(n,0)),this.getDirection()===this.DIRECTION_UP&&t.deltaY<0&&(n=this._getCurrentScroll()-this._startScroll+t.deltaY,n=Math.min(n,0)),void 0!==n&&(this._thresholdHeightEnabled()&&Math.abs(n)>=this._getThresholdHeight()?(this._hammer.stop(),setImmediate(function(){this._setState(this.STATE_ACTION);var t=this.getDirection()==this.DIRECTION_UP?-this._getHeight():this._getHeight();this._translateTo(t,{animate:!0}),this._waitForAction(this._onDone.bind(this))}.bind(this))):Math.abs(n)>=this._getHeight()?this._setState(this.STATE_PREACTION):this._setState(this.STATE_INITIAL),this._translateTo(n))}},_onDragStart:function(t){this.isDisabled()||(this._startScroll=this._getCurrentScroll(),document.activeElement&&document.activeElement.blur())},_onDragEnd:function(t){if(!this.isDisabled()&&0!=this._currentTranslation){var e=this._currentTranslation;if(e>this._getHeight()&&this.getDirection()==this.DIRECTION_DOWN||-e>this._getHeight()&&this.getDirection()==this.DIRECTION_UP){this._setState(this.STATE_ACTION);var n=this.getDirection()==this.DIRECTION_UP?-this._getHeight():this._getHeight();this._translateTo(n,{animate:!0}),this._waitForAction(this._onDone.bind(this))}else this._translateTo(0,{animate:!0})}},_waitForAction:function(done){this._attrs.ngAction?this._scope.$eval(this._attrs.ngAction,{$done:done,$direction:this.getDirection()}):this._attrs.onAction?eval(this._attrs.onAction):done()},_onDone:function(t){this._element&&(this._translateTo(0,{animate:!0}),this._setState(this.STATE_INITIAL))},getDirection:function(){return this._attrs.hyaDirection==this.DIRECTION_UP?this.DIRECTION_UP:this.DIRECTION_DOWN},_getHeight:function(){return parseInt(this._element[0].getAttribute("height")||"64",10)},setHeight:function(t){this._element[0].setAttribute("height",t+"px"),this._setStyle()},setThresholdHeight:function(t){this._element[0].setAttribute("threshold-height",t+"px")},_getThresholdHeight:function(){return parseInt(this._element[0].getAttribute("threshold-height")||"96",10)},_thresholdHeightEnabled:function(){var t=this._getThresholdHeight();return t>0&&t>=this._getHeight()},_setState:function(t,e){var n=this._getState();this._scope.$evalAsync(function(){this._element[0].setAttribute("state",t),e||n===this._getState()||this.emit("changestate",{state:t,direction:this.getDirection,pullHook:this})}.bind(this))},_getState:function(){return this._element[0].getAttribute("state")},getCurrentState:function(){return this._getState()},_getCurrentScroll:function(){return this._pageElement[0].scrollTop},isDisabled:function(){return this._element[0].hasAttribute("disabled")},setDisabled:function(t){t?this._element[0].setAttribute("disabled",""):this._element[0].removeAttribute("disabled")},_translateTo:function(t,e){e=e||{},this._currentTranslation=t,e.animate?animit(this._scrollElement[0]).queue({transform:this._generateTranslationTransform(t)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(e.callback):animit(this._scrollElement[0]).queue({transform:this._generateTranslationTransform(t)}).play(e.callback)},_getMinimumScroll:function(){var t=this._scrollElement[0].getBoundingClientRect().height,e=this._pageElement[0].getBoundingClientRect().height;return t>e?-(t-e):0},_createEventListeners:function(){var t=this._scrollElement.parent();this._hammer=new Hammer(t[0],{dragMinDistance:1,dragDistanceCorrection:!1}),this._bindedOnDrag=this._onDrag.bind(this),this._bindedOnDragStart=this._onDragStart.bind(this),this._bindedOnDragEnd=this._onDragEnd.bind(this),this._bindedOnScroll=this._onScroll.bind(this),this._hammer.on("pan",this._bindedOnDrag),this._hammer.on("panstart",this._bindedOnDragStart),this._hammer.on("panend",this._bindedOnDragEnd),t.on("scroll",this._bindedOnScroll)},_destroyEventListeners:function(){var t=this._scrollElement.parent();this._hammer.off("pan",this._bindedOnDrag),this._hammer.off("panstart",this._bindedOnDragStart),this._hammer.off("panend",this._bindedOnDragEnd),t.off("scroll",this._bindedOnScroll)},_destroy:function(){this.emit("destroy"),this._destroyEventListeners(),this._element=this._scope=this._attrs=null}});return MicroEvent.mixin(HyPullHookView),HyPullHookView}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyPullHook",["$onsen","HyPullHookView",function(t,e){return{restrict:"E",replace:!1,scope:!0,compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),t.registerEventHandlers(r,"changestate destroy"),i.data("hy-pull-hook",r),n.$on("$destroy",function(){r._events=void 0,i.data("hy-pull-hook",void 0),n=i=o=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";function t(t){function e(e,n,i,o){n.addClass("_hy");var r=o[0],s=o[1]||t.fakeNgModel();r.init(s),n.attr({role:"radiogroup",tabIndex:n.attr("tabindex")||"0"})}function n(t){this._radioButtonRenderFns=[],this.$element=t}function i(e,n){var i=t.iterator(e[0].querySelectorAll("hy-radio-button"),!0);if(i.count()){var o=function(t){return!angular.element(t).attr("disabled")},r=e[0].querySelector("hy-radio-button.hy-checked"),s=i[n<0?"previous":"next"](r,o)||i.first();angular.element(s).triggerHandler("click")}}return n.prototype=function(){return{init:function(t){this._ngModelCtrl=t,this._ngModelCtrl.$render=angular.bind(this,this.render)},add:function(t){this._radioButtonRenderFns.push(t)},remove:function(t){var e=this._radioButtonRenderFns.indexOf(t);-1!==e&&this._radioButtonRenderFns.splice(e,1)},render:function(){this._radioButtonRenderFns.forEach(function(t){t()})},setViewValue:function(t,e){this._ngModelCtrl.$setViewValue(t,e),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return i(this.$element,1)},selectPrevious:function(){return i(this.$element,-1)},setActiveDescendant:function(t){this.$element.attr("aria-activedescendant",t)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}}}(),{restrict:"E",controller:["$element",n],require:["hyRadioGroup","?ngModel"],link:{pre:e}}}function e(t,e){function n(t,e){return e.hasOwnProperty("hyInkRippleRadio")?'<div class="hy-container" hy-ink-ripple hy-ink-ripple-checkbox><div class="hy-off"></div><div class="hy-on"></div></div><div ng-transclude class="hy-label"></div>':'<div class="hy-container" ><div class="hy-off"></div><div class="hy-on"></div></div><div ng-transclude class="hy-label"></div>'}function i(n,i,r,s){function a(t){i[0].hasAttribute("disabled")||s.isDisabled()||n.$apply(function(){s.setViewValue(r.value,t&&t.type)})}function l(){function t(t){"HY-RADIO-GROUP"!=i.parent()[0].nodeName&&i.parent()[t?"addClass":"removeClass"](o)}var e=s.getViewValue()==r.value;e!==c&&(c=e,i.attr("aria-checked",e),e?(t(!0),i.addClass(o),s.setActiveDescendant(i.attr("id"))):(t(!1),i.removeClass(o)))}var c;!function(e,n){n.ariaId=function(){return r.id||"radio_"+t.nextUid()}(),e.attr({id:n.ariaId,role:"radio","aria-checked":"false"})}(i,n),r.hasOwnProperty("hyNoActive")||e.attach(i),function(){if(!s)throw"RadioButton: No RadioGroupController could be found.";s.add(l),r.$observe("value",l),i.on("click",a).on("$destroy",function(){s.remove(l)})}()}var o="hy-checked";return{restrict:"E",require:"^hyRadioGroup",transclude:!0,template:n,link:i}}t.$inject=["$hyUtil"],e.$inject=["$hyUtil","$hyActive"];var n=null;try{n=angular.module("haiyiMobile")}catch(t){n=angular.module("haiyiMobile",["onsen"])}n.directive("hyRadioGroup",t).directive("hyRadioButton",e)}(),function(){"use strict";var module=angular.module("onsen");module.factory("hyRefreshView",["$onsen","$parse",function($onsen,$parse){var hyRefreshView=Class.extend({STATE_INITIAL:"initial",STATE_PREACTION:"preaction",STATE_ACTION:"action",init:function(t,e,n){if(this._element=e,this._scope=t,this._attrs=n,this._scrollElement=this._createScrollElement(),this._pageElement=this._scrollElement.parent(),!this._pageElement.hasClass("page__content")&&!this._pageElement.hasClass("ons-scroller__content"))throw new Error("<ons-pull-hook> must be a direct descendant of an <ons-page> or an <ons-scroller> element.");this._currentTranslation=0,this._createEventListeners(),this._setState(this.STATE_INITIAL,!0),this._setStyle(),this._scope.$on("$destroy",this._destroy.bind(this))},_createScrollElement:function(){var t=angular.element("<div>").addClass("scroll"),e=this._element.parent(),n=e.children();return e.append(t),t.append(n),t},_setStyle:function(){var t=this._getHeight();this._element.css({top:"-"+t+"px",height:t+"px",lineHeight:t+"px"})},_onScroll:function(t){var e=this._pageElement[0];e.scrollTop<0&&(e.scrollTop=0)},_generateTranslationTransform:function(t){return"translate3d(0px, "+t+"px, 0px)"},_onDrag:function(t){if(!this.isDisabled()&&t.direction!==Hammer.DIRECTION_LEFT&&t.direction!==Hammer.DIRECTION_RIGHT){var e=this._pageElement[0];if(e.scrollTop=this._startScroll-t.deltaY,e.scrollTop<window.innerHeight&&t.direction!==Hammer.DIRECTION_UP&&t.preventDefault(),0===this._currentTranslation&&0===this._getCurrentScroll()){this._transitionDragLength=t.deltaY;t.direction===Hammer.DIRECTION_DOWN?this._transitionDragLength-=1:this._transitionDragLength+=1}var n=t.deltaY-this._startScroll;n=Math.max(n,0),this._thresholdHeightEnabled()&&n>=this._getThresholdHeight()?(this._hammer.stop(),setImmediate(function(){this._setState(this.STATE_ACTION),this._translateTo(this._getHeight(),{animate:!0}),this._waitForAction(this._onDone.bind(this))}.bind(this))):n>=this._getHeight()?this._setState(this.STATE_PREACTION):this._setState(this.STATE_INITIAL),t.srcEvent.stopPropagation(),this._translateTo(n),this.emit("scrollChange",n)}},_onDragStart:function(t){this.isDisabled()||(this._startScroll=this._getCurrentScroll())},_onDragEnd:function(t){if(!this.isDisabled()&&this._currentTranslation>0){this._currentTranslation>this._getHeight()?(this._setState(this.STATE_ACTION),this._translateTo(this._getHeight(),{animate:!0}),this._waitForAction(this._onDone.bind(this))):this._translateTo(0,{animate:!0})}},_waitForAction:function(done){this._attrs.ngAction?this._scope.$eval(this._attrs.ngAction,{$done:done}):this._attrs.onAction?eval(this._attrs.onAction):done()},_onDone:function(t){this._element&&(this._translateTo(0,{animate:!0}),this._setState(this.STATE_INITIAL))},_getHeight:function(){return parseInt(this._element[0].getAttribute("height")||"64",10)},setHeight:function(t){this._element[0].setAttribute("height",t+"px"),this._setStyle()},setThresholdHeight:function(t){this._element[0].setAttribute("threshold-height",t+"px")},_getThresholdHeight:function(){return parseInt(this._element[0].getAttribute("threshold-height")||"96",10)},_thresholdHeightEnabled:function(){var t=this._getThresholdHeight();return t>0&&t>=this._getHeight()},_setState:function(t,e){console.log("state change = "+t);var n=this._getState();this.emit("stateChange",t),this._scope.$evalAsync(function(){this._element[0].setAttribute("state",t),e||n===this._getState()||this.emit("changestate",{state:t,pullHook:this})}.bind(this))},_getState:function(){return this._element[0].getAttribute("state")},getCurrentState:function(){return this._getState()},_getCurrentScroll:function(){return this._pageElement[0].scrollTop},isDisabled:function(){return this._element[0].hasAttribute("disabled")},setDisabled:function(t){t?this._element[0].setAttribute("disabled",""):this._element[0].removeAttribute("disabled")},_translateTo:function(t,e){e=e||{},this._currentTranslation=t,e.animate?animit(this._scrollElement[0]).queue({transform:this._generateTranslationTransform(t)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(e.callback):animit(this._scrollElement[0]).queue({transform:this._generateTranslationTransform(t)}).play(e.callback)},_getMinimumScroll:function(){var t=this._scrollElement[0].getBoundingClientRect().height,e=this._pageElement[0].getBoundingClientRect().height;return t>e?-(t-e):0},_createEventListeners:function(){var t=this._scrollElement.parent();this._hammer=new Hammer(t[0],{dragMinDistance:1,dragDistanceCorrection:!1}),this._bindedOnDrag=this._onDrag.bind(this),this._bindedOnDragStart=this._onDragStart.bind(this),this._bindedOnDragEnd=this._onDragEnd.bind(this),this._bindedOnScroll=this._onScroll.bind(this),this._hammer.on("pan",this._bindedOnDrag),this._hammer.on("panstart",this._bindedOnDragStart),this._hammer.on("panend",this._bindedOnDragEnd),t.on("scroll",this._bindedOnScroll)},_destroyEventListeners:function(){var t=this._scrollElement.parent();this._hammer.off("pan",this._bindedOnDrag),this._hammer.off("panstart",this._bindedOnDragStart),this._hammer.off("panend",this._bindedOnDragEnd),t.off("scroll",this._bindedOnScroll)},_destroy:function(){this.emit("destroy"),this._destroyEventListeners(),this._element=this._scope=this._attrs=null}});return MicroEvent.mixin(hyRefreshView),hyRefreshView}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyRefresh",["$onsen","hyRefreshView",function(t,e){return{restrict:"E",replace:!1,scope:!0,compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),t.registerEventHandlers(r,"changestate destroy"),i.data("hy-pull-hook",r),n.$on("$destroy",function(){r._events=void 0,i.data("hy-pull-hook",void 0),n=i=o=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyRepeatFinish",function(){return{link:function(t,e,n){var i=n.hyRepeatFinish?n.hyRepeatFinish:"rf";1==t.$last&&(t.$emit(i+"-to-parent"),t.$broadcast(i+"-to-child"))}}})}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyScore",["$onsen",function(t){function e(t,e){return angular.isDefined(e.hyaScoreImgSrc)?'<div class="hy-score-div">\t\t\t\t\t\t<img  ng-repeat="score in scoreList" ng-src = "{{(score<hyaActiveNum)? hyaScoreActiveImgSrc :hyaScoreImgSrc}}"\t\t\t\t\t\t\t\t\t\t  ng-click = "selectScore(score)" ng-class = "{ {{hyaScoreImgClass}}:true}" class = "imgStyle"/>\t\t\t\t\t\t</div>':'<div class="hy-score-div">\t\t\t\t\t\t<ons-icon  ng-repeat="score in scoreList" icon="{{(score<hyaActiveNum)? hyaScoreActiveFontSrc :hyaScoreFontSrc}}" ng-click = "selectScore(score)" \t\t\t\t\t\t  ng-class = "{ {{hyaFontActiveColor}}:score<hyaActiveNum,{{hyaScoreFontClass}}:hyaScoreFontClass}" class = "fontStyle">\t\t\t\t\t\t</ons-icon>\t\t\t  </div>'}return{restrict:"E",scope:{hyaScoreNum:"@",hyaScoreFontSrc:"@",hyaScoreImgSrc:"@",hyaScoreActiveImgSrc:"@",hyaScoreFontClass:"@",hyaScoreActiveFontSrc:"@",hyaScoreImgClass:"@",hyaFontActiveColor:"@",hyaActiveNum:"=",hyaOnlyShow:"@"},template:e,link:function(t,e,n){t.hyaScoreNum=t.hyaScoreNum||"5",t.scoreList=[];for(var i=0;i<t.hyaScoreNum;i++)t.scoreList.push(i);t.hyaActiveNum=t.hyaActiveNum||0,t.hyaScoreFontSrc=t.hyaScoreFontSrc||"star",t.hyaScoreActiveFontSrc=t.hyaScoreActiveFontSrc||"star",t.hyaScoreActiveImgSrc=t.hyaScoreActiveImgSrc||t.hyaScoreImgSrc,t.hyaScoreFontClass=t.hyaScoreFontClass||"11",t.hyaFontActiveColor=t.hyaFontActiveColor||"fontActive",t.selectScore=function(e){angular.isDefined(n.disabled)||(t.hyaActiveNum=e+1)},t.$watch("hyaActiveNum",function(){t.scoreList=[];for(var e=0;e<t.hyaScoreNum;e++)t.scoreList.push(e)})}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.service("hyAnimate",[function(){var t={};return t.time=Date.now||function(){return+new Date},t.running={},t.counter=1,t.desiredFrames=60,t.millisecondsPerSecond=1e3,t.requestAnimationFrame=function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame;return function(e,n){t(e,n)}}(),t.stop=function(e){var n=null!=t.running[e];return n&&(t.running[e]=null),n},t.isRunning=function(e){return null!=t.running[e]},t.start=function(e,n,i,o,r,s){var a=t.time(),l=a,c=0,u=0,h=t.counter++;if(s||(s=document.body),h%20==0){var d={};for(var p in t.running)d[p]=!0;t.running=d}var f=function(d){var p=!0!==d,m=t.time();if(!t.running[h]||n&&!n(h))return t.running[h]=null,void(i&&i(t.desiredFrames-u/((m-a)/t.millisecondsPerSecond),h,!1));if(p)for(var g=Math.round((m-l)/(t.millisecondsPerSecond/t.desiredFrames))-1,_=0;_<Math.min(g,4);_++)f(!0),u++;o&&(c=(m-a)/o)>1&&(c=1);var v=r?r(c):c;!1!==e(v,m,p)&&1!==c||!p?p&&(l=m,t.requestAnimationFrame(f,s)):(t.running[h]=null,i&&i(t.desiredFrames-u/((m-a)/t.millisecondsPerSecond),h,1===c||null==o))};return t.running[h]=!0,t.requestAnimationFrame(f,s),h},t}]),t.factory("hyScrollView",["$onsen","$q","$hyUtil","hyAnimate",function(t,e,n,i){var o=Class.extend({init:function(t,e,i){this._element=e,this._scope=t,this._attrs=i,this._$hyUtil=n;var o=this;this.__minScrollTop=0,this.__maxScrollTop=0,this.__isDecelerating=!1,this.__isAnimating=!1,this.__isTracking=!1,this.__isDragging=!1,this._scope.hyaData=this._scope.hyaData||[],this._scope.itemHeight=this._scope.itemHeight||50,this._scope.itemSize=this._scope.itemSize||5,this._scope.totalHeight=this._scope.itemHeight*this._scope.itemSize,this._scope.middleHeight=this._scope.itemHeight*(this._scope.itemSize-1)/2,this._scrollerComponent=angular.element(this._element[0].querySelector(".hy-scroller-component")),this._scrollerContent=angular.element(this._element[0].querySelector(".hy-scroller-content")),this.__setDimensions(this._scrollerComponent[0].clientHeight),this._scope.$watch("hyaData.length",function(){o.__setDimensions(o._scrollerComponent[0].clientHeight)}),this._scope.$watch("hyaData",function(){o.__setDimensions(o._scrollerComponent[0].clientHeight)}),this._scope.getItemDisplay=angular.bind(this,this._getItemDisplay),this._scope.selectIndex=0,this.__scrollTop=0,this._scope.$watch("hyaValue",function(){for(var t=0;t<o._scope.hyaData.length;t++)n.isString(o._scope.hyaData[t])||n.isNumber(o._scope.hyaData[t])?o._scope.hyaData[t]==o._scope.hyaValue&&(o._scope.selectIndex=t):o._scope.hyaData[t].value==o._scope.hyaValue&&(o._scope.selectIndex=t);o.__scrollTop=o.__minScrollTop+o._scope.selectIndex*o.__itemHeight,o.scrollTo(o.__scrollTop)}),this._scope.$watch("selectIndex",function(){o.__scrollTop=o.__minScrollTop+o._scope.selectIndex*o.__itemHeight,o.scrollTo(o.__scrollTop)}),this._addEventListener()},__setDimensions:function(t){this.__clientHeight=t,this.__itemHeight=this._scope.itemHeight;var e=this._scope.hyaData.length,n=Math.round(this.__clientHeight/this.__itemHeight);this.__minScrollTop=-this.__itemHeight*(n/2),this.__maxScrollTop=this.__minScrollTop+e*this.__itemHeight-.1},_addEventListener:function(){function t(t){t.preventDefault();var e=t.touches,n=t.timeStamp;if(null==e.length)throw new Error(": "+e);if(n instanceof Date&&(n=n.valueOf()),"number"!=typeof n)throw new Error(": "+n);this.__isDecelerating&&(i.stop(this.__isDecelerating),this.__isDecelerating=!1),this.__isAnimating&&(i.stop(this.__isAnimating),this.__isAnimating=!1);var o,r=1===e.length;o=r?e[0].pageY:Math.abs(e[0].pageY+e[1].pageY)/2,this.__initialTouchTop=o,this.__lastTouchTop=o,this.__lastTouchMove=n,this.__enableScrollY=!r,this.__isTracking=!0,this.__didDecelerationComplete=!1,this.__isDragging=!r,this.__isSingleTouch=r,this.__positions=[]}function e(t){var e=t.touches,n=t.timeStamp;if(null==e.length)throw new Error(": "+e);if(n instanceof Date&&(n=n.valueOf()),"number"!=typeof n)throw new Error(": "+n);if(this.__isTracking){var i;i=2===e.length?Math.abs(e[0].pageY+e[1].pageY)/2:e[0].pageY;var o=this.__positions;if(this.__isDragging){var r=i-this.__lastTouchTop,s=this.__scrollTop;if(this.__enableScrollY){s-=r;var a=this.__minScrollTop,l=this.__maxScrollTop;(s>l||s<a)&&(s=s>l?l:a)}o.length>40&&o.splice(0,20),o.push(s,n),this.__publish(s)}else{var c=Math.abs(i-this.__initialTouchTop);this.__enableScrollY=c>=0,o.push(this.__scrollTop,n),this.__isDragging=this.__enableScrollY&&c>=5}this.__lastTouchTop=i,this.__lastTouchMove=n}}function n(t){var e=this,n=t.timeStamp;if(n instanceof Date&&(n=n.valueOf()),"number"!=typeof n)throw new Error(": "+n);if(this.__isTracking){if(this.__isTracking=!1,this.__isDragging&&(this.__isDragging=!1,this.__isSingleTouch&&n-this.__lastTouchMove<=100)){for(var i=this.__positions,o=i.length-1,r=o,s=o;s>0&&i[s]>this.__lastTouchMove-100;s-=2)r=s;if(r!==o){var a=i[o]-i[r],l=this.__scrollTop-i[r-1];this.__decelerationVelocityY=l/a*(1e3/60);Math.abs(this.__decelerationVelocityY)>4&&this.__startDeceleration(n)}}this.__isDecelerating||e.scrollTo(e.__scrollTop),this.__positions.length=0}}this._scrollerComponent.on(this._$hyUtil.gettouchEvent().start,angular.bind(this,t)),this._scrollerComponent.on(this._$hyUtil.gettouchEvent().move,angular.bind(this,e)),this._scrollerComponent.on(this._$hyUtil.gettouchEvent().end,angular.bind(this,n))},__startDeceleration:function(){this.__minDecelerationScrollTop=this.__minScrollTop,this.__maxDecelerationScrollTop=this.__maxScrollTop;var t=this,e=function(e,n,i){t.__stepThroughDeceleration(i)},n=function(){var e=Math.abs(t.__decelerationVelocityY)>=.5;return e||(t.__didDecelerationComplete=!0),e},o=function(e,n,i){if(t.__isDecelerating=!1,t.__scrollTop<=t.__minScrollTop||t.__scrollTop>=t.__maxScrollTop)return void t.scrollTo(t.__scrollTop);t.__didDecelerationComplete&&t.__scrollingComplete()};t.__isDecelerating=i.start(e,n,o)},__stepThroughDeceleration:function(){var t=this,e=t.__scrollTop+t.__decelerationVelocityY,n=Math.max(Math.min(t.__maxDecelerationScrollTop,e),t.__minDecelerationScrollTop);n!==e&&(e=n,t.__decelerationVelocityY=0),Math.abs(t.__decelerationVelocityY)<=1?Math.abs(e%t.__itemHeight)<1&&(t.__decelerationVelocityY=0):t.__decelerationVelocityY*=.95,t.__publish(e)},__publish:function(t,e){function n(t){return Math.pow(t-1,3)+1}function o(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}var r=this,s=this.__isAnimating;if(s&&(i.stop(s),this.__isAnimating=!1),e){var a=this.__scrollTop,l=t-a,c=function(t,e,n){r.__scrollTop=a+l*t},u=function(t){return r.__isAnimating===t},h=function(t,e,n){e===r.__isAnimating&&(r.__isAnimating=!1),(r.__didDecelerationComplete||n)&&r.__scrollingComplete()};r.__isAnimating=i.start(c,u,h,e,s?n:o)}else this.__scrollTop=t,this.__scrollTo(t)},__scrollTo:function(t){this._scrollerContent.css("transform","translate3d(0, "+-t+"px, 0)"),this._scrollerContent.css("webkitTransform","translate3d(0, "+-t+"px, 0)")},scrollTo:function(t,e){var n=this;e=void 0===e||e,this.__isDecelerating&&(i.stop(this.__isDecelerating),this.__isDecelerating=!1),t=Math.round(t/this.__itemHeight)*this.__itemHeight,t=Math.max(Math.min(this.__maxScrollTop,t),this.__minScrollTop),n.__publish(t),n.__scrollingComplete()},__scrollingComplete:function(){var t=Math.round((this.__scrollTop-this.__minScrollTop-this.__itemHeight/2)/this.__itemHeight);void 0!=t&&null!=t||(t=this._scope.selectIndex),this._scope.hyaData.length>0&&(n.isString(this._scope.hyaData[t])||n.isNumber(this._scope.hyaData[t])?this._scope.hyaValue=this._scope.hyaData[t]:this._scope.hyaValue=this._scope.hyaData[t].value,this._scope.$evalAsync(),this._scope.selectValue&&this._scope.selectValue({data:this._scope.hyaData[t]}))},_getItemDisplay:function(t){return n.isString(t)||n.isNumber(t)?t:t.text}});return MicroEvent.mixin(o),o}]),t.directive("hyScroller",["$onsen","hyScrollView",function(t,e){function n(t,e){return'<div class="hy-scroller-component" style="height:{{totalHeight}}px;"><div class="hy-scroller-mask" ></div><div class="hy-scroller-indicator" style="height:{{itemHeight}}px;top:{{middleHeight}}px;"></div><div class="hy-scroller-content"><div class="hy-scroller-item" style="height:{{itemHeight}}px;line-height:{{itemHeight}}px;" ng-repeat=" item in hyaData" data-value="{{item}}">{{getItemDisplay(item)}}</div></div></div>'}return{restrict:"E",scope:{hyaData:"=hyaData",hyaValue:"=",itemHeight:"@",itemSize:"@",selectValue:"&"},template:n,link:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-scroller",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-scroller",void 0),i=null}),t.fireComponentEvent(i[0],"init")}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("HyScrollDegView",["$onsen","$q","$hyUtil","hyAnimate",function(t,e,n,i){var o=Class.extend({init:function(t,e,i){this._element=e,this._scope=t,this._attrs=i,this._$hyUtil=n;var o=this;this.__minScrollTop=0,this.__maxScrollTop=0,this.__isDecelerating=!1,this.__isAnimating=!1,this.__isTracking=!1,this.__isDragging=!1,this._scope.hyaData=this._scope.hyaData||[],this._scrollerComponent=angular.element(this._element[0].querySelector(".hy-scroller-deg-component")),this._scrollerContent=angular.element(this._element[0].querySelector(".hy-scroller-deg-inner")),this._scope.height=this._scrollerComponent[0].clientHeight,this._scope.itemHeight=this._scope.itemHeight||36,this.__itemHeight=this._scope.itemHeight,this._initTopTran=(this._scope.height-this._scope.itemHeight)/2,this._scope.innerTrans=(this._scope.height-this._scope.itemHeight)/2,this.__scrollTo(this._scope.innerTrans),this._scope.diffNum=0,this._scope.selectIndex=0,this.__scrollTop=0,this._scope.$watch("hyaData",function(){o._initTopTran=(o._scope.height-o._scope.itemHeight)/2,o._scope.innerTrans=(o._scope.height-o._scope.itemHeight)/2,o.__minScrollTop=o._scope.innerTrans-(o._scope.hyaData.length-1)*o._scope.itemHeight,o.__maxScrollTop=o._scope.innerTrans,o._scope.selectIndex=0,o._scope.$evalAsync(),o.__scrollTo(o._scope.innerTrans)}),this._scope.$watch("hyaValue",function(){for(var t=0;t<o._scope.hyaData.length;t++)n.isString(o._scope.hyaData[t])||n.isNumber(o._scope.hyaData[t])?o._scope.hyaData[t]==o._scope.hyaValue&&(o._scope.selectIndex=t):o._scope.hyaData[t].value==o._scope.hyaValue&&(o._scope.selectIndex=t);o._scope.innerTrans=o._initTopTran-o._scope.selectIndex*o.__itemHeight,o.__scrollTo(o._scope.innerTrans),o._scope.$evalAsync()}),this._addEventListener(),this._scope.getItemStyle=function(t,e){var n=t-o._scope.selectIndex,i={},r=36*o._scope.selectIndex,s=0;if(0!=e){s=-18*n-e/2,r-=e,s>=180?s=180:s<=-180&&(s=-180);var a=(r-18)/36,l=(r+18)/36;i=t>a&&t<l?{transform:"translate3d(0px, "+r+"px, -120px) rotateX("+s+"deg)",color:"#000000"}:{transform:"translate3d(0px, "+r+"px, -120px) rotateX("+s+"deg)"}}else n>10?i={transform:"translate3d(0px, "+r+"px, -120px) rotateX(-180deg)"}:n<-10?i={transform:"translate3d(0px, "+r+"px, -120px) rotateX(180deg)"}:(s=-18*n,i=0==n?{transform:"translate3d(0px, "+r+"px, -120px) rotateX("+s+"deg)",color:"#000000"}:{transform:"translate3d(0px, "+r+"px, -120px) rotateX("+s+"deg)"});return i},this._scope.getItemValue=function(t){return n.isString(t)||n.isNumber(t)?t:t.display}},_addEventListener:function(){function t(t){t.preventDefault();var e=t.touches,n=t.timeStamp;if(null==e.length)throw new Error(": "+e);if(n instanceof Date&&(n=n.valueOf()),"number"!=typeof n)throw new Error(": "+n);this.__isDecelerating&&(i.stop(this.__isDecelerating),this.__isDecelerating=!1),this.__isAnimating&&(i.stop(this.__isAnimating),this.__isAnimating=!1);var o,r=1===e.length;o=r?e[0].pageY:Math.abs(e[0].pageY+e[1].pageY)/2,this.__initialTouchTop=o,this.__lastTouchTop=o,this.__lastTouchMove=n,this.__enableScrollY=!r,this._scope.hyaData.length>0?this.__isTracking=!0:this.__isTracking=!1,this.__didDecelerationComplete=!1,this.__isDragging=!r,this.__isSingleTouch=r,this.__positions=[],this._scope.diffNum=0}function e(t){var e=t.touches,n=t.timeStamp;if(null==e.length)throw new Error(": "+e);if(n instanceof Date&&(n=n.valueOf()),"number"!=typeof n)throw new Error(": "+n);if(this.__isTracking){var i
;i=2===e.length?Math.abs(e[0].pageY+e[1].pageY)/2:e[0].pageY;var o=this.__positions;if(this.__isDragging){var r=i-this.__lastTouchTop;this._scope.innerTrans;if(this.__enableScrollY){this._scope.innerTrans+=r;var s=this.__minScrollTop,a=this.__maxScrollTop;this._scope.innerTrans>a||this._scope.innerTrans<s?this._scope.innerTrans>a?this._scope.innerTrans=a:this._scope.innerTrans=s:(this._scope.diffNum+=r,this._scope.$apply())}o.length>40&&o.splice(0,20),o.push(this._scope.innerTrans,n),this.__publish(this._scope.innerTrans)}else{var l=Math.abs(i-this.__initialTouchTop);this.__enableScrollY=l>=0,o.push(this._scope.innerTrans,n),this.__isDragging=this.__enableScrollY&&l>=5}this.__lastTouchTop=i,this.__lastTouchMove=n}}function n(t){var e=this,n=t.timeStamp;if(n instanceof Date&&(n=n.valueOf()),"number"!=typeof n)throw new Error(": "+n);if(this.__isTracking){if(this.__isTracking=!1,this.__isDragging&&this._scope.isSwipe&&(this.__isDragging=!1,this.__isSingleTouch&&n-this.__lastTouchMove<=100)){console.log("");for(var i=this.__positions,o=i.length-1,r=o,s=o;s>0&&i[s]>this.__lastTouchMove-100;s-=2)r=s;if(r!==o){var a=i[o]-i[r],l=i[o-1]-i[r-1];console.log(":"+l),this.__decelerationVelocityY=l/a*(1e3/60);Math.abs(this.__decelerationVelocityY)>4&&this.__startDeceleration(n)}}this.__isDecelerating||(e._scope.diffNum=0,console.log(""),e.scrollTo(e._scope.innerTrans)),this.__positions.length=0}}this._scrollerComponent.on(this._$hyUtil.gettouchEvent().start,angular.bind(this,t)),this._scrollerComponent.on(this._$hyUtil.gettouchEvent().move,angular.bind(this,e)),this._scrollerComponent.on(this._$hyUtil.gettouchEvent().end,angular.bind(this,n))},__startDeceleration:function(){this.__minDecelerationScrollTop=this.__minScrollTop,this.__maxDecelerationScrollTop=this.__maxScrollTop;var t=this,e=function(e,n,i){t.__stepThroughDeceleration(i)},n=function(){var e=Math.abs(t.__decelerationVelocityY)>=.5;return e||(t.__didDecelerationComplete=!0),e},o=function(e,n,i){console.log(""),t.__isDecelerating=!1,t._scope.diffNum=0,t._scope.innerTrans<=t.__minScrollTop||(t._scope.innerTrans,t.__maxScrollTop),t.__didDecelerationComplete&&(t.__scrollingComplete(),t.__scrollToByDuration(t._scope.innerTrans))};t.__isDecelerating=i.start(e,n,o)},__stepThroughDeceleration:function(){var t=this,e=t._scope.innerTrans+t.__decelerationVelocityY;t._scope.diffNum=t._scope.diffNum+t.__decelerationVelocityY;var n=Math.max(Math.min(t.__maxDecelerationScrollTop,e),t.__minDecelerationScrollTop);console.log(n),n!==e&&(e=n,t.__decelerationVelocityY=0),Math.abs(t.__decelerationVelocityY)<=1?Math.abs(e%t.__itemHeight)<1&&(t.__decelerationVelocityY=0):t.__decelerationVelocityY*=.95,t.__publish(e)},__publish:function(t,e){var n=this.__isAnimating;n&&(i.stop(n),this.__isAnimating=!1);this.__scrollTop=t,this._scope.innerTrans=t,this._scope.$apply(),this.__scrollTo(t)},__scrollTo:function(t){this._scrollerContent.css("transitionDuration","0ms"),this._scrollerContent.css("transform","translate3d(0, "+t+"px, 0)"),this._scrollerContent.css("webkitTransform","translate3d(0, "+t+"px, 0)")},__scrollToByDuration:function(t){this._scrollerContent.css("transitionDuration","100ms"),this._scrollerContent.css("transform","translate3d(0, "+t+"px, 0)"),this._scrollerContent.css("webkitTransform","translate3d(0, "+t+"px, 0)")},scrollTo:function(t,e){var n=this;e=void 0===e||e,this.__isDecelerating&&(i.stop(this.__isDecelerating),this.__isDecelerating=!1),t=Math.round((t-this._initTopTran)/this.__itemHeight)*this.__itemHeight+this._initTopTran,t=Math.max(Math.min(this.__maxScrollTop,t),this.__minScrollTop),n.__publish(t),n.__scrollingComplete()},__scrollingComplete:function(){var t=Math.round((this._initTopTran-this._scope.innerTrans)/this.__itemHeight);void 0==t||null==t?t=this._scope.selectIndex:this._scope.selectIndex=t,this._scope.innerTrans=this._initTopTran-this._scope.selectIndex*this.__itemHeight,this._scope.diffNum=0,this._scope.hyaData.length>0&&(n.isString(this._scope.hyaData[t])||n.isNumber(this._scope.hyaData[t])?this._scope.hyaValue=this._scope.hyaData[t]:this._scope.hyaValue=this._scope.hyaData[t].value,this._scope.hyaValue=this._scope.hyaData[t],this._scope.$apply(),this._scope.selectValue&&this._scope.selectValue({data:this._scope.hyaValue}))}});return MicroEvent.mixin(o),o}]),t.directive("hyScrollerDeg",["$onsen","HyScrollDegView",function(t,e){function n(t,e){return'<div class="hy-scroller-deg"><div class="hy-scroller-deg-component" ><div class="hy-scroller-deg-inner"><div class="hy-scroller-deg-item" ng-style="getItemStyle($index,diffNum)" ng-repeat=" item in hyaData" data-value="{{item}}">{{getItemValue(item)}}</div></div></div></div>'}return{restrict:"E",replace:!0,scope:{hyaData:"=hyaData",hyaValue:"=",itemHeight:"@",itemSize:"@",selectValue:"&",isSwipe:"@"},template:n,link:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-scroller-deg",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-scroller-deg",void 0),i=null}),t.fireComponentEvent(i[0],"init")}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hySearchInput",["$onsen",function(t){return{restrict:"E",template:'<div style="height: 31px;padding: 6px"><input type="search" class="hySearchInputStyle" ng-model="search" placeholder="{{hyaSearchHolder}}"/></div><i class = "ion-ios-search" style="position: absolute;top: 8px;left: 15px;font-size: 23px"></i>',link:function(t,e,n){t.hyaSearchHolder=n.hyaSearchHolder||"search"}}}])}(),function(){"use strict";function t(t){t=t||[];var e={};t.forEach(function(t){e[JSON.stringify(t)]=t}),t.length=0;for(var n in e)t[t.length]=e[n];return t}var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.factory("haiyiListView",["$onsen",function(t){var e=Class.extend({init:function(t,e,n){this._element=e,this._scope=t}});return MicroEvent.mixin(e),e}]),e.directive("hySearchList",["$onsen","haiyiListView",function(t,e){return{restrict:"E",scope:!1,replace:!1,transclude:!1,compile:function(n,i){return function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-search-list",r),n.$on("$destroy",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-search-list",void 0),i=null});var s=t.generateModifierTemplater(o);i.addClass("list ons-list-inner"),i.addClass(s("list--*")),t.addModifierMethods(r,"list--*",i),t.fireComponentEvent(i[0],"init")}}}}]),e.directive("hySearchListItem",["$onsen","haiyiListView",function(t,e){return{restrict:"E",replace:!1,transclude:!1,compile:function(){return function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-search-list-item",r),n.$on("$destroy",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-search-list-item",void 0),i=null});var s=t.generateModifierTemplater(o);i.addClass("list__item ons-list-item-inner"),i.addClass(s("list__item--*")),t.addModifierMethods(r,"list__item--*",i),t.fireComponentEvent(i[0],"init")}}}}]),e.filter("hyListFilter",["$filter",function(e){return function(n,i,o){if(!angular.isArray(n)){if(null==n)return n;throw minErr("filter")("notarray","Expected array but received: {0}",n)}if(null==i)return n;if(o&&angular.isArray(o)){if(0!=o.length){for(var r=new Array,s=0;s<o.length;s++){var a={};a[o[s]]=i,r=r.concat(e("filter")(n,a))}return t(r)}return e("filter")(n,i)}return e("filter")(n,i)}}])}(),function(){"use strict;";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("SlideNavigatorAnimator",function(){return Class.extend({apply:function(t,e,n){throw new Error("This method must be implemented.")}})}),t.factory("SlideNavigatorNoneAnimator",["SlideNavigatorAnimator",function(t){return t.extend({apply:function(t,e,n){n()}})}]),t.factory("SlideNavigatorFadeAnimator",["SlideNavigatorAnimator",function(t){return t.extend({apply:function(t,e,n){animit.runAll(animit(t[0]).queue({transform:"translate3D(0, 0, 0)",opacity:0}).queue({transform:"translate3D(0, 0, 0)",opacity:1},{duration:.4,timing:"linear"}).resetStyle().queue(function(t){n(),t()}),animit(e[0]).queue({transform:"translate3D(0, 0, 0)",opacity:1}).queue({transform:"translate3D(0, 0, 0)",opacity:0},{duration:.4,timing:"linear"}))}})}]),t.factory("SlideNavigatorView",["$onsen","$compile","SlideNavigatorAnimator","SlideNavigatorNoneAnimator","SlideNavigatorFadeAnimator",function(t,e,n,i,o){var r=Class.extend({_slideNavigatorId:void 0,_navigatorItems:void 0,_maxNavigatorPage:4,_selectedItems:[],init:function(t,e,n){this._scope=t,this._element=e,this._attrs=n,this._slideNavigatorId=Date.now(),this._navigatorItems=[],this._contentElement=angular.element(e[0].querySelector(".hyc-slide-navigator-content")),this._slideNavigatorElement=angular.element(e[0].querySelector(".hyc-navigator")),this._scope.$on("$destroy",this._destroy.bind(this)),this._hasBottomNavigator()&&this._prepareForBottomNavigator()},_prepareForBottomNavigator:function(){setImmediate(function(){this._contentElement.addClass("hyc-slide-navigator-content-bottom"),this._slideNavigatorElement.addClass("hyc-navigator-bottom")}.bind(this))},_hasBottomNavigator:function(){return"bottom"===this._attrs.position},setActiveNavigator:function(t,e){e=e||{};var n=this._navigatorItems[this.getActiveNavigatorIndex()],i=this._navigatorItems[t];if(t===this.getActiveNavigatorIndex())return this.emit("reactive",{index:t,navigatorItem:i}),!1;if(!i)return!1;var o=!1;if(this.emit("prechange",{index:t,navigatorItem:i,cancel:function(){o=!0}}),o)return i.setInactive(),n&&n.setActive(),!1;i.setActive();var r=i.page;if(r){var s=!0;n&&(n._pageElement=this._currentPageElement);var a=this._getSelectedNavigatorEle(t),l=this._selectedItems.length,c=this._attrs.hasOwnProperty("hyaMaxPageNum")?parseInt(this._attrs.hyaMaxPageNum):this._maxNavigatorPage;isNaN(c)&&(c=this._maxNavigatorPage),l<c&&(s=!1);var u={callback:function(){this.emit("postchange",{index:t,navigatorItem:i})}.bind(this),_removeElement:s};e.animation&&(u.animation=e.animation),this._selectedItems.push({index:t,page:r}),a?this._loadPersistentPageDOM(a,u):this._loadPage(i.page,u)}for(var h=0;h<this._navigatorItems.length;h++)this._navigatorItems[h]!=i?this._navigatorItems[h].setInactive():r||this.emit("postchange",{index:t,navigatorItem:i});return!0},_getSelectedNavigatorEle:function(t){var e=this._navigatorItems[t];if(!e)return null;if(!e._pageElement)return null;for(var n=e.page,i=null,o=-1,r=this._selectedItems.length-1;r>=0;r--){var s=this._selectedItems[r];if(s.index==t){o=r,i=s.page;break}}return o>=0&&this._selectedItems.splice(o,1),i&&i==n?e._pageElement:null},setSlideNavigatorVisibility:function(t){this._scope.hideNavigators=!t,this._onSlideNavigatorVisibilityChanged()},_onSlideNavigatorVisibilityChanged:function(){this._hasBottomNavigator()?this._scope.hideNavigators?this._contentElement.css("bottom","0px"):this._contentElement.css("bottom",""):this._scope.hideNavigators?this._contentElement.css("top","0px"):this._contentElement.css("top","")},addNavigatorItem:function(t){this._navigatorItems.push(t)},getActiveNavigatorIndex:function(){for(var t,e=0;e<this._navigatorItems.length;e++)if(t=this._navigatorItems[e],t.isActive())return e;return-1},loadPage:function(t,e){return this._loadPage(t,e)},_loadPage:function(e,n){t.getPageHTMLAsync(e).then(function(t){var e=angular.element(t.trim());this._loadPageDOM(e,n)}.bind(this),function(){var t=angular.element('<div class="not-page"></div>');this._loadPageDOM(t,n)}.bind(this))},_switchPage:function(t,e){if(this._currentPageElement){var n=this._currentPageElement;this._currentPageElement=t,this._currentPageScope=t.data("_scope"),this._getAnimatorOption(e).apply(t,n,function(){n.css("display","none"),e._removeElement&&this._selectedItems.length>0&&(this._selectedItems[0].element.remove(),this._selectedItems[0].scope&&this._selectedItems[0].scope.$destroy(),this._selectedItems.splice(0,1)),e.callback instanceof Function&&e.callback()}.bind(this))}else this._currentPageElement=t,this._currentPageScope=t.data("_scope"),e.callback instanceof Function&&e.callback();var i=this._selectedItems.length-1;i<0||(this._selectedItems[i].element=this._currentPageElement,this._selectedItems[i].scope=this._currentPageScope)},_loadPageDOM:function(t,n){n=n||{};var i=this._scope.$new(),o=e(t);this._contentElement.append(t);var r=o(i);i.$evalAsync(),this._switchPage(r,n)},_loadPersistentPageDOM:function(t,e){e=e||{},t.css("display","block"),this._switchPage(t,e)},_getAnimatorOption:function(t){var e=this._element.attr("animation")||"default";return r._animatorDict[t.animation||e]||r._animatorDict.default},next:function(){var t=this.getActiveNavigatorIndex();t>this._navigatorItems.length-1||(t++,this._setNavigator(t,!0))},prev:function(){var t=this.getActiveNavigatorIndex();this._navigatorItems.length;t<0||(t--,this._setNavigator(t,!1))},setNavigator:function(t){this._setNavigator(t,!0)},_setNavigator:function(t,e){var n=this._navigatorItems[t],i=this._navigatorItems.length;if(!(t<0||t>i-1))return!n||n.disabled?(e?t++:t--,void this._setNavigator(t)):void n.setNavigatorAction()},_destroy:function(){this.emit("destroy"),this._element=this._scope=this._attrs=null}});return MicroEvent.mixin(r),r._animatorDict={default:new i,none:new i,fade:new o},r.registerAnimator=function(t,e){if(!(e instanceof n))throw new Error('"animator" param must be an instance of TabbarAnimator');this._animatorDict[t]=e},r}])}(),function(t){try{t=angular.module("templates-main")}catch(e){t=angular.module("templates-main",[])}t.run(["$templateCache",function(t){"use strict";t.put("templates/hy_slide_navigator.tpl",'<div class="hyc-slide-navigator-content"></div>\n<div ng-hide="hideNavigators" class="hyc-navigator"></div>\n')}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hySlideNavigator",["$onsen","$compile","SlideNavigatorView",function(t,e,n){return{restrict:"E",replace:!1,transclude:!0,scope:!0,templateUrl:t.DIRECTIVE_TEMPLATE_URL+"/hy_slide_navigator.tpl",compile:function(e,i){return e.addClass("hyc-slide-navigator"),function(e,i,o,r,s){e.selectedTabItem={source:""};var a=new n(e,i,o);o.$observe("hideNavigators",function(t){var e="true"!==t;a.setSlideNavigatorVisibility(e)}),t.registerEventHandlers(a,"reactive prechange postchange destroy"),e._slideNavigatorId=a._slideNavigatorId,i.data("hy-slide-navigator",a),t.declareVarAttribute(o,a),s(e,function(t){angular.element(i[0].querySelector(".hyc-navigator")).append(t)}),e.$on("$destroy",function(){a._events=void 0,i.data("hy-slide-navigator",void 0)}),t.fireComponentEvent(i[0],"init")}}}}])}(),function(){"use strict";function t(t){return{restrict:"EA",scope:{page:"@hyaPage",active:"@hyaActive",onActiveBefore:"&hyaOnActiveBefore",onActive:"&hyaOnActive",onActiveAfter:"&hyaOnActiveAfter"},compile:function(e,n){return e.addClass("hyc-navigator-item"),function(e,n,i,o,r){function s(t){if(t){var e=t.parent();if(e){var n=e[0].scrollLeft,i=t[0].offsetLeft-n;if(0!=i){if(i<0)return void setImmediate(function(){e[0].scrollLeft=n+i});var o=window.getComputedStyle(e[0],null).getPropertyValue("padding-right");o=parseInt(o);var r=e[0].clientWidth-o,s=t[0].offsetWidth;i>0&&i+s>r&&setImmediate(function(){e[0].scrollLeft=n+i+s-r})}}}}var a=n.inheritedData("hy-slide-navigator");if(!a)throw new Error("This hy-navigator element is must be child of hy-slide-navigator element.");e.disabled=!1,i.$observe("hyaDisabled",function(t){t="true"===t,e.disabled=t,t?n.addClass("hyc-navigator-disabled"):n.removeClass("hyc-navigator-disabled")}),e._slideElement=n,a.addNavigatorItem(e),e.setActive=function(){n.addClass("active")},e.setInactive=function(){n.removeClass("active")},e.isPersistent=function(){return void 0!==e.persistent};var l=a._navigatorItems.indexOf(e);e.isActive=function(){return n.hasClass("active")},e.tryToChange=function(){a.setActiveNavigator(l),e.onActive({$index:l,$event:e})},e.setNavigatorAction=function(t){if(!e.disabled){if(s(n),i.hasOwnProperty("hyaOnActiveBefore")&&!1===e.onActiveBefore({$index:l,$event:e}))return void e.$evalAsync();e.tryToChange(),e.onActiveAfter({$index:l,$event:e}),e.$evalAsync()}},n.on("click",function(t){e.setNavigatorAction(t)}),e.active&&"false"!==e.active&&a.setActiveNavigator(l),t.fireComponentEvent(n[0],"init")}}}}var e=angular.module("onsen");e.directive("hyNavigator",t),e.directive("hySlideNavigatorItem",t),t.$inject=["$onsen"]}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyStringToHtml",function(){return{restrict:"E",scope:{stringToHtml:"=hyaString2html"},compile:function(t,e){return{pre:function(t,e,n){if(""!=t.stringToHtml){var i=angular.element(t.stringToHtml);e.append(i)}else console.log("String");t.$watch("stringToHtml",function(){e.empty();var n=angular.element(t.stringToHtml);e.append(n)})},post:function(){}}}}})}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("HySuspendedToolView",["$onsen","$parse",function(t,e){var n=Class.extend({POSITION_TOP_LEFT:"top-left",POSITION_TOP_RIGHT:"top-right",POSITION_BOTTOM_LEFT:"bottom-left",POSITION_BOTTOM_RIGHT:"bottom-right",init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n,this._dragElement=this._createDragElement(),this._createEventListeners(),this.boundaryHide=this._attrs.hyBoundaryHide,this._scope.$on("$destroy",this._destroy.bind(this))},_createDragElement:function(){var t=this._element.addClass("hyc-suspended-tool"),e=this._getInitOffset(),n=e?e.horizontal:null,i=e?e.vertical:null,o=e?{}:null;switch(this._getInitPosition()){case this.POSITION_TOP_LEFT:o&&(o.top=i,o.left=n);break;case this.POSITION_TOP_RIGHT:t.addClass("tool-right"),o&&(o.top=i,o.right=n);break;case this.POSITION_BOTTOM_RIGHT:t.addClass("tool-right"),t.addClass("tool-bottom"),o&&(o.bottom=i,o.right=n);break;case this.POSITION_BOTTOM_LEFT:t.addClass("tool-bottom"),o&&(o.bottom=i,o.left=n)}return o&&t.css(o),t},_getInitPosition:function(){var t=this._attrs.position;return t?(t=t.toLowerCase(),t.indexOf("right")>=0&&t.indexOf("bottom")>=0?this.POSITION_BOTTOM_RIGHT:t.indexOf("right")>=0?this.POSITION_TOP_RIGHT:t.indexOf("bottom")>=0?this.POSITION_BOTTOM_LEFT:this.POSITION_TOP_LEFT):this.POSITION_TOP_LEFT},_getInitOffset:function(){var t=this._attrs.offset;if(!t)return null;var e=t.toLowerCase().trim().split(/\s+/),n=e.length>0?e[0]:"0px";return{horizontal:e.length>1?e[1]:n,vertical:n}},_setDragPosition:function(t){var e=t.callback||function(){},n=this._dragElement,i=t.top||0,o=t.left||0;if(!t.animit)return n.css({top:i+"px",left:o+"px",right:"auto",bottom:"auto"}),void e.call(this);animit(n[0]).queue({top:i+"px",left:o+"px",right:"auto",bottom:"auto"},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(e)},_onDrag:function(t){if(!this.isDisabled()){var e=this._startPosition.top+t.deltaY,n=this._startPosition.left+t.deltaX,i=this._overflowLimitTop(e),o=this._overflowLimitLeft(n);if(!i||!o){i&&(e=this._dragElement[0].offsetTop),o&&(n=this._dragElement[0].offsetLeft),this._setDragPosition({top:e,left:n});var r=angular.extend({},t);r.target=this._dragElement[0],r.type="drag",this._scope.drag({$event:r}),this._scope.$evalAsync()}}},_getMaxTop:function(){return this._dragElement.parent()[0].clientHeight-this._dragElement[0].clientHeight},_getMaxLeft:function(){return this._dragElement.parent()[0].clientWidth-this._dragElement[0].clientWidth},_overflowLimitTop:function(t){var e=this._getMaxTop();return t<0||t>e},_overflowLimitLeft:function(t){var e=this._getMaxLeft();return t<0||t>e},_overflowLimit:function(t,e){return this._overflowLimitTop(t)||this._overflowLimitLeft(e)},_onDragStart:function(t){if(!this.isDisabled()){this._startPosition=this._getCurrentPosition();var e=angular.extend({},t);e.target=this._dragElement[0],e.type="drag-start",this._scope.dragStart({$event:e}),this._scope.$evalAsync()}},_onDragEnd:function(t){if(!this.isDisabled()){var e=this._startPosition.top+t.deltaY,n=this._startPosition.left+t.deltaX,i=this._element[0].clientHeight,o=this._element[0].clientWidth,r=this._getMaxTop(),s=this._getMaxLeft();e<0&&(e=-i/2),n<0&&(n=-o/2),e>r&&(e=r+i/2),n>s&&(n=s+o/2);var a=function(){this._startPosition=null;var e=angular.extend({},t);e.target=this._dragElement[0],e.type="drag-end",this._scope.dragEnd({$event:e}),this._scope.$evalAsync()}.bind(this);this._setDragPosition({top:e,left:n,animit:!0,callback:a})}},_getTop:function(){return parseInt(this._dragElement[0].offsetTop||0,10)},_getLeft:function(){return parseInt(this._dragElement[0].offsetLeft||0,10)},_getCurrentPosition:function(){return{top:this._getTop(),left:this._getLeft()}},isDisabled:function(){return this._element[0].hasAttribute("disabled")},setDisabled:function(t){t?this._element[0].setAttribute("disabled",""):this._element[0].removeAttribute("disabled")},hide:function(){this._element.css("display","none")},show:function(){this._element.css("display","block")},_createEventListeners:function(){var t=this._dragElement;this._hammer=new Hammer(t[0],{dragMinDistance:1,dragDistanceCorrection:!1}),this._bindedOnDrag=this._onDrag.bind(this),this._bindedOnDragStart=this._onDragStart.bind(this),this._bindedOnDragEnd=this._onDragEnd.bind(this),this._hammer.on("pan",this._bindedOnDrag),this._hammer.on("panstart",this._bindedOnDragStart),this._hammer.on("panend",this._bindedOnDragEnd)},_destroyEventListeners:function(){this._hammer.off("pan",this._bindedOnDrag),this._hammer.off("panstart",this._bindedOnDragStart),this._hammer.off("panend",this._bindedOnDragEnd)},_destroy:function(){this.emit("destroy"),this._destroyEventListeners(),this._element=this._scope=this._attrs=null}});return MicroEvent.mixin(n),n}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hySuspendedTool",["$onsen","HySuspendedToolView",function(t,e){return{restrict:"EA",replace:!1,scope:{dragStart:"&hyaDragStart",drag:"&hyaDrag",dragEnd:"&hyaDragEnd"},compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-suspended-tool",r),n.$on("$destroy",function(){r._events=void 0,i.data("hy-suspended-tool",void 0),n=i=o=null})},post:function(e,n){t.fireComponentEvent(n[0],"init")}}}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("hyFloatActionButtonView",["$onsen","$parse",function(t,e){var n=Class.extend({init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n;this._model_mask=angular.element('<div class="hy-actions-modal-overlay"></div>'),this.buttonbody=angular.element(this._element[0].querySelector(".speed-dial")),this.popover=this.buttonbody.find("div"),this.onspage=angular.element(this._findPage()),this._scope.$on("$destroy",this._destroy.bind(this)),console.log(this.buttonbody),console.log(this._model_mask),this.button=angular.element(this.buttonbody),this.onspage.append(this.button),this.onspage.append(angular.element(this._model_mask)),this._scope.buttoncolor=this._scope.buttoncolor?this._scope.butttoncolor:"blue",this._scope.iconshow="add",null!=this._scope.iconhide&&""!=this._scope.iconhide?(console.log("true"),this.buttonbody.find("div").removeClass("popover"),this.buttonbody.find("div").addClass("popover2"),this._scope.showList=angular.bind(this,this._showlist)):(console.log("false"),this._scope.showList=angular.bind(this,this._showlist1))},_showlist:function(){var t=this;this._model_mask[0].addEventListener("click",angular.bind(this,this.hide)),this.popover.css("display","flex"),this.popover.css("opacity","0"),setTimeout(function(){t.buttonbody.toggleClass("speed-dial-opened")},1),this._model_mask.toggleClass("hy-modal-overlay-visible")},_showlist1:function(){var t=this;this._model_mask[0].addEventListener("click",angular.bind(this,this.hide)),this.popover.css("display","block"),this.popover.css("opacity","0"),this.popover.css("border-radius","50%"),this.buttonbody.toggleClass("speed-dial-opened2"),setTimeout(function(){t.buttonbody.find("div").toggleClass("speed-dial-opened2")},1),this._model_mask.toggleClass("hy-modal-overlay-visible")},hide:function(){var t=this;null!=this._scope.iconhide&&""!=this._scope.iconhide?(this._model_mask.removeClass("hy-modal-overlay-visible"),this.buttonbody.removeClass("speed-dial-opened"),this.buttonbody.find("div").removeClass("speed-dial-opened"),console.log(this.buttonbody.find("div").find("button")),setTimeout(function(){t.buttonbody.find("div").css("display","none")},400)):(this._model_mask.removeClass("hy-modal-overlay-visible"),this.buttonbody.removeClass("speed-dial-opened2"),this.buttonbody.find("div").removeClass("speed-dial-opened2"),setTimeout(function(){t.buttonbody.find("div").css("display","none")},400))},_findPage:function(){for(var t=this._element[0];t.parentNode;)if(t=t.parentNode,t.className){if(t.className.indexOf("body")>=0){console.log(t.className);break}if(t.className.indexOf("page")>=0){console.log(t.className);break}}return t},_destroy:function(){this.button.remove(),this._scope=this._attrs=this._element=this.onspage=null,this.emit("destroy")}});return MicroEvent.mixin(n),n}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyFloatActionButton",["$onsen","hyFloatActionButtonView",function(t,e){function n(t,e,n){return'<div class="speed-dial"  ><a  ng-click="showList()" class="floating-button " style="transition-property:all;background-color: {{buttoncolor}}" hy-ink-ripple="blue"><hy-icon  hy-font-icon="{{iconshow}}" class="f7ios-icons" ></hy-icon><hy-icon ng-if="!!iconhide" class="f7ios-icons" hy-font-icon="{{iconhide}}"></hy-icon></a><div class="popover" style=" display:none;transition-property:all;" ng-transclude></div></div>'}return{restrict:"E",template:n,transclude:!0,scope:{iconshow:"@",iconhide:"@",buttoncolor:"@"},compile:function(n,i){return function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),console.log(n.iconhide),i.data("hy-float-action-button",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-float-action-button",void 0),i=null}),t.fireComponentEvent(i[0],"init")}}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.factory("SwipeView",["$onsen","$hyUtil",function(t,e){var n=Class.extend({showState:11,leftWidth:null,centerWidth:null,init:function(t,n,i){this._scope=t,this._element=n,this._attrs=i,this._$hyUtil=e,this._swipeWrapper=angular.element(n[0].querySelector(".swipe-wrapper")),this._swipeLeft=angular.element(n[0].querySelector(".hy-swipe-left")),this._swipeLeftWidth=this._swipeLeft[0]?this._swipeLeft[0].offsetWidth:0,this._swipeCenter=angular.element(n[0].querySelector(".hy-swipe-center")),this._swipeCenterWidth=this._swipeCenter[0].offsetWidth,this._swipeRight=angular.element(n[0].querySelector(".hy-swipe-right")),this._swipeRightWidth=this._swipeRight[0]?this._swipeRight[0].offsetWidth:0,this._addEventListener(),this._bindedLayoutCarouselItems=this._resizeLayoutCarouselItem.bind(this)},_resizeLayoutCarouselItem:function(){var t=this._element[0].querySelector(".hy-swipe-left"),e=this.leftWidth?this.leftWidth:t?t.offsetWidth:0;this.leftWidth=e,angular.element(t).css("transform","translateX("+(0-e)+"px)"),angular.element(t).css("webkitTransform","translateX("+(0-e)+"px)");var n=this._element[0].querySelector(".hy-swipe-center"),i=this.centerWidth?this.centerWidth:n.offsetWidth;this.centerWidth=i;var o=this._element[0].querySelector(".hy-swipe-right");o&&o.offsetWidth;angular.element(o).css("transform","translateX("+i+"px)"),angular.element(o).css("webkitTransform","translateX("+i+"px)")},_destroy:function(){},hide:function(){this._swipeWrapper.css("transform","translateX(0px)"),this._swipeWrapper.css("webkitTransform","translateX(0px)"),this.showState=11},_addEventListener:function(){function t(t){s=!0,l=u="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,c=h="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,d=(new Date).getTime(),b=!0,y=void 0,this._swipeRight=angular.element(this._element[0].querySelector(".hy-swipe-right")),this._swipeRightWidth=this._swipeRight[0]?this._swipeRight[0].offsetWidth:0,this._swipeLeft=angular.element(this._element[0].querySelector(".hy-swipe-left")),this._swipeLeftWidth=this._swipeLeft[0]?this._swipeLeft[0].offsetWidth:0}function e(t){if(s){if(u="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,h="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===y&&(y=!!(y||Math.abs(h-c)>Math.abs(u-l))),y)return void(s=!1);t.preventDefault(),b=!1,a||(a=!0,f=this._swipeWrapper[0].offsetWidth,m=this._swipeWrapper[0].offsetHeight,this._swipeWrapper.css("transition","0ms"),this._swipeWrapper.css("webkitTransition","0ms")),t.preventDefault(),v=u-l,v>0?12===this.showState&&v<=this._swipeRightWidth?(this._swipeWrapper.css("transform","translateX("+(-this._swipeRightWidth+v)+"px)"),this._swipeWrapper.css("webkitTransform","translateX("+(-this._swipeRightWidth+v)+"px)")):11===this.showState&&v<=this._swipeLeftWidth&&(this._swipeWrapper.css("transform","translateX("+v+"px)"),this._swipeWrapper.css("webkitTransform","translateX("+v+"px)")):v<0&&(10===this.showState&&-v<=this._swipeLeftWidth?(this._swipeWrapper.css("transform","translateX("+(this._swipeLeftWidth+v)+"px)"),this._swipeWrapper.css("webkitTransform","translateX("+(this._swipeLeftWidth+v)+"px)")):11===this.showState&&-v<=this._swipeRightWidth&&(this._swipeWrapper.css("transform","translateX("+v+"px)"),this._swipeWrapper.css("webkitTransform","translateX("+v+"px)")))}}function n(t){if(v>0?(w=0,g=(v>this._swipeLeftWidth?this._swipeLeftWidth:v)/this._swipeLeftWidth,_=(v>this._swipeRightWidth?this._swipeRightWidth:v)/this._swipeRightWidth):0==v?w=1:v<0&&(w=2,g=(-v>this._swipeLeftWidth?this._swipeLeftWidth:-v)/this._swipeLeftWidth,_=(-v>this._swipeRightWidth?this._swipeRightWidth:-v)/this._swipeRightWidth),!s||!a)return void(s=a=!1);s=a=!1,this._swipeWrapper.css("transition","300ms"),this._swipeWrapper.css("webkitTransition","300ms"),p=(new Date).getTime(),0===w?12===this.showState&&_>.5?i(this):12===this.showState&&_<.5?o(this):11===this.showState&&g>.5?r(this):11===this.showState&&g<.5&&i(this):2===w&&(10===this.showState&&g>.5?i(this):10===this.showState&&g<.5?r(this):11===this.showState&&_>.5?o(this):11===this.showState&&_<.5&&i(this)),setTimeout(function(){b=!0},100)}function i(t){t._swipeWrapper.css("transform","translateX(0px)"),t._swipeWrapper.css("webkitTransform","translateX(0px)"),t.showState=11}function o(t){t._swipeWrapper.css("transform","translateX("+-t._swipeRightWidth+"px)"),t._swipeWrapper.css("webkitTransform","translateX("+-t._swipeRightWidth+"px)"),t.showState=12}function r(t){t._swipeWrapper.css("transform","translateX("+t._swipeLeftWidth+"px)"),t._swipeWrapper.css("webkitTransform","translateX("+t._swipeLeftWidth+"px)"),t.showState=10}var s,a,l,c,u,h,d,p,f,m,g,_,v,y,b=!0,w=1;this._swipeWrapper.on(this._$hyUtil.gettouchEvent().start,angular.bind(this,t)),this._swipeWrapper.on(this._$hyUtil.gettouchEvent().move,angular.bind(this,e)),this._swipeWrapper.on(this._$hyUtil.gettouchEvent().end,angular.bind(this,n))}});return MicroEvent.mixin(n),n}]),window._hySwiperLeftValue=null,window._hySwiperCenterValue=null,window._hySwiperRightValue=null,t.directive("hySwipe",["$onsen","SwipeView",function(t,e){return{restrict:"E",compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-swipe",r),n.$on("$destroy",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-swipe",void 0),i=null})
;var s=i[0].querySelector(".hy-swipe-left"),a=_hySwiperLeftValue||(s?s.offsetWidth:0);_hySwiperLeftValue=a,angular.element(s).css("transform","translateX("+(0-a)+"px)"),angular.element(s).css("webkitTransform","translateX("+(0-a)+"px)");var l=i[0].querySelector(".hy-swipe-center"),c=_hySwiperCenterValue||l.offsetWidth;_hySwiperCenterValue=c;var u=i[0].querySelector(".hy-swipe-right"),h=_hySwiperRightValue||(u?u.offsetWidth:0);_hySwiperRightValue=h,angular.element(u).css("transform","translateX("+c+"px)"),angular.element(u).css("webkitTransform","translateX("+c+"px)")},post:function(t,e,n){}}}}}])}(),function(){"use strict";function t(){var t={};return t.styleArray=[],t._put=function(e,n,i){var o={};o.key=e,o.className=n,o.styleNode=i,t.styleArray.push(o)},t._get=function(e){for(var n=0;n<t.styleArray.length;n++)if(t.styleArray[n].key===e)return t.styleArray[n];return{}},t._hasContent=function(e){for(var n=!1,i=0;i<t.styleArray.length;i++)t.styleArray[i].key===e&&(n=!0);return n},t.createStyle=function(e,n){if(null!==e&&void 0!==e&&""!==e)if(t._hasContent(e)){var i=t._get(e);n.addClass(i.className)}else if(e.indexOf(",")>0){var o=e.split(","),r="hy-switch-label-"+t.styleArray.length,s="hy-switch:not(.hy-android).hy-switch-label."+r+' .hy-container:before {content: "'+o[0]+'";}  hy-switch:not(.hy-android).hy-switch-label.'+r+' .hy-bar:before {content: "'+o[1]+'";}',a=document.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=s:a.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(a),n.addClass(r),t._put(e,r,a)}},t}function e(t,e,n,i){function o(t,o){var s=r.compile(t,o).post;if(o.hasOwnProperty("hyaDisplayValue")){var a=o.hyaDisplayValue?o.hyaDisplayValue:"";i.createStyle(a,t),t.addClass("hy-switch-label")}return function(t,i,o,r){r=r||e.fakeNgModel();var a=null;null!=o.disabled?a=function(){return!0}:o.ngDisabled&&(a=n(o.ngDisabled)),s(t,i,o,r),a&&t.$watch(a,function(t){i.attr("tabindex",t?-1:0)})}}var r=t[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="hy-container"><div class="hy-bar"></div><div class="hy-thumb-container"><div class="hy-thumb"></div></div></div><div ng-transclude class="hy-label"></div>',require:"?ngModel",compile:o}}e.$inject=["hyCheckboxDirective","$hyUtil","$parse","$hySwitch"];var n=null;try{n=angular.module("haiyiMobile")}catch(t){n=angular.module("haiyiMobile",["onsen"])}n.factory("$hySwitch",t).directive("hySwitch",e)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyTaphold",["$hyUtil",function(t){return{restrict:"A",scope:{tapHoldFunc:"&hyTaphold"},compile:function(e){return function(e,n,i){function o(t){a&&clearTimeout(a),a=setTimeout(function(){t&&t.touches&&t.touches.length>1||(t.preventDefault(),e.tapHoldFunc())},1e3)}function r(t){a&&clearTimeout(a)}function s(t){a&&clearTimeout(a)}n.on(t.gettouchEvent().start,angular.bind(this,o)),n.on(t.gettouchEvent().move,angular.bind(this,r)),n.on(t.gettouchEvent().end,angular.bind(this,s));var a}}}}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile","$onsen")}t.directive("hyTimeAxis",["$onsen","TimeAxisView",function(t,e){function n(t,e){return'<ul><li  class="layout-row layout-align-start hy-Time-Axis-li" ng-repeat="news in newslist" style=" color: {{news.color}};font-size: {{hyTextSize}} ;"><div ng-class="{\'hy-TimeAxis-button1\':news.role,\'hy-TimeAxis-button2\':!(news.role),\'hy-TimeAxis-up1\':$first,\'hy-TimeAxis-up\':!($first)}" ></div><div class="hy-TimeAxis-img1" ></div><div  ng-class="{\'hy-TimeAxis-top1\':news.role,\'hy-TimeAxis-top2\':!(news.role)}"><div><span ng-if="news.city">[{{news.city}}]<span></span>{{news.html}}</span></div> <div class="hy-TimeAxis-divbottom" >{{news.time}}</div><div class="hy-TimeAxis-img2"></div></div></li> </ul>'}return{restrict:"E",template:n,transclude:!0,scope:{hyTextSize:"@hyTestSize",hyPageList:"=hyPageList"},compile:function(n,i){return function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-TimeAxis",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-TimeAxis",void 0),i=null}),t.fireComponentEvent(i[0],"init")}}}}]),t.factory("TimeAxisView",["$onsen","$q",function(t,e){var n=Class.extend({init:function(t,e,n){this._scope=t,this._element=e,this._attrs=n;var i=this;this._scope.hyTextSize=this._scope.hyTextSize?this._scope.hyTextSize:15,this._scope.$watch("hyPageList",function(){i._initPageList()})},_show:function(){},_initPageList:function(){if(this._scope.hyPageList&&this._scope.hyPageList.length>0){this.size=this._scope.hyPageList.length,this._scope.newslist=[];for(var t=0;t<this.size;t++){var e={};this._scope.hyPageList[t].hasOwnProperty("html")||(this._scope.hyPageList[t].html=""),this._scope.hyPageList[t].hasOwnProperty("color")||(this._scope.hyPageList[t].role?this._scope.hyPageList[t].color="green":this._scope.hyPageList[t].color="gray"),e=this._scope.hyPageList[t],this._scope.newslist.push(e)}}}});return MicroEvent.mixin(n),n}])}(),function(){"use strict";function t(){var t=Class.extend({init:function(t,e,n){this._element=e,this._scope=t,this._attrs=n}});return MicroEvent.mixin(t),t}function e(t,e){function n(t,e){return'<div class="hy-timeline-content"><div class="hy-timeline-content-inner" ng-transclude></div><div class="hy-timeline-content-line " ng-class="{end:isLast}"></div><div class="hy-timeline-content-pointer " ng-class="{start:isStart}"></div><div class="hy-timeline-content-border" ng-hide="isStart"><div class="divider"></div></div></div>'}return{restrict:"E",template:n,transclude:!0,scope:{isLast:"=isLast",isStart:"=isStart"},compile:function(n,i){return function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(o,r),i.data("hy-time-line",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-time-line",void 0),i=null}),t.fireComponentEvent(i[0],"init")}}}}e.$inject=["$onsen","TimeLineView"];var n=null;try{n=angular.module("haiyiMobile")}catch(t){n=angular.module("haiyiMobile",["onsen"])}n.factory("TimeLineView",t).directive("hyTimeLine",e)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyTimer",["$onsen","TimerView",function(t,e){function n(t,e){return'<div class="hy-timer-pane"><div class="hy-timer-toolbar"><div class="hy-timer-toolbar-innner"><div class="hy-timer-inner-span"><span class="hy-timer-hour-button" ng-click="hourClick()" >{{displayHours}}</span></div><div class="hy-timer-inner-span"><span>:</span></div><div class="hy-timer-inner-span"><span class="hy-timer-minutes-button" ng-click="minuteClick()">{{displayMinutes}}</span></div></div></div><div class="hy-timer-inner"><div class="hy-timer-wrapper"><div class="hy-timer-back-circle"></div><div class="hy-timer-circle-content"></div></div></div></div>'}return{restrict:"E",template:n,scope:{inline:"@hyaInline",dateValue:"=hyaDateValue",dateChange:"&hyaDateChange"},compile:function(n,i){return{pre:function(n,i,o){var r=new e(n,i,o);t.declareVarAttribute(r),i.data("hy-timer",r),n.$on("destory",function(){r._events=void 0,t.removeModifierMethods(r),i.data("hy-timer",void 0),i=null})},post:function(e,n,i){t.fireComponentEvent(n[0],"init")}}}}}]),t.factory("TimerView",["$onsen","$q","$hyDateUtil","$hyUtil",function(t,e,n,i){var o=[[0,5],[54.5,16.6],[94.4,59.5],[109,114],[94.4,168.5],[54.5,208.4],[0,223],[-54.5,208.4],[-94.4,168.5],[-109,114],[-94.4,59.5],[-54.5,19.6]],r=[[0,42],[37.9,50.9],[63,79],[74,116],[64,151],[37,178],[0,190],[-37,178],[-64,151],[-74,116],[-63,79],[-37.9,50.9]],s=80,a=Class.extend({init:function(t,e,o){this._scope=t,this._element=e,this._attrs=o,this._$hyDateUtil=n,this._$hyUtil=i,"true"===this._scope.inline&&angular.element(this._element[0].querySelector(".hy-timer-pane")).addClass("hy-timer-pane-inline"),this._initDisplayTime(),this._clickContent=angular.element(this._element[0].querySelector(".hy-timer-circle-content")),this._hourButton=angular.element(this._element[0].querySelector(".hy-timer-hour-button")),this._minutesButton=angular.element(this._element[0].querySelector(".hy-timer-minutes-button")),this._initHourClick(),this._isHours=!0,this._minutesButton.addClass("no-active");var r=this;this._scope.hourClick=function(){r._isHours=!0,r._initHourClick(),r._minutesButton.addClass("no-active"),r._hourButton.removeClass("no-active")},this._scope.minuteClick=function(){r._isHours=!1,r._initMinuteClick(),r._hourButton.addClass("no-active"),r._minutesButton.removeClass("no-active")},this._scope.$watch("dateValue",function(){r._initDisplayTime(),r._initHourClick(),r._isHours=!0,r._minutesButton.addClass("no-active"),r._hourButton.removeClass("no-active")}),this._addEventListener()},_initDisplayTime:function(){void 0===this._scope.dateValue||"undefined"===this._scope.dateValue||null===this._scope.dateValue?(this._scope.displayHours="00",this._scope.hours=0,this._scope.displayMinutes="00",this._scope.minutes=0):(this._scope.hours=this._scope.dateValue.getHours(),this._scope.minutes=this._scope.dateValue.getMinutes(),this._scope.displayHours=this._scope.dateValue.getHours()>9?this._scope.dateValue.getHours():"0"+this._scope.dateValue.getHours(),this._scope.displayMinutes=this._scope.dateValue.getMinutes()>9?this._scope.dateValue.getMinutes():"0"+this._scope.dateValue.getMinutes())},_updateDisplayTime:function(t,e){this._scope.displayHours=t,this._scope.displayMinutes=e},_initHourClick:function(){var t=angular.element('<div class="hy-timer-click-pointer"><div class="hy-timer-click-pointer-drop"></div></div>');this._clickContent.empty(),this._clickContent.append(t);for(var e=0;e<12;e++){var n=e;0===e&&(n=12);var i=this._buildCell("out",n,o[e]);i.addClass("hy-click-out-"+e),n===this._scope.hours&&(i.addClass("select"),angular.element(this._clickContent[0].querySelector(".hy-timer-click-pointer")).css("transform","rotateZ("+30*e+"deg)"),angular.element(this._clickContent[0].querySelector(".hy-timer-click-pointer")).css("webkitTransform","rotateZ("+30*e+"deg)")),this._clickContent.append(i)}for(var s=0;s<12;s++){var n=s;0!==s&&(n=12+s);var i=this._buildCell("in",n,r[s]);i.addClass("hy-click-in-"+s),n===this._scope.hours&&(i.addClass("select"),angular.element(this._clickContent[0].querySelector(".hy-timer-click-pointer")).css("transform","rotateZ("+30*s+"deg)"),angular.element(this._clickContent[0].querySelector(".hy-timer-click-pointer")).css("webkitTransform","rotateZ("+30*s+"deg)"),angular.element(this._clickContent[0].querySelector(".hy-timer-click-pointer")).addClass("hy-pointer-inner")),this._clickContent.append(i)}},_initMinuteClick:function(){var t=angular.element('<div class="hy-timer-click-pointer"><div class="hy-timer-click-pointer-drop"></div></div>');this._clickContent.empty(),this._clickContent.append(t);for(var e=0;e<12;e++){var n=5*e,i=this._buildCell("out",n,o[e]);i.addClass("hy-click-min-"+e),n===this._scope.minutes&&i.addClass("select"),this._clickContent.append(i)}angular.element(this._clickContent[0].querySelector(".hy-timer-click-pointer")).css("transform","rotateZ("+6*this._scope.minutes+"deg)"),angular.element(this._clickContent[0].querySelector(".hy-timer-click-pointer")).css("webkitTransform","rotateZ("+6*this._scope.minutes+"deg)")},_buildCell:function(t,e,n){var i=angular.element("<span>");return"in"===t?i.addClass("hy-timer-click-hour-in"):i.addClass("hy-timer-click-hour-out"),i.css("transform","translate("+n[0]+"px, "+n[1]+"px)"),i.css("webkitTransform","translate("+n[0]+"px, "+n[1]+"px)"),i.text(e),i},_upateMinutes:function(t){var e=t/5;(angular.element(this._clickContent[0].querySelector(".select")).removeClass("select"),t%5==0)&&angular.element(this._clickContent[0].querySelector(".hy-click-min-"+e)).addClass("select");this._scope.displayMinutes=t<=9?"0"+t:t,this._scope.minutes=t},_upateHours:function(t,e){var n=angular.element(this._clickContent[0].querySelector(".hy-click-"+t+"-"+e));angular.element(this._clickContent[0].querySelector(".select")).removeClass("select"),n.addClass("select"),"out"===t?(angular.element(this._clickContent[0].querySelector(".hy-timer-click-pointer")).removeClass("hy-pointer-inner"),0===e?(this._scope.displayHours=12,this._scope.hours=12):(this._scope.displayHours=e<=9?"0"+e:e,this._scope.hours=e)):(angular.element(this._clickContent[0].querySelector(".hy-timer-click-pointer")).addClass("hy-pointer-inner"),0===e?(this._scope.displayHours="00",this._scope.hours=0):(this._scope.displayHours=e+12,this._scope.hours=e+12))},_addEventListener:function(){function t(){a=Math.sqrt(o.offsetX*o.offsetX+o.offsetY*o.offsetY);var t=Math.acos(o.offsetY/a)/Math.PI*180;o.offsetX<0&&(t=360-t),h._isHours?12===(d=Math.round(t/30))&&(d=0):60===(d=Math.round(t/6))&&(d=0)}function e(e){l=!0;e.target;r=h._clickContent[0].getBoundingClientRect(),c="touchstart"===e.type?e.targetTouches[0].clientX:e.clientX,u="touchstart"===e.type?e.targetTouches[0].clientY:e.clientY,o={offsetX:c-r.left-130,offsetY:140-(u-r.top)},e.stopPropagation(),t()}function n(e){l&&(c="touchmove"===e.type?e.targetTouches[0].clientX:e.clientX,u="touchmove"===e.type?e.targetTouches[0].clientY:e.clientY,o={offsetX:c-r.left-130,offsetY:140-(u-r.top)},e.preventDefault(),t(),h._isHours?(angular.element(h._clickContent[0].querySelector(".hy-timer-click-pointer")).css("transform","rotateZ("+30*d+"deg)"),angular.element(h._clickContent[0].querySelector(".hy-timer-click-pointer")).css("webkitTransform","rotateZ("+30*d+"deg)"),a>s?h._scope.$apply(h._upateHours("out",d)):h._scope.$apply(h._upateHours("in",d))):(angular.element(h._clickContent[0].querySelector(".hy-timer-click-pointer")).css("transform","rotateZ("+6*d+"deg)"),angular.element(h._clickContent[0].querySelector(".hy-timer-click-pointer")).css("webkitTransform","rotateZ("+6*d+"deg)"),h._scope.$apply(h._upateMinutes(d))))}function i(t){l=!1,t.stopPropagation(),h._isHours?(angular.element(h._clickContent[0].querySelector(".hy-timer-click-pointer")).css("transform","rotateZ("+30*d+"deg)"),angular.element(h._clickContent[0].querySelector(".hy-timer-click-pointer")).css("webkitTransform","rotateZ("+30*d+"deg)"),a>s?h._scope.$apply(h._upateHours("out",d)):h._scope.$apply(h._upateHours("in",d))):(angular.element(h._clickContent[0].querySelector(".hy-timer-click-pointer")).css("transform","rotateZ("+6*d+"deg)"),angular.element(h._clickContent[0].querySelector(".hy-timer-click-pointer")).css("webkitTransform","rotateZ("+6*d+"deg)"),h._scope.$apply(h._upateMinutes(d))),h._isHours?(h._isHours=!1,h._initMinuteClick(),h._hourButton.addClass("no-active"),h._minutesButton.removeClass("no-active")):h._scope.$apply(function(){void 0===h._scope.dateValue||null===h._scope.dateValue||"undefined"===h._scope.dateValue?h._scope.dateValue=new Date((new Date).setHours(h._scope.hours,h._scope.minutes,0,0)):h._scope.dateValue=new Date(h._scope.dateValue.setHours(h._scope.hours,h._scope.minutes,0,0)),h._scope.dateChange({date:h._scope.dateValue})})}var o,r,a,l,c,u,h=this,d=0;this._clickContent.on(this._$hyUtil.gettouchEvent().start,angular.bind(this,e)),this._clickContent.on(this._$hyUtil.gettouchEvent().move,angular.bind(this,n)),this._clickContent.on(this._$hyUtil.gettouchEvent().end,angular.bind(this,i))}});return MicroEvent.mixin(a),a}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("toolbarModal",["$hyUtil",function(t){return{restrict:"A",compile:function(t,e){return{}}}}])}(),function(){"use strict";function t(){return{controller:n,template:e,compile:function(t,e){t.addClass("hy-virtual-repeat-container").addClass(e.hasOwnProperty("hyOrientHorizontal")?"hy-orient-horizontal":"hy-orient-vertical")}}}function e(t){return'<div class="hy-virtual-repeat-scroller"><div class="hy-virtual-repeat-sizer"></div><div class="hy-virtual-repeat-offsetter">'+t[0].innerHTML+"</div></div>"}function n(t,e,n,i,o,r,s,a){this.$rootScope=i,this.$scope=r,this.$element=s,this.$attrs=a,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("hyOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("hyAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.hyAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.hyOffsetSize,10)||0,this.oldElementSize=null,this.$attrs.hyTopIndex?(this.bindTopIndex=n(this.$attrs.hyTopIndex),this.topIndex=this.bindTopIndex(this.$scope),angular.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,angular.bind(this,function(t){t!==this.topIndex&&this.scrollToIndex(t)}))):this.topIndex=0,this.scroller=s[0].querySelector(".hy-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".hy-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".hy-virtual-repeat-offsetter");var l=angular.bind(this,this.updateSize);t(angular.bind(this,function(){l();var t=e.debounce(l,10,null,!1),n=angular.element(o);this.size||t(),n.on("resize",t),r.$on("$destroy",function(){n.off("resize",t)}),r.$emit("$hy-resize-enable"),r.$on("$hy-resize",l)}))}function i(t){return{controller:o,priority:1e3,require:["hyVirtualRepeat","^^hyVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(e,n){var i=n.hyVirtualRepeat,o=i.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),r=o[1],s=t(o[2]),a=n.hyExtraName&&t(n.hyExtraName);return function(t,e,n,i,o){i[0].link_(i[1],o,r,s,a)}}}}function o(t,e,n,i,o,r,s,a){this.$scope=t,this.$element=e,this.$attrs=n,this.$browser=i,this.$document=o,this.$rootScope=r,this.$$rAF=s,this.onDemand=a.parseAttributeBoolean(n.hyOnDemand),this.browserCheckUrlChange=i.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=t.$eval(n.hyItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=angular.noop,this.blocks={},this.pooledBlocks=[],t.$on("$destroy",angular.bind(this,this.cleanupBlocks_))}function r(t){if(!angular.isFunction(t.getItemAtIndex)||!angular.isFunction(t.getLength))throw Error("When hy-on-demand is enabled, the Object passed to hy-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=t}n.$inject=["$$rAF","$hyUtil","$parse","$rootScope","$window","$scope","$element","$attrs"],o.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$hyUtil"],i.$inject=["$parse"];var s=null;try{s=angular.module("haiyiMobile")}catch(t){s=angular.module("haiyiMobile",["onsen"])}s.directive("hyVirtualRepeatContainer",t).directive("hyVirtualRepeat",i);n.prototype.register=function(t){this.repeater=t,angular.element(this.scroller).on("scroll wheel touchmove touchend",angular.bind(this,this.handleScroll_))},n.prototype.isHorizontal=function(){return this.horizontal},n.prototype.getSize=function(){return this.size},n.prototype.setSize_=function(t){var e=this.getDimensionName_();this.size=t,this.$element[0].style[e]=t+"px"},n.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},n.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())},n.prototype.getScrollSize=function(){return this.scrollSize},n.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},n.prototype.sizeScroller_=function(t){var e=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",t<1533917)this.sizer.style[e]=t+"px";else{this.sizer.style[e]="auto",this.sizer.style[n]="auto";var i=Math.floor(t/1533917),o=document.createElement("div");o.style[e]="1533917px",o.style[n]="1px";for(var r=0;r<i;r++)this.sizer.appendChild(o.cloneNode(!1));o.style[e]=t-1533917*i+"px",this.sizer.appendChild(o)}},n.prototype.autoShrink_=function(t){var e=Math.max(t,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&e!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||e<n)this.originalSize||(this.originalSize=this.size),this.setSize_(e);else if(null!==this.originalSize){this.unsetSize_();var i=this.originalSize;this.originalSize=null,i||this.updateSize(),this.setSize_(i||this.size)}this.repeater.containerUpdated()}},n.prototype.setScrollSize=function(t){var e=t+this.offsetSize;this.scrollSize!==e&&(this.sizeScroller_(e),this.autoShrink_(e),this.scrollSize=e)},n.prototype.getScrollOffset=function(){return this.scrollOffset},n.prototype.scrollTo=function(t){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=t,this.handleScroll_()},n.prototype.scrollToIndex=function(t){var e=this.repeater.getItemSize(),n=this.repeater.itemsLength;t>n&&(t=n-1),this.scrollTo(e*t)},n.prototype.resetScroll=function(){this.scrollTo(0)},n.prototype.handleScroll_=function(){var t=angular.element(document)[0],e="rtl"!=t.dir&&"rtl"!=t.body.dir;e||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var n=this.isHorizontal()?e?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(n===this.scrollOffset||n>this.scrollSize-this.size)){var i=this.repeater.getItemSize();if(i){var o=Math.max(0,Math.floor(n/i)-5),r=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||e?o*i:-o*i)+"px)";if(this.scrollOffset=n,this.offsetter.style.webkitTransform=r,this.offsetter.style.transform=r,this.bindTopIndex){var s=Math.floor(n/i);s!==this.topIndex&&s<this.repeater.getItemCount()&&(this.topIndex=s,this.bindTopIndex.assign(this.$scope,s),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},o.Block,o.prototype.link_=function(t,e,n,i,o){this.container=t,this.transclude=e,this.repeatName=n,this.rawRepeatListExpression=i,this.extraName=o,this.sized=!1,this.repeatListExpression=angular.bind(this,this.repeatListExpression_),this.container.register(this)},o.prototype.cleanupBlocks_=function(){angular.forEach(this.pooledBlocks,function(t){t.element.remove()})},o.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var t=this.getBlock_(0);t.element[0].parentNode||this.parentNode.appendChild(t.element[0]),this.itemSize=t.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=t,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},o.prototype.repeatListExpression_=function(t){var e=this.rawRepeatListExpression(t);if(this.onDemand&&e){var n=new r(e);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return e},o.prototype.containerUpdated=function(){if(!this.itemSize)return this.unwatchItemSize_&&this.unwatchItemSize_!==angular.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,function(t){t&&t.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest());this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,function(t,e){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(t,e)}))),this.updateIndexes_(),(this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof r&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items))},o.prototype.getItemSize=function(){return this.itemSize},o.prototype.getItemCount=function(){return this.itemsLength},o.prototype.virtualRepeatUpdate_=function(t,e){this.isVirtualRepeatUpdating_=!0;var n=t&&t.length||0,i=!1;if(this.items&&n<this.items.length&&0!==this.container.getScrollOffset()){this.items=t;var o=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(o)}if(n!==this.itemsLength&&(i=!0,this.itemsLength=n),this.items=t,(t!==e||i)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,i&&this.container.setScrollSize(n*this.itemSize),this.isFirstRender){this.isFirstRender=!1;var r=this.$attrs.hyStartIndex?this.$scope.$eval(this.$attrs.hyStartIndex):this.container.topIndex;this.container.scrollToIndex(r)}Object.keys(this.blocks).forEach(function(t){var e=parseInt(t,10);(e<this.newStartIndex||e>=this.newEndIndex)&&this.poolBlock_(e)},this),this.$browser.$$checkUrlChange=angular.noop;var s,a,l=[],c=[];for(s=this.newStartIndex;s<this.newEndIndex&&null==this.blocks[s];s++)a=this.getBlock_(s),this.updateBlock_(a,s),l.push(a);for(;null!=this.blocks[s];s++)this.updateBlock_(this.blocks[s],s);for(var u=s-1;s<this.newEndIndex;s++)a=this.getBlock_(s),this.updateBlock_(a,s),c.push(a);l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.$element[0].nextSibling),c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.blocks[u]&&this.blocks[u].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isVirtualRepeatUpdating_=!1},o.prototype.getBlock_=function(t){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var e;return this.transclude(angular.bind(this,function(n,i){e={element:n,new:!0,scope:i},this.updateScope_(i,t),this.parentNode.appendChild(n[0])})),e},o.prototype.updateBlock_=function(t,e){this.blocks[e]=t,(t.new||t.scope.$index!==e||t.scope[this.repeatName]!==this.items[e])&&(t.new=!1,this.updateScope_(t.scope,e),this.$rootScope.$$phase||t.scope.$digest())},o.prototype.updateScope_=function(t,e){t.$index=e,t[this.repeatName]=this.items&&this.items[e],this.extraName&&(t[this.extraName(this.$scope)]=this.items[e])},o.prototype.poolBlock_=function(t){this.pooledBlocks.push(this.blocks[t]),this.parentNode.removeChild(this.blocks[t].element[0]),delete this.blocks[t]},o.prototype.domFragmentFromBlocks_=function(t){var e=this.$document[0].createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element[0])}),e},o.prototype.updateIndexes_=function(){var t=this.items?this.items.length:0,e=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(t-e,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+e+5,this.newEndIndex=Math.min(t,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-5)},r.prototype.$$includeIndexes=function(t,e){for(var n=t;n<e;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()}}(),function(){"use strict";function t(t){function e(e,s,a){var l="";a.$observe("hyWhiteframe",function(e){(e=parseInt(e,10)||r)!=n&&(e>o||e<i)&&(t.warn("hy-whiteframe attribute value is invalid. It should be a number between "+i+" and "+o,s[0]),e=r);var c=e==n?"":"hy-whiteframe-"+e+"dp";a.$updateClass(c,l),l=c})}var n=-1,i=1,o=24,r=4;return{link:e}}t.$inject=["$log"];var e=null;try{e=angular.module("haiyiMobile")}catch(t){e=angular.module("haiyiMobile",["onsen"])}e.directive("hyWhiteframe",t)}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}t.directive("hyScroll",["$onsen","HyScrollView",function(t,e){return{restrict:"E",replace:!1,transclude:!0,scope:{pullDownOption:"=",pullDownLoad:"&",pullUpOption:"=",pullUpLoad:"&",direction:"@"},compile:function(n,i){n.addClass("hy-scroll").children().remove();return function(n,i,o,r,s){if(o.ngController)throw new Error('"hy-scroll" can\'t accept "ng-controller" directive.');var a=new e(n,i,o,s);t.declareVarAttribute(o,a),i.data("hy-scroll",a),n.$on("destory",function(){a._events=void 0,t.removeModifierMethods(a),i.data("hy-scroll",void 0),i=null}),t.fireComponentEvent(i[0],"init")}}}}]),t.factory("HyScrollView",["$onsen","$q",function(t,e){var n={autoRefresh:!1},i=Class.extend({init:function(t,e,i,o){this._element=e,this._scope=t,this._attrs=i,this._transclude=o,this._scope.direction=this._scope.direction||"Y",this._scope.pullDownOption=this._scope.pullDownOption||null,this._scope.pullUpOption=this._scope.pullUpOption||null,this._xsContainer=angular.element('<div class="xs-container"></div>'),this._xsContent=angular.element('<div class="xs-content"></div>'),this._xsContainer.append(this._xsContent),this._element.append(this._xsContainer),this.pullDownDone=angular.bind(this,this._pullDownDone),this.pullUpDone=angular.bind(this,this._pullUpDone),this.XScroll=null,this._transclude(t.$parent,function(t){this._xsContent.append(t),this._xsContent=null,setTimeout(function(){if("Y"==this._scope.direction){if(this.XScroll=new XScroll({renderTo:this._element[0],scrollbarX:!1,scrollbarY:!0,lockX:!0,lockY:!1}),null!=this._scope.pullDownOption){var t=angular.extend({},n,this._scope.pullDownOption);this.pullDown=new XScroll.Plugins.PullDown(t),this.XScroll.plug(this.pullDown),this.pullDown.on("loading",function(){this._scope.pullDownLoad?this._scope.pullDownLoad({$done:this.pullDownDone}):this.pullDownDone()}.bind(this))}if(null!=this._scope.pullUpOption){var e=angular.extend({},n,this._scope.pullUpOption);this.pullUp=new XScroll.Plugins.PullUp(e),this.XScroll.plug(this.pullUp),this.pullUp.on("loading",function(){this._scope.pullUpLoad?this._scope.pullUpLoad({$done:this.pullUpDone}):this.pullUpDone()}.bind(this))}}else this.XScroll=new XScroll({renderTo:this._element[0],scrollbarY:!1,lockX:!1,lockY:!0});this.XScroll.render()}.bind(this),100)}.bind(this))},_pullDownDone:function(){this.pullDown.reset()},_pullUpDone:function(){this.pullUp.complete()},pullUpDisable:function(){this.XScroll.unplug(this.pullUp)},pullUpEnable:function(){this.XScroll.plug(this.pullUp)}});return MicroEvent.mixin(i),i}])}(),function(){"use strict";var t=null;try{t=angular.module("haiyiMobile")}catch(e){t=angular.module("haiyiMobile",["onsen"])}var e=0;t.factory("$hyUtil",["$document","$timeout","$compile","$rootScope","$interpolate","$log",function(t,n,i,o,r,s){var a={getClosest:function(t,e,n){if(t instanceof angular.element&&(t=t[0]),e=e.toUpperCase(),n&&(t=t.parentNode),!t)return null;do{if(t.nodeName===e)return t}while(t=t.parentNode);return null},debounce:function(t,e,i,o){var r;return function(){var s=i,a=Array.prototype.slice.call(arguments);n.cancel(r),r=n(function(){r=void 0,t.apply(s,a)},e||10,o)}},fakeNgModel:function(){return{$fake:!0,$setTouched:angular.noop,$setViewValue:function(t){this.$viewValue=t,this.$render(t),this.$viewChangeListeners.forEach(function(t){t()})},$isEmpty:function(t){return 0===(""+t).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:angular.noop}},parseAttributeBoolean:function(t,e){return""===t||!!t&&(!1===e||"false"!==t&&"0"!==t)},validateScope:function(t){var e=t&&angular.isDefined(t.scope());return e||s.warn("element.scope()"),e},nextUid:function(){return""+e++},nextTick:function(t,e,i){function r(){var t=i&&i.$$destroyed,e=t?[]:s.queue,n=t?null:s.digest;s.queue=[],s.timeout=null,s.digest=!1,e.forEach(function(t){t()}),n&&o.$digest()}var s=a.nextTick,l=s.timeout,c=s.queue||[];return c.push(t),null==e&&(e=!0),s.digest=s.digest||e,s.queue=c,l||(s.timeout=n(r,0,!1))},valueOnUse:function(t,e,n){var i=null,o=Array.prototype.slice.call(arguments),r=o.length>3?o.slice(3):[];Object.defineProperty(t,e,{get:function(){return null===i&&(i=n.apply(t,r)),i}})},disableScrollAround:function(e,n){function i(t,e){for(var n in e)t.style[n]=e[n]}if(a.disableScrollAround._count=a.disableScrollAround._count||0,++a.disableScrollAround._count,
a.disableScrollAround._enableScrolling)return a.disableScrollAround._enableScrolling;e=angular.element(e);var o=t[0].body,r=function(){var t=o.parentNode,e=t.getAttribute("style")||"",n=o.getAttribute("style")||"",r=a.scrollTop(o),s=o.clientWidth;return o.scrollHeight>o.clientHeight&&(i(o,{position:"fixed",width:"100%",top:-r+"px"}),i(t,{overflowY:"scroll"})),o.clientWidth<s&&i(o,{overflow:"hidden"}),function(){o.setAttribute("style",n),t.setAttribute("style",e),o.scrollTop=r}}(),s=function(e){function n(t){}function i(t){t.preventDefault()}e=angular.element(e||o)[0];var r=angular.element('<div class="hy-scroll-mask" style="z-index: 50">  <div class="hy-scroll-mask-bar"></div></div>');return e.appendChild(r[0]),r.on("wheel",i),r.on("touchmove",i),t.on("keydown",n),function(){r.off("wheel"),r.off("touchmove"),r[0].parentNode.removeChild(r[0]),t.off("keydown",n),delete a.disableScrollAround._enableScrolling}}(n);return a.disableScrollAround._enableScrolling=function(){--a.disableScrollAround._count||(r(),s(),delete a.disableScrollAround._enableScrolling)}},enableScrolling:function(){var t=this.disableScrollAround._enableScrolling;return t&&t()},scrollTop:function(e){e=angular.element(e||t[0].body);var n=e[0]==t[0].body?t[0].body:void 0;return(n?n.scrollTop+n.parentElement.scrollTop:0)||Math.abs(e[0].getBoundingClientRect().top)},gettouchEvent:function(){return{start:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?"touchstart":"mousedown",move:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?"touchmove":"mousemove",end:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?"touchend":"mouseup"}},ajax:function(t){function e(e){var n=arguments;e&&t[e]&&t[e](n[1],n[2],n[3],n[4])}var n={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0};for(var i in n)void 0===t[i]&&(t[i]=n[i]);t.url||(t.url=window.location.toString());var o=t.method.toUpperCase(),r=new XMLHttpRequest;r.open(o,t.url,t.async,t.user,t.password);var s;return r.onload=function(n){if(s&&clearTimeout(s),r.status>=200&&r.status<300||0===r.status){var i;if("json"===t.dataType)try{i=JSON.parse(r.responseText),e("success",i,r.status,r)}catch(t){e("error",r,"parseerror")}else i="text"===r.responseType||""===r.responseType?r.responseText:r.response,e("success",i,r.status,r)}else e("error",r,r.status);e("complete",r,r.status)},r.onerror=function(t){s&&clearTimeout(s),e("error",r,r.status)},r.send(),t.timeout>0&&(s=setTimeout(function(){r.abort(),e("error",r,"timeout"),e("complete",r,"timeout")},t.timeout)),r},isAndroid:function(){return!!window.navigator.userAgent.match(/android/i)},isIOS:function(){return!!window.navigator.userAgent.match(/(ipad|iphone|ipod touch)/i)},isWebView:function(){if("loading"===document.readyState||"uninitialized"==document.readyState)throw new Error("isWebView() method is available after dom contents loaded.");return!!(window.cordova||window.phonegap||window.PhoneGap)},isWeiXin:function(){return!!window.navigator.userAgent.match(/MicroMessenger/i)},getUUID:function(){return window.device?window.device.uuid:"_haiyisoft_"},getMD5Encrypt:function(t){return CryptoJS.enc.Base64.stringify(CryptoJS.MD5(CryptoJS.enc.Utf8.parse(t)))},getDESEncStr:function(t,e){var n=CryptoJS.enc.Utf8.parse(e);return CryptoJS.DES.encrypt(t,n,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}).toString()},getDESDecStr:function(t,e){var n=CryptoJS.enc.Utf8.parse(e),i=CryptoJS.DES.decrypt({ciphertext:CryptoJS.enc.Base64.parse(t)},n,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7}),o="";try{o=i.toString(CryptoJS.enc.Utf8)}catch(t){console.log(t)}return o},createLoginSignature:function(t,e,n){var i=this.getMD5Encrypt(e),o=[t,i,n];o.sort();var r=o[0]+o[1]+o[2];return this.getMD5Encrypt(r)},arraySort:function(t,e){return t.sort(function(t){return function(e,n){if(t){return e[t]-n[t]}return e-n}}(e))},arrayGroupBy:function(t,e,n){var i={};t.forEach(function(t,o){var r="";r=n?t[e]?t[e].substr(0,10):"NULL":t[e],i[r]=i[r]||[],i[r].push(t)});var o=[];for(var r in i){var s={list:i[r]};s[e]=r,o.push(s)}return o},isString:function(t){return"string"==typeof t&&t.constructor===String},isNumber:function(t){return"number"==typeof t&&t.constructor===Number},isArray:function(t){return"object"==typeof t&&t.constructor===Array},isEmpty:function(t){return void 0===t||null===t||""===t},saveLocal:function(t,e){localStorage.setItem(t,JSON.stringify(e))},getLocal:function(t){return JSON.parse(localStorage.getItem(t))},removeLocal:function(t){localStorage.removeItem(t)},convertToArray:function(t){var e=[];return angular.isArray(t)?e=t:e.push(t),e},isMobileNumber:function(t){return!!t&&(t=(t+"").replace("+86",""),/^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(t))},isValidPassword:function(t){if(!t)return!1;if(t.length<8||t.length>16)return!1;var e=0;return t.match("[a-zA-Z]")&&e++,t.match("[0-9]")&&e++,t.match("(([!-~]+)[^A-Za-z0-9])")&&e++,e>=2},isEmail:function(t){return!!t&&/^([\.a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/.test(t)},hexEncode:function(t){var e,n,i="";for(n=0;n<t.length;n++)e=t.charCodeAt(n).toString(16),i+=("000"+e).slice(-4);return i},hexDecode:function(t){var e,n=t.match(/.{1,4}/g)||[],i="";for(e=0;e<n.length;e++)i+=String.fromCharCode(parseInt(n[e],16));return i}};return a}]),t.factory("$hyDateUtil",[function(){function t(t){return new Date(t.getFullYear(),t.getMonth(),1)}function e(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function n(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function i(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function o(t){return new Date(t.getFullYear()+1,t.getMonth(),1)}function r(t){return new Date(t.getFullYear()-1,t.getMonth(),1)}function s(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}function a(t,e){return t.getDate()==e.getDate()&&s(t,e)}function l(t,e){return s(n(t),e)}function c(t,e){return s(e,i(t))}function u(t,e){return v((t.getTime()+e.getTime())/2)}function h(e){var n=t(e);return Math.floor((n.getDay()+e.getDate()-1)/7)}function d(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)}function p(t,n){var i=new Date(t.getFullYear(),t.getMonth()+n,1),o=e(i);return o<t.getDate()?i.setDate(o):i.setDate(t.getDate()),i}function f(t,e){return 12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth())}function m(t){return new Date(t.getFullYear(),t.getMonth(),e(t))}function g(t){return null!=t&&t.getTime&&!isNaN(t.getTime())}function _(t){g(t)&&t.setHours(0,0,0,0)}function v(t){var e;return e=angular.isUndefined(t)?new Date:new Date(t),_(e),e}function y(t,e,n){return(!angular.isDate(e)||e<=t)&&(!angular.isDate(n)||n>=t)}return{getFirstDateOfMonth:t,getNumberOfDaysInMonth:e,getDateInNextMonth:n,getDateInPreviousMonth:i,isInNextMonth:l,isInPreviousMonth:c,getDateMidpoint:u,isSameMonthAndYear:s,getWeekOfMonth:h,incrementDays:d,incrementMonths:p,getLastDateOfMonth:m,isSameDay:a,getMonthDistance:f,isValidDate:g,setDateTimeToMidnight:_,createDateAtMidnight:v,isDateWithinRange:y,getDateInPreviousYear:r,getDateInNextYear:o}}]),t.factory("$hyDateLocale",["$locale",function(t){function e(t){if(t){for(;t.indexOf("-")>=0;)t=t.replace("-","/");7===t.length&&(t+="/01"),t=t.replace(".0","")}return new Date(t)}function n(t){return t=t.trim(),/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/.test(t)}function i(t){return service.shortMonths[t.getMonth()]+" "+t.getFullYear()}function o(t){return"Week "+t}function r(e){return[t.DATETIME_FORMATS.DAY[e.getDay()],t.DATETIME_FORMATS.MONTH[e.getMonth()],s[e.getDate()],e.getFullYear()].join(" ")}for(var s=Array(32),a=1;a<=31;a++)s[a]=a;var l={Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:""},c=t.DATETIME_FORMATS.DAY.map(function(t){return l[t]});return{months:t.DATETIME_FORMATS.MONTH,shortMonths:t.DATETIME_FORMATS.SHORTMONTH,days:t.DATETIME_FORMATS.DAY,shortDays:c,dates:s,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:function(t,e){var n=e,i=["","","","","","",""];return n=n.replace(/yyyy|YYYY/,t.getFullYear()),n=n.replace(/yy|YY/,t.getYear()%100>9?t.getYear()%100+"":"0"+t.getYear()%100),n=n.replace(/MM/,t.getMonth()>8?t.getMonth()+1+"":"0"+(t.getMonth()+1)),n=n.replace(/M/g,t.getMonth()+1),n=n.replace(/w|W/g,i[t.getDay()]),n=n.replace(/dd|DD/,t.getDate()>9?t.getDate()+"":"0"+t.getDate()),n=n.replace(/d|D/g,t.getDate()),n=n.replace(/hh|HH/,t.getHours()>9?t.getHours()+"":"0"+t.getHours()),n=n.replace(/h|H/g,t.getHours()),n=n.replace(/mm/,t.getMinutes()>9?t.getMinutes()+"":"0"+t.getMinutes()),n=n.replace(/m/g,t.getMinutes()),n=n.replace(/ss|SS/,t.getSeconds()>9?t.getSeconds()+"":"0"+t.getSeconds()),n=n.replace(/s|S/g,t.getSeconds())},parseDate:e,isDateComplete:n,monthHeaderFormatter:i,weekNumberFormatter:o,longDateFormatter:r,msgCalendar:"Calendar",msgOpenCalendar:"Open calendar",getTimerFromDate:function(t){return(t.getHours()<10?"0"+t.getHours():t.getHours().toString())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes().toString())}}}]),t.factory("$hyColorUtil",[function(){function t(t){var e="#"===t[0]?t.substr(1):t,n=e.length/3,i=e.substr(0,n),o=e.substr(n,n),r=e.substr(2*n);return 1===n&&(i+=i,o+=o,r+=r),"rgba("+parseInt(i,16)+","+parseInt(o,16)+","+parseInt(r,16)+",0.1)"}function e(t){return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),(t&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):"").toUpperCase()}function n(t){return t.replace(")",", 0.1)").replace("(","a(")}function i(t){return t?t.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}return{rgbaToHex:e,hexToRgba:t,rgbToRgba:n,rgbaToRgb:i}}])}()}catch(t){alert(JSON.stringify(t))}